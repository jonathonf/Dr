(function(a){function l(){}function n(){}function e(){}function g(){}function h(){}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var b,c,d,v,w,k=this.Opal={},p={},f=function(){};f.prototype=k;k.constructor=f;k.constants=[];k.global=this;k.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var m=k.hasOwnProperty;k.slice=Array.prototype.slice;var q=4;k.uid=function(){return q+=
2};k.cvars={};k.gvars={};k.exit=function(a){k.gvars.DEBUG&&console.log("Exited with status "+a)};k.exceptions=[];k.pop_exception=function(){k.gvars["!"]=k.exceptions.pop()||b};k.get=function(a){var d=this[a];return null==d?this.base.$const_get(a):d};k.create_scope=function(a,d,b){var c=function(){},f=c.prototype=new a.constructor;d.$$scope=f;d.$$base_module=a.base;f.base=d;f.constructor=c;f.constants=[];b&&(k.cdecl(a,b,d),c.displayName=b+"_scope_alloc")};k.casgn=function(a,c,f){function e(a,d){a.$$name=
d;for(d in a.$$scope){var c=a.$$scope[d];c.$$name===b&&(c.$$is_class||c.$$is_module)&&e(c,d)}}var g=a.$$scope;if(f.$$is_class||f.$$is_module){if(f.$$is_class||f.$$base_module===d)f.$$base_module=a;f.$$name===b&&f.$$base_module.$$name!==b&&e(f,c)}g.constants.push(c);g[c]=f;if(a.$$is_module&&a.$$dep)for(g=0;g<a.$$dep.length;g++)k.casgn(a.$$dep[g],c,f);return f};k.cdecl=function(a,d,b){(b.$$is_class||b.$$is_module)&&null==b.$$orig_scope&&(b.$$name=d,b.$$orig_scope=a,b.$$base_module=a.base,a.constructor[d]=
b);a.constants.push(d);return a[d]=b};k.klass=function(a,b,f,e){var g,h;a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof b&&(h=b,b=d);if((g=a.$$scope[f])&&g.$$orig_scope===a.$$scope){if(!g.$$is_class)throw k.TypeError.$new(f+" is not a class");if(b&&g.$$super!==b)throw k.TypeError.$new("superclass mismatch for class "+f);return g}null==b&&(b=d);e=h||k.boot_class_alloc(f,e,b);g=k.setup_class_object(f,e,b.$$name,b.constructor);g.$$super=b;g.$$parent=b;k.create_scope(a.$$scope,g,f);a[f]=
g;h?k.bridge(g,e):(b!==d&&b!==c&&k.donate_constants(b,g),b.$inherited&&b.$inherited(g));return g};k.boot_class_alloc=function(a,d,b){if(b){var c=function(){};c.prototype=b.$$proto||b.prototype;d.prototype=new c}a&&(d.displayName=a+"_alloc");return d.prototype.constructor=d};k.setup_class_object=function(a,d,c,f){var e=function(){};e.prototype=f.prototype;e.displayName=c;c=function(){};c.prototype=new e;e=new c;e.$$alloc=d;e.$$name=a||b;e.$$id=k.uid();c.displayName="#<Class:"+(a||"#<Class:"+e.$$id+
">")+">";e.$$proto=d.prototype;e.$$proto.$$class=e;e.constructor=c;e.$$is_class=!0;e.$$class=w;e.$$inc=[];return e};k.module=function(a,b){var c;a.$$is_class||a.$$is_module||(a=a.$$class);if(m.call(a.$$scope,b)){if(c=a.$$scope[b],!c.$$is_module&&c!==d)throw k.TypeError.$new(b+" is not a module");}else c=k.module_allocate(),k.create_scope(a.$$scope,c,b);return c};k.module_initialize=function(a,d){if(d!==b){var c=d.$$s;d.$$s=null;d.call(a);d.$$s=c}return b};k.module_allocate=function(){function a(){}
var d=function(){};d.prototype=g.prototype;a.prototype=new d;var d=new a,c=v;d.$$id=k.uid();a.displayName="#<Class:#<Module:"+d.$$id+">>";d.$$proto={};d.constructor=a;d.$$is_module=!0;d.$$class=v;d.$$super=c;d.$$parent=c;d.$$inc=[];d.$$is_module=!0;d.$$dep=[];d.$$name=b;return d};k.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?k.build_class_singleton_class(a):k.build_object_singleton_class(a)};k.build_class_singleton_class=function(a){var d,b;if(a.$$meta)return a.$$meta;
d=a.constructor;b=a===c?w:k.build_class_singleton_class(a.$$super);d=k.setup_class_object(null,d,b.$$name,b.constructor);d.$$super=b;d.$$parent=b;k.create_scope(a.$$scope,d);d.$$is_singleton=!0;d.$$singleton_of=a;return a.$$meta=d};k.build_object_singleton_class=function(a){var d=a.$$class,b="#<Class:#<"+d.$$name+":"+d.$$id+">>",c=k.boot_class_alloc(b,function(){},d),b=k.setup_class_object(b,c,d.$$name,d.constructor);b.$$super=d;b.$$parent=d;b.$$class=d.$$class;b.$$scope=d.$$scope;b.$$proto=a;b.$$is_singleton=
!0;b.$$singleton_of=a;return a.$$meta=b};k.bridge_method=function(a,d,b,c){var f,e,g,h;f=a.$$bridge.$ancestors();e=0;for(h=f.length;e<h;e++){g=f[e];if(m.call(g.$$proto,b)&&g.$$proto[b]&&!g.$$proto[b].$$donated&&!g.$$proto[b].$$stub&&g!==d)break;if(g===d){a.prototype[b]=c;break}}};k._bridge=function(a,d){var b,c,f,e;if("function"===typeof a){b=d.$__id__();c=d.$instance_methods();for(e=c.length-1;0<=e;e--)f="$"+c[e],k.bridge_method(a,d,f,d.$$proto[f]);p[b]||(p[b]=[]);p[b].push(a)}else if(b=p[a.$__id__()]){for(e=
b.length-1;0<=e;e--)k._bridge(b[e],d);p[d.$__id__()]=b.slice()}};k.append_features=function(a,d){var b,c,f,e,g;for(g=d.$$inc.length-1;0<=g;g--)if(d.$$inc[g]===a)return;d.$$inc.push(a);a.$$dep.push(d);k._bridge(d,a);d.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:d.$$parent,$$module:a,$$iclass:!0};b=a.$$proto;c=d.$$proto;f=a.$instance_methods();for(g=f.length-1;0<=g;g--)if(e="$"+f[g],!c.hasOwnProperty(e)||c[e].$$donated||c[e].$$stub)c[e]=b[e],c[e].$$donated=a;k.donate_constants(a,d)};k.stubs=
{};k.bridge=function(a,d){if(d.$$bridge)throw k.ArgumentError.$new("already bridged");k.stub_subscribers.push(d.prototype);for(var b in k.stubs)b in d.prototype||(d.prototype[b]=k.stub_for(b));d.prototype.$$class=a;d.$$bridge=a;b=a.$ancestors();for(var c=b.length-1;0<=c;c--)k._bridge(d,b[c]);for(var e in l.prototype){var f=l.prototype[f];!f||!f.$$stub||e in d.prototype||(d.prototype[e]=f)}return a};k.donate_constants=function(a,d){for(var b=a.$$scope.constants,c=d.$$scope,f=c.constants,e=0,g=b.length;e<
g;e++)f.push(b[e]),c[b[e]]=a.$$scope[b[e]]};k.donate=function(a,d){var b=a.$$dep,c=a.$$proto[d],e,f,g,h,m,l,v,p,n,q;if(b)for(e=0,f=b.length;e<f;e++){g=b[e];h=g.$$proto;m=h[d];if(!h.hasOwnProperty(d)||m.$$donated||m.$$stub)if(h.hasOwnProperty(d)&&!m.$$stub){l=g.$$inc;v=0;for(p=l.length;v<p;v++)l[v]===m.$$donated&&(n=v),l[v]===a&&(q=v);n<=q&&(h[d]=c,h[d].$$donated=a)}else h[d]=c,h[d].$$donated=a;g.$$dep&&k.donate(g,d)}};k.ancestors=function(a){for(var d=[],b;a;){d.push(a);for(var c=0;c<a.$$inc.length;c++){b=
k.ancestors(a.$$inc[c]);for(var e=0;e<b.length;e++)d.push(b[e])}a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return d};k.add_stubs=function(a){var d,b=k.stub_subscribers,c,e=a.length,f,g=b.length,h,m;for(c=0;c<e;c++)for(h=a[c],k.stubs[h]=!0,m=k.stub_for(h),f=0;f<g;f++)d=b[f],h in d||(d[h]=m)};k.stub_subscribers=[l.prototype];k.add_stub_for=function(a,d){var b=k.stub_for(d);a[d]=b};k.stub_for=function(a){function d(){this.$method_missing.$$p=
d.$$p;d.$$p=null;for(var b=Array(arguments.length),c=0,e=b.length;c<e;c++)b[c]=arguments[c];return this.$method_missing.apply(this,[a.slice(1)].concat(b))}d.$$stub=!0;return d};k.ac=function(a,d,b,c){var e="",e=b.$$is_class||b.$$is_module?e+(b.$$name+"."):e+(b.$$class.$$name+"#");throw k.ArgumentError.$new("["+(e+c)+"] wrong number of arguments("+a+" for "+d+")");};k.block_ac=function(a,d,b){throw k.ArgumentError.$new("`block in "+b+"': wrong number of arguments ("+a+" for "+d+")");};k.find_super_dispatcher=
function(a,d,b,c,e){b=e?a.$$is_class||a.$$is_module?e.$$super:a.$$class.$$proto:k.find_obj_super_dispatcher(a,d,b);b=b["$"+d];if(!c&&b.$$stub&&k.Kernel.$method_missing===a.$method_missing)throw k.NoMethodError.$new("super: no superclass method `"+d+"' for "+a,d);return b};k.find_iter_super_dispatcher=function(a,d,b,c,e){if(!b)throw k.RuntimeError.$new("super called outside of method");if(e&&b.$$define_meth)throw k.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");
b.$$def&&(d=b.$$jsid);return k.find_super_dispatcher(a,d,b,c)};k.find_obj_super_dispatcher=function(a,d,b){a=a.$$meta||a.$$class;a=k.find_owning_class(a,b);if(!a)throw Error("could not find current class for super()");return k.find_super_func(a,"$"+d,b)};k.find_owning_class=function(a,d){for(var b=d.$$owner;!(!a||a.$$iclass&&a.$$module===d.$$donated||a.$$iclass&&a.$$module===b||b.$$is_singleton&&a===b.$$singleton_of.$$class)&&a!==b;)a=a.$$parent;return a};k.find_super_func=function(a,d,b){for(a=a.$$parent;a;){var c=
a.$$proto[d];if(c&&c!==b)break;a=a.$$parent}return a.$$proto};k.ret=function(a){k.returner.$v=a;throw k.returner;};k.brk=function(a,d){d.$v=a;throw d;};k.new_brk=function(){return Error("unexpected break")};k.yield1=function(a,d){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");var b=a.$$has_top_level_mlhs_arg,c=a.$$has_trailing_comma_in_args;if(1<a.length||(b||c)&&1===a.length)d=k.to_ary(d);return(1<a.length||c&&1===a.length)&&d.$$is_array?a.apply(null,d):a(d)};k.yieldX=function(a,
d){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");if(1<a.length&&1===d.length&&d[0].$$is_array)return a.apply(null,d[0]);if(!d.$$is_array){for(var b=Array(d.length),c=0,e=b.length;c<e;c++)b[c]=d[c];return a.apply(null,b)}return a.apply(null,d)};k.rescue=function(a,d){for(var b=0;b<d.length;b++){var c=d[b];if(c.$$is_array){if(c=k.rescue(a,c))return c}else if(c["$==="](a))return c}return null};k.is_a=function(a,d){if(a.$$meta===d)return!0;var b,c,e=k.ancestors(a.$$class);b=0;
for(c=e.length;b<c;b++)if(e[b]===d)return!0;e=k.ancestors(a.$$meta);b=0;for(c=e.length;b<c;b++)if(e[b]===d)return!0;return!1};k.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var d=a.$to_hash();if(d.$$is_hash)return d;throw k.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+d.$$class+")");}throw k.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};k.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",
!0)){var d=a.$to_ary();if(d===b)return[a];if(d.$$is_array)return d;throw k.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+d.$$class+")");}return[a]};k.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var d=a.$to_a();if(d===b)return[a];if(d.$$is_array)return d;throw k.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+d.$$class+")");}return[a]};k.extract_kwargs=function(a){var d=a[a.length-1];return null!=
d&&d["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),d.$to_hash()):k.hash2([],{})};k.kwrestargs=function(a,d){var b=[],c={},e=null,f=a.$$smap;for(e in f)d[e]||(b.push(e),c[e]=f[e]);return k.hash2(b,c)};k.send=function(a,d){for(var b=Array(Math.max(arguments.length-2,0)),c=0,e=b.length;c<e;c++)b[c]=arguments[c+2];return(c=a["$"+d])?c.apply(a,b):a.$method_missing.apply(a,[d].concat(b))};k.block_send=function(a,d,b){for(var c=Array(Math.max(arguments.length-3,0)),e=0,f=c.length;e<
f;e++)c[e]=arguments[e+3];return(e=a["$"+d])?(e.$$p=b,e.apply(a,c)):a.$method_missing.apply(a,[d].concat(c))};k.defn=function(a,d,c){a.$$proto[d]=c;c.$$owner=a;a.$$is_module&&(k.donate(a,d),a.$$module_function&&k.defs(a,d,c));if(a.$__id__&&!a.$__id__.$$stub){var e=p[a.$__id__()];if(e)for(var f=e.length-1;0<=f;f--)k.bridge_method(e[f],a,d,c)}c=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||c?c&&c.$singleton_method_added&&!c.$singleton_method_added.$$stub&&c.$singleton_method_added(d.substr(1)):
a.$method_added(d.substr(1));return b};k.defs=function(a,d,b){k.defn(k.get_singleton_class(a),d,b)};k.def=function(a,d,b){a.$$eval||!a.$$is_class&&!a.$$is_module?k.defs(a,d,b):k.defn(a,d,b)};k.rdef=function(a,d){if(!m.call(a.$$proto,d))throw k.NameError.$new("method '"+d.substr(1)+"' not defined in "+a.$name());delete a.$$proto[d];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(d.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&
a.$method_removed(d.substr(1))};k.udef=function(a,d){if(!a.$$proto[d]||a.$$proto[d].$$stub)throw k.NameError.$new("method '"+d.substr(1)+"' not defined in "+a.$name());k.add_stub_for(a.$$proto,d);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(d.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(d.substr(1))};k.alias=function(a,d,b){var c="$"+d,e="$"+b,f=a.$$proto["$"+b];if(a.$$eval)return k.alias(k.get_singleton_class(a),
d,b);if("function"!==typeof f||f.$$stub){for(d=a.$$super;"function"!==typeof f&&d;)f=d[e],d=d.$$super;if("function"!==typeof f||f.$$stub)throw k.NameError.$new("undefined method `"+b+"' for class `"+a.$name()+"'");}k.defn(a,c,f);return a};k.alias_native=function(a,d,b){d="$"+d;var c=a.$$proto[b];if("function"!==typeof c||c.$$stub)throw k.NameError.$new("undefined native method `"+b+"' for class `"+a.$name()+"'");k.defn(a,d,c);return a};k.hash_init=function(a){a.$$smap={};a.$$map={};a.$$keys=[]};k.hash_clone=
function(a,d){d.$$none=a.$$none;d.$$proc=a.$$proc;for(var b=0,c=a.$$keys.length,e,f;b<c;b++)e=a.$$keys[b],e.$$is_string?f=a.$$smap[e]:(f=e.value,e=e.key),k.hash_put(d,e,f)};k.hash_put=function(d,b,c){if(b.$$is_string)d.$$smap.hasOwnProperty(b)||d.$$keys.push(b),d.$$smap[b]=c;else{var e=b.$hash(),f,g;if(d.$$map.hasOwnProperty(e)){for(f=d.$$map[e];f;){if(b===f.key||b["$eql?"](f.key)){g=a;f.value=c;break}g=f;f=f.next}g&&(f={key:b,key_hash:e,value:c},d.$$keys.push(f),g.next=f)}else f={key:b,key_hash:e,
value:c},d.$$keys.push(f),d.$$map[e]=f}};k.hash_get=function(a,d){if(d.$$is_string){if(a.$$smap.hasOwnProperty(d))return a.$$smap[d]}else{var b=d.$hash();if(a.$$map.hasOwnProperty(b))for(b=a.$$map[b];b;){if(d===b.key||d["$eql?"](b.key))return b.value;b=b.next}}};k.hash_delete=function(a,d){var b,c=a.$$keys,e=c.length,f;if(d.$$is_string){if(!a.$$smap.hasOwnProperty(d))return;for(b=0;b<e;b++)if(c[b]===d){c.splice(b,1);break}f=a.$$smap[d];delete a.$$smap[d];return f}var g=d.$hash();if(a.$$map.hasOwnProperty(g))for(var h=
a.$$map[g],k;h;){if(d===h.key||d["$eql?"](h.key)){f=h.value;for(b=0;b<e;b++)if(c[b]===h){c.splice(b,1);break}k&&h.next?k.next=h.next:k?delete k.next:h.next?a.$$map[g]=h.next:delete a.$$map[g];return f}k=h;h=h.next}};k.hash_rehash=function(d){for(var b=0,c=d.$$keys.length,e,f,g;b<c;b++)if(!d.$$keys[b].$$is_string&&(e=d.$$keys[b].key.$hash(),e!==d.$$keys[b].key_hash)){f=d.$$map[d.$$keys[b].key_hash];for(g=a;f;){if(f===d.$$keys[b]){g&&f.next?g.next=f.next:g?delete g.next:f.next?d.$$map[d.$$keys[b].key_hash]=
f.next:delete d.$$map[d.$$keys[b].key_hash];break}g=f;f=f.next}d.$$keys[b].key_hash=e;if(d.$$map.hasOwnProperty(e)){f=d.$$map[e];for(g=a;f;){if(f===d.$$keys[b]){g=a;break}g=f;f=f.next}g&&(g.next=d.$$keys[b])}else d.$$map[e]=d.$$keys[b]}};k.hash=function(){var a=arguments.length,d,b,c,e,f;if(1===a&&arguments[0].$$is_hash)return arguments[0];d=new k.Hash.$$alloc;k.hash_init(d);if(1===a&&arguments[0].$$is_array){a=arguments[0];c=a.length;for(b=0;b<c;b++){if(2!==a[b].length)throw k.ArgumentError.$new("value not of length 2: "+
a[b].$inspect());e=a[b][0];f=a[b][1];k.hash_put(d,e,f)}return d}if(1===a){a=arguments[0];for(e in a)a.hasOwnProperty(e)&&(f=a[e],k.hash_put(d,e,f));return d}if(0!==a%2)throw k.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)e=arguments[b],f=arguments[b+1],k.hash_put(d,e,f);return d};k.hash2=function(a,d){var b=new k.Hash.$$alloc;b.$$smap=d;b.$$map={};b.$$keys=a;return b};k.range=function(a,d,b){var c=new k.Range.$$alloc;c.begin=a;c.end=d;c.exclude=b;return c};k.ivar=function(a){return"constructor"===
a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};k.modules={};k.loaded_features=["corelib/runtime"];k.current_dir=".";k.require_table={"corelib/runtime":!0};k.normalize=function(a){var d,b=[];"."!==k.current_dir&&(a=k.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var c=0,e=a.length;c<e;c++)d=a[c],""!==d&&(".."===d?b.pop():b.push(d));return b.join("/")};k.loaded=function(a){var d,
b,c;d=0;for(b=a.length;d<b;d++){c=k.normalize(a[d]);if(k.require_table[c])break;k.loaded_features.push(c);k.require_table[c]=!0}};k.load=function(a){a=k.normalize(a);k.loaded([a]);var d=k.modules[a];if(d)d(k);else if(d=k.config.missing_require_severity,a="cannot load such file -- "+a,"error"===d)if(k.LoadError)k.LoadError.$new(a);else throw a;else"warning"===d&&console.warn("WARNING: LoadError: "+a);return!0};k.require=function(a){a=k.normalize(a);return k.require_table[a]?!1:k.load(a)};k.boot_class_alloc("BasicObject",
l);k.boot_class_alloc("Object",n,l);k.boot_class_alloc("Module",g,n);k.boot_class_alloc("Class",e,g);k.BasicObject=c=k.setup_class_object("BasicObject",l,"Class",e);k.Object=d=k.setup_class_object("Object",n,"BasicObject",c.constructor);k.Module=v=k.setup_class_object("Module",g,"Object",d.constructor);k.Class=w=k.setup_class_object("Class",e,"Module",v.constructor);k.constants.push("BasicObject");k.constants.push("Object");k.constants.push("Module");k.constants.push("Class");c.$$class=w;d.$$class=
w;v.$$class=w;w.$$class=w;c.$$super=null;d.$$super=c;v.$$super=d;w.$$super=v;c.$$parent=null;d.$$parent=c;v.$$parent=d;w.$$parent=v;k.base=d;c.$$scope=d.$$scope=k;c.$$orig_scope=d.$$orig_scope=k;v.$$scope=d.$$scope;v.$$orig_scope=d.$$orig_scope;w.$$scope=d.$$scope;w.$$orig_scope=d.$$orig_scope;d.$$proto.toString=function(){return this.$to_s()};d.$$proto.$require=k.require;k.top=new d.$$alloc;k.klass(d,d,"NilClass",h);b=k.nil=new h;b.$$id=4;b.call=b.apply=function(){throw k.LocalJumpError.$new("no block given");
};k.breaker=Error("unexpected break (old)");k.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global);"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window);
Opal.modules["corelib/helpers"]=function(a){var l=a.nil,n=a.module;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to! $!= $[] $upcase".split(" "));return function(e){e=n(e,"Opal");var g=e.$$scope,h,b,c,d,v,w,k,p,f,m,q,y,I;a.defs(e,"$bridge",h=function(d,b){return a.bridge(d,b)},h.$$arity=2);a.defs(e,"$type_error",b=function(a,d,b,c){var e;null==b&&(b=l);null==c&&(c=l);return(e=!1!==b&&b!==l&&null!=b?c:b)===l||null==e||e.$$is_boolean&&
1!=e?g.get("TypeError").$new("no implicit conversion of "+a.$class()+" into "+d):g.get("TypeError").$new("can't convert "+a.$class()+" into "+d+" ("+a.$class()+"#"+b+" gives "+c.$class())},b.$$arity=-3);a.defs(e,"$coerce_to",c=function(a,d,b){var c;if((c=d["$==="](a))!==l&&null!=c&&(!c.$$is_boolean||1==c))return a;((c=a["$respond_to?"](b))===l||null==c||c.$$is_boolean&&1!=c)&&this.$raise(this.$type_error(a,d));return a.$__send__(b)},c.$$arity=3);a.defs(e,"$coerce_to!",d=function(a,d,b){var c,e=l,
e=this.$coerce_to(a,d,b);((c=d["$==="](e))===l||null==c||c.$$is_boolean&&1!=c)&&this.$raise(this.$type_error(a,d,b,e));return e},d.$$arity=3);a.defs(e,"$coerce_to?",v=function(a,d,b){var c,e=l;if((c=a["$respond_to?"](b))===l||null==c||c.$$is_boolean&&1!=c)return l;e=this.$coerce_to(a,d,b);if((c=e["$nil?"]())!==l&&null!=c&&(!c.$$is_boolean||1==c))return l;((c=d["$==="](e))===l||null==c||c.$$is_boolean&&1!=c)&&this.$raise(this.$type_error(a,d,b,e));return e},v.$$arity=3);a.defs(e,"$try_convert",w=function(a,
d,b){var c;return(c=d["$==="](a))===l||null==c||c.$$is_boolean&&1!=c?(c=a["$respond_to?"](b))===l||null==c||c.$$is_boolean&&1!=c?l:a.$__send__(b):a},w.$$arity=3);a.defs(e,"$compare",k=function(a,d){var b,c=l,c=a["$<=>"](d);(b=c===l)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(g.get("ArgumentError"),"comparison of "+a.$class()+" with "+d.$class()+" failed");return c},k.$$arity=2);a.defs(e,"$destructure",p=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var d=Array(a.length),
b=0,c=d.length;b<c;b++)d[b]=a[b];return d},p.$$arity=1);a.defs(e,"$respond_to?",f=function(a,d){return null!=a&&a.$$class?a["$respond_to?"](d):!1},f.$$arity=2);a.defs(e,"$inspect",m=function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()},m.$$arity=1);a.defs(e,"$instance_variable_name!",q=function(a){var d;a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str");((d=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===l||null==d||d.$$is_boolean&&1!=d)&&this.$raise(g.get("NameError").$new("'"+
a+"' is not allowed as an instance variable name",a));return a},q.$$arity=1);a.defs(e,"$const_name!",y=function(a){var d;a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str");(d=a["$[]"](0)["$!="](a["$[]"](0).$upcase()))===l||null==d||d.$$is_boolean&&1!=d||this.$raise(g.get("NameError"),"wrong constant name "+a);return a},y.$$arity=1);a.defs(e,"$pristine",I=function(a,d){var b,c=arguments.length;b=c-1;0>b&&(b=0);b=Array(b);for(var e=1;e<c;e++)b[e-1]=arguments[e];for(e=b.length-1;0<=e;e--)c=b[e],
a.$$proto["$"+c].$$pristine=!0;return l},I.$$arity=-2)}(a.base)};
Opal.modules["corelib/module"]=function(a){function l(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}function n(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}var e=a.nil,g=a.klass,h=a.range,b=a.hash2;a.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $coerce_to! $new $const_name! $=~ $inject $const_get $split $const_missing $== $! $start_with? $to_proc $lambda $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $to_s $__id__ $constants $include?".split(" "));return function(c,
$super){function v(){}var w=v=g(c,$super,"Module",v),k=w.$$scope,p,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta;a.defs(w,"$allocate",p=function(){var b;b=a.module_allocate();a.create_scope(a.Module.$$scope,b,null);return b},p.$$arity=0);a.defn(w,"$initialize",f=function(){var b=f.$$p||e;f.$$p=null;return a.module_initialize(this,b)},f.$$arity=0);a.defn(w,"$===",m=function(b){var c;return(c=null==b)===e||null==c||c.$$is_boolean&&1!=c?a.is_a(b,
this):!1},m.$$arity=1);a.defn(w,"$<",q=function(b){var c;((c=k.get("Module")["$==="](b))===e||null==c||c.$$is_boolean&&1!=c)&&this.$raise(k.get("TypeError"),"compared with non class/module");var f,t;if(this===b)return!1;f=0;c=a.ancestors(this);for(t=c.length;f<t;f++)if(c[f]===b)return!0;f=0;c=a.ancestors(b);for(t=c.length;f<t;f++)if(c[f]===this)return!1;return e},q.$$arity=1);a.defn(w,"$<=",y=function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==e&&null!=b?b:l(this,a)},y.$$arity=1);a.defn(w,"$>",
I=function(a){var b;((b=k.get("Module")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(k.get("TypeError"),"compared with non class/module");return l(a,this)},I.$$arity=1);a.defn(w,"$>=",E=function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==e&&null!=b?b:n(this,a)},E.$$arity=1);a.defn(w,"$<=>",z=function(a){var b,c=e;if(this===a)return 0;if((b=k.get("Module")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b)return e;c=l(this,a);return(b=c["$nil?"]())===e||null==b||b.$$is_boolean&&1!=
b?!1!==c&&c!==e&&null!=c?-1:1:e},z.$$arity=1);a.defn(w,"$alias_method",u=function(b,c){a.alias(this,b,c);return this},u.$$arity=2);a.defn(w,"$alias_native",H=function(b,c){null==c&&(c=b);a.alias_native(this,b,c);return this},H.$$arity=-2);a.defn(w,"$ancestors",L=function(){return a.ancestors(this)},L.$$arity=0);a.defn(w,"$append_features",J=function(b){a.append_features(this,b);return this},J.$$arity=1);a.defn(w,"$attr_accessor",N=function(b){var c,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=
0;f<e;f++)c[f-0]=arguments[f];this.$attr_reader.apply(this,a.to_a(c));return this.$attr_writer.apply(this,a.to_a(c))},N.$$arity=-1);a.alias(w,"attr","attr_accessor");a.defn(w,"$attr_reader",Q=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var t=0;t<f;t++)c[t-0]=arguments[t];f=this.$$proto;for(t=c.length-1;0<=t;t--){var g=c[t],h="$"+g,g=a.ivar(g),k=function(a){return function(){return null==this[a]?e:this[a]}}(g);f[g]=e;k.$$parameters=[];k.$$arity=0;this.$$is_singleton?f.constructor.prototype[h]=
k:a.defn(this,h,k)}return e},Q.$$arity=-1);a.defn(w,"$attr_writer",A=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var t=0;t<f;t++)c[t-0]=arguments[t];f=this.$$proto;for(t=c.length-1;0<=t;t--){var g=c[t],h="$"+g+"=",g=a.ivar(g),k=function(a){return function(b){return this[a]=b}}(g);k.$$parameters=[["req"]];k.$$arity=1;f[g]=e;this.$$is_singleton?f.constructor.prototype[h]=k:a.defn(this,h,k)}return e},A.$$arity=-1);a.defn(w,"$autoload",r=function(a,b){var c;(c=this.$$autoload)||
(c=this.$$autoload={});c[a]=b;return e},r.$$arity=2);a.defn(w,"$class_variable_get",P=function(b){var c;b=k.get("Opal")["$coerce_to!"](b,k.get("String"),"to_str");(c=3>b.length||"@@"!==b.slice(0,2))===e||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("NameError").$new("class vars should start with @@",b));var f=a.cvars[b.slice(2)];(c=null==f)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("NameError").$new("uninitialized class variable @@a in",b));return f},P.$$arity=1);a.defn(w,"$class_variable_set",
S=function(b,c){var f;b=k.get("Opal")["$coerce_to!"](b,k.get("String"),"to_str");(f=3>b.length||"@@"!==b.slice(0,2))===e||null==f||f.$$is_boolean&&1!=f||this.$raise(k.get("NameError"));return a.cvars[b.slice(2)]=c},S.$$arity=2);a.defn(w,"$constants",R=function(){return this.$$scope.constants.slice(0)},R.$$arity=0);a.defn(w,"$const_defined?",Z=function(b,c){var f;null==c&&(c=!0);b=k.get("Opal")["$const_name!"](b);((f=b["$=~"](k.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===e||null==f||f.$$is_boolean&&
1!=f)&&this.$raise(k.get("NameError").$new("wrong constant name "+b,b));f=[this.$$scope];if(c||this===a.Object)for(var t=this.$$super;t!==a.BasicObject;)f.push(t.$$scope),t=t.$$super;for(var t=0,g=f.length;t<g;t++)if(f[t].hasOwnProperty(b))return!0;return!1},Z.$$arity=-2);a.defn(w,"$const_get",aa=function(b,c){var f,t,g;null==c&&(c=!0);b=k.get("Opal")["$const_name!"](b);0===b.indexOf("::")&&"::"!==b&&(b=b.slice(2));if((f=-1!=b.indexOf("::")&&"::"!=b)!==e&&null!=f&&(!f.$$is_boolean||1==f))return(f=
(t=b.$split("::")).$inject,f.$$p=(g=function(a,b){null==a&&(a=e);null==b&&(b=e);return a.$const_get(b)},g.$$s=this,g.$$arity=2,g),f).call(t,this);((f=b["$=~"](k.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===e||null==f||f.$$is_boolean&&1!=f)&&this.$raise(k.get("NameError").$new("wrong constant name "+b,b));f=[this.$$scope];if(c||this==a.Object)for(t=this.$$super;t!==a.BasicObject;)f.push(t.$$scope),t=t.$$super;t=0;for(g=f.length;t<g;t++)if(f[t].hasOwnProperty(b))return f[t][b];return this.$const_missing(b)},
aa.$$arity=-2);a.defn(w,"$const_missing",V=function(a){var b=e;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),this.$const_get(a);b=this["$=="](k.get("Object"))?a:""+this+"::"+a;return this.$raise(k.get("NameError").$new("uninitialized constant "+b,a))},V.$$arity=1);a.defn(w,"$const_set",O=function(b,c){var f,t;b=k.get("Opal")["$const_name!"](b);(f=!1!==(t=b["$=~"](k.get("Opal").$$scope.get("CONST_NAME_REGEXP"))["$!"]())&&t!==e&&null!=t?t:b["$start_with?"]("::"))===e||null==f||
f.$$is_boolean&&1!=f||this.$raise(k.get("NameError").$new("wrong constant name "+b,b));a.casgn(this,b,c);return c},O.$$arity=2);a.defn(w,"$define_method",T=function(b,c){var f,t,g,h,F=this,m=T.$$p||e,l=e;T.$$p=null;(f=void 0===c&&m===e)===e||null==f||f.$$is_boolean&&1!=f||F.$raise(k.get("ArgumentError"),"tried to create a Proc object without a block");!1!==(f=m)&&f!==e&&null!=f?f:m=function(){l=c;return k.get("Proc")["$==="](l)?c:k.get("Method")["$==="](l)?c.$to_proc().$$unbound:k.get("UnboundMethod")["$==="](l)?
(t=(g=F).$lambda,t.$$p=(h=function(b){var f=h.$$s||this,t,g,k=e,k=arguments.length;t=k-0;0>t&&(t=0);t=Array(t);for(var C=0;C<k;C++)t[C-0]=arguments[C];k=c.$bind(f);return(g=k).$call.apply(g,a.to_a(t))},h.$$s=F,h.$$arity=-1,h),t).call(g):F.$raise(k.get("TypeError"),"wrong argument type "+m.$class()+" (expected Proc/Method)")}();m.$$jsid=b;m.$$s=null;m.$$def=m;m.$$define_meth=!0;a.defn(F,"$"+b,m);return b},T.$$arity=-2);a.defn(w,"$remove_method",Y=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=
0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];f=0;for(e=c.length;f<e;f++)a.rdef(this,"$"+c[f]);return this},Y.$$arity=-1);a.defn(w,"$singleton_class?",X=function(){return!!this.$$is_singleton},X.$$arity=0);a.defn(w,"$include",ea=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];for(c=b.length-1;0<=c;c--)f=b[c],f!==this&&(f.$$is_module||this.$raise(k.get("TypeError"),"wrong argument type "+f.$class()+" (expected Module)"),f.$append_features(this),
f.$included(this));return this},ea.$$arity=-1);a.defn(w,"$included_modules",ha=function(){var a,b=function(a){for(var c=[],f=0;f!=a.$$inc.length;f++){var e=a.$$inc[f];c.push(e);c=c.concat(b(e))}return c};a=b(this);if(this.$$is_class)for(var c=this;c;c=c.$$super)a=a.concat(b(c));return a},ha.$$arity=0);a.defn(w,"$include?",ia=function(a){for(var b=this;b;b=b.$$super)for(var c=0;c!=b.$$inc.length;c++)if(a===b.$$inc[c])return!0;return!1},ia.$$arity=1);a.defn(w,"$instance_method",ka=function(a){var b=
this.$$proto["$"+a];b&&!b.$$stub||this.$raise(k.get("NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return k.get("UnboundMethod").$new(this,b,a)},ka.$$arity=1);a.defn(w,"$instance_methods",la=function(b){null==b&&(b=!0);var c=[],f=this.$$proto,e;for(e in f)if("$"===e.charAt(0)&&"function"===typeof f[e]&&!f[e].$$stub){if(!this.$$is_module){if(this!==a.BasicObject&&f[e]===a.BasicObject.$$proto[e])continue;if(!b&&!f.hasOwnProperty(e))continue;if(!b&&f[e].$$donated)continue}c.push(e.substr(1))}return c},
la.$$arity=-1);a.defn(w,"$included",fa=function(a){return e},fa.$$arity=1);a.defn(w,"$extended",da=function(a){return e},da.$$arity=1);a.defn(w,"$method_added",F=function(a){return e},F.$$arity=-1);a.defn(w,"$method_removed",ba=function(a){return e},ba.$$arity=-1);a.defn(w,"$method_undefined",x=function(a){return e},x.$$arity=-1);a.defn(w,"$module_eval",ca=function(c){var f,g,t,U,F=ca.$$p||e,oa=e,m=U=U=U=e,oa=arguments.length;U=oa-0;0>U&&(U=0);U=Array(U);for(var l=0;l<oa;l++)U[l-0]=arguments[l];ca.$$p=
null;(f=(g=F["$nil?"](),!1!==g&&g!==e&&null!=g?!!a.compile:g))===e||null==f||f.$$is_boolean&&1!=f?(f=n(U.$size(),0))===e||null==f||f.$$is_boolean&&1!=f||k.get("Kernel").$raise(k.get("ArgumentError"),"wrong number of arguments ("+U.$size()+" for 0)"):(((f=h(1,3,!1)["$cover?"](U.$size()))===e||null==f||f.$$is_boolean&&1!=f)&&k.get("Kernel").$raise(k.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=a.to_a(U),oa=null==f[0]?e:f[0],U=null==f[1]?e:f[1],f,U=b(["file","eval"],{file:!1!==(f=
U)&&f!==e&&null!=f?f:"(eval)",eval:!0}),U=a.hash({arity_check:!1}).$merge(U),m=k.get("Opal").$compile(oa,U),F=(f=(g=k.get("Kernel")).$proc,f.$$p=(t=function(){return function(a){return eval(m)}(t.$$s||this)},t.$$s=this,t.$$arity=0,t),f).call(g));f=F.$$s;F.$$s=null;g=F.apply(this,[this]);F.$$s=f;return g},ca.$$arity=-1);a.alias(w,"class_eval","module_eval");a.defn(w,"$module_exec",B=function(a){var b,c=B.$$p||e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];
B.$$p=null;c===e&&this.$raise(k.get("LocalJumpError"),"no block given");f=c.$$s;c.$$s=null;b=c.apply(this,b);c.$$s=f;return b},B.$$arity=-1);a.alias(w,"class_exec","module_exec");a.defn(w,"$method_defined?",W=function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub},W.$$arity=1);a.defn(w,"$module_function",ma=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];if(0===c.length)this.$$module_function=!0;else for(f=0,e=c.length;f<e;f++){var g="$"+c[f];
a.defs(this,g,this.$$proto[g])}return this},ma.$$arity=-1);a.defn(w,"$name",na=function(){if(this.$$full_name)return this.$$full_name;for(var b=[],c=this;c;){if(c.$$name===e)return 0===b.length?e:b.join("::");b.unshift(c.$$name);c=c.$$base_module;if(c===a.Object)break}return 0===b.length?e:this.$$full_name=b.join("::")},na.$$arity=0);a.defn(w,"$remove_class_variable",pa=function(a){return e},pa.$$arity=-1);a.defn(w,"$remove_const",ra=function(a){var b=this.$$scope[a];delete this.$$scope[a];return b},
ra.$$arity=1);a.defn(w,"$to_s",K=function(){var b;return!1!==(b=a.Module.$name.call(this))&&b!==e&&null!=b?b:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},K.$$arity=0);a.defn(w,"$undef_method",sa=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];f=0;for(e=c.length;f<e;f++)a.udef(this,"$"+c[f]);return this},sa.$$arity=-1);return(a.defn(w,"$instance_variables",ta=function(){var a=e,a=this.$constants(),b=[],c;for(c in this)this.hasOwnProperty(c)&&
"$"!==c.charAt(0)&&"constructor"!==c&&!a["$include?"](c)&&b.push("@"+c);return b},ta.$$arity=0),e)&&"instance_variables"}(a.base,null)};
Opal.modules["corelib/class"]=function(a){var l=a.top,n=a.nil,e=a.klass;a.add_stubs(["$require","$allocate","$name","$to_s"]);l.$require("corelib/module");return function(g,$super){function b(){}var c=b=e(g,$super,"Class",b),d=c.$$scope,l,w,k,p,f,m;a.defs(c,"$new",l=function(b){var c=l.$$p||n;null==b&&(b=d.get("Object"));l.$$p=null;if(!b.$$is_class)throw a.TypeError.$new("superclass must be a Class");var f=a.boot_class_alloc(null,function(){},b),f=a.setup_class_object(null,f,b.$$name,b.constructor);
f.$$super=b;f.$$parent=b;a.create_scope(b.$$scope,f);b.$inherited(f);a.module_initialize(f,c);return f},l.$$arity=-1);a.defn(c,"$allocate",w=function(){var d=new this.$$alloc;d.$$id=a.uid();return d},w.$$arity=0);a.defn(c,"$inherited",k=function(a){return n},k.$$arity=1);a.defn(c,"$new",p=function(a){var d,b=p.$$p||n,c=arguments.length;d=c-0;0>d&&(d=0);d=Array(d);for(var f=0;f<c;f++)d[f-0]=arguments[f];p.$$p=null;c=this.$allocate();c.$initialize.$$p=b;c.$initialize.apply(c,d);return c},p.$$arity=
-1);a.defn(c,"$superclass",f=function(){return this.$$super||n},f.$$arity=0);return(a.defn(c,"$to_s",m=function(){var d;m.$$p=null;var b=this.$$singleton_of;return b&&(b.$$is_class||b.$$is_module)?"#<Class:"+b.$name()+">":b?"#<Class:#<"+b.$$class.$name()+":0x"+b.$$id.$to_s(16)+">>":(d=a.find_super_dispatcher(this,"to_s",m,!1),d.$$p=null,d).call(this)},m.$$arity=0),n)&&"to_s"}(a.base,null)};
Opal.modules["corelib/basic_object"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var n=a.nil,e=a.klass,g=a.range,h=a.hash2;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $> $new $inspect".split(" "));return function(b,$super){function d(){}var v=d=e(b,$super,"BasicObject",d),w=v.$$scope,k,p,f,m,q,y,I,E,z,u,H,L,J;a.defn(v,"$initialize",k=function(a){return n},k.$$arity=-1);a.defn(v,"$==",p=function(a){return this===a},p.$$arity=1);
a.defn(v,"$eql?",f=function(a){return this["$=="](a)},f.$$arity=1);a.alias(v,"equal?","==");a.defn(v,"$__id__",m=function(){return this.$$id||(this.$$id=a.uid())},m.$$arity=0);a.defn(v,"$__send__",q=function(a,d){var b,f=q.$$p||n,e=arguments.length;b=e-1;0>b&&(b=0);b=Array(b);for(var g=1;g<e;g++)b[g-1]=arguments[g];q.$$p=null;if(e=this["$"+a])return f!==n&&(e.$$p=f),e.apply(this,b);f!==n&&(this.$method_missing.$$p=f);return this.$method_missing.apply(this,[a].concat(b))},q.$$arity=-2);a.defn(v,"$!",
y=function(){return!1},y.$$arity=0);a.defn(v,"$!=",I=function(a){return this["$=="](a)["$!"]()},I.$$arity=1);a.alias(v,"equal?","==");a.defn(v,"$instance_eval",E=function(d){var b,f,e,k,m=E.$$p||n,v=n,u=k=k=k=n,v=arguments.length;k=v-0;0>k&&(k=0);k=Array(k);for(var p=0;p<v;p++)k[p-0]=arguments[p];E.$$p=null;(b=(f=m["$nil?"](),!1!==f&&f!==n&&null!=f?!!a.compile:f))===n||null==b||b.$$is_boolean&&1!=b?(b=l(k.$size(),0))===n||null==b||b.$$is_boolean&&1!=b||w.get("Kernel").$raise(w.get("ArgumentError"),
"wrong number of arguments ("+k.$size()+" for 0)"):(((b=g(1,3,!1)["$cover?"](k.$size()))===n||null==b||b.$$is_boolean&&1!=b)&&w.get("Kernel").$raise(w.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),b=a.to_a(k),v=null==b[0]?n:b[0],k=null==b[1]?n:b[1],b,k=h(["file","eval"],{file:!1!==(b=k)&&b!==n&&null!=b?b:"(eval)",eval:!0}),k=a.hash({arity_check:!1}).$merge(k),u=w.get("Opal").$compile(v,k),m=(b=(f=w.get("Kernel")).$proc,b.$$p=(e=function(){return function(a){return eval(u)}(e.$$s||
this)},e.$$s=this,e.$$arity=0,e),b).call(f));b=m.$$s;var q;m.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{q=m.call(this,this)}finally{this.$$eval=!1}}else q=m.call(this,this);m.$$s=b;return q},E.$$arity=-1);a.defn(v,"$instance_exec",z=function(a){var d,b=z.$$p||n,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];z.$$p=null;!1!==b&&b!==n&&null!=b||w.get("Kernel").$raise(w.get("ArgumentError"),"no block given");var f=b.$$s,g;b.$$s=null;if(this.$$is_class||
this.$$is_module){this.$$eval=!0;try{g=b.apply(this,d)}finally{this.$$eval=!1}}else g=b.apply(this,d);b.$$s=f;return g},z.$$arity=-1);a.defn(v,"$singleton_method_added",u=function(a){return n},u.$$arity=-1);a.defn(v,"$singleton_method_removed",H=function(a){return n},H.$$arity=-1);a.defn(v,"$singleton_method_undefined",L=function(a){return n},L.$$arity=-1);return(a.defn(v,"$method_missing",J=function(a,d){var b,f,e=arguments.length;f=e-1;0>f&&(f=0);f=Array(f);for(var g=1;g<e;g++)f[g-1]=arguments[g];
J.$$p=null;return w.get("Kernel").$raise(w.get("NoMethodError").$new((b=this.$inspect&&!this.$inspect.$$stub)===n||null==b||b.$$is_boolean&&1!=b?"undefined method `"+a+"' for "+this.$$class:"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class,a))},J.$$arity=-2),n)&&"method_missing"}(a.base,null)};
Opal.modules["corelib/kernel"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var e=a.nil,g=a.module,h=a.gvars,b=a.hash2,c=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $> $size $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $print $format $puts $each $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $open $include".split(" "));
(function(d){d=g(d,"Kernel");var c=d.$$scope,w,k,p,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta,va,ua,ja,t,U,qa,oa,wa,xa,za,Aa,ga,ya,M;a.defn(d,"$method_missing",w=function(a,b){var d,f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var e=1;e<f;e++)d[e-1]=arguments[e];w.$$p=null;return this.$raise(c.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,d))},w.$$arity=-2);a.defn(d,"$=~",k=function(a){return!1},k.$$arity=
1);a.defn(d,"$!~",p=function(a){return this["$=~"](a)["$!"]()},p.$$arity=1);a.defn(d,"$===",f=function(a){var b;return!1!==(b=this.$object_id()["$=="](a.$object_id()))&&b!==e&&null!=b?b:this["$=="](a)},f.$$arity=1);a.defn(d,"$<=>",m=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==e?0:e},m.$$arity=1);a.defn(d,"$method",q=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(c.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return c.get("Method").$new(this,
b,a)},q.$$arity=1);a.defn(d,"$methods",y=function(b){null==b&&(b=!0);var d=[],c;for(c in this)"$"==c[0]&&"function"===typeof this[c]&&(0!=b&&b!==e||a.hasOwnProperty.call(this,c))&&void 0===this[c].$$stub&&d.push(c.substr(1));return d},y.$$arity=-1);a.alias(d,"public_methods","methods");a.defn(d,"$Array",I=function(a){var b;if(a===e)return[];if(a.$$is_array)return a;b=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_ary");if(b!==e)return b;b=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_a");return b!==
e?b:[a]},I.$$arity=1);a.defn(d,"$at_exit",E=function(){var a,b=E.$$p||e;null==h.__at_exit__&&(h.__at_exit__=e);E.$$p=null;!1!==(a=h.__at_exit__)&&a!==e&&null!=a?a:h.__at_exit__=[];return h.__at_exit__["$<<"](b)},E.$$arity=0);a.defn(d,"$caller",z=function(){return[]},z.$$arity=0);a.defn(d,"$class",u=function(){return this.$$class},u.$$arity=0);a.defn(d,"$copy_instance_variables",H=function(a){for(var b in a)a.hasOwnProperty(b)&&"$"!==b.charAt(0)&&(this[b]=a[b])},H.$$arity=1);a.defn(d,"$copy_singleton_methods",
L=function(b){var d;if(b.hasOwnProperty("$$meta")){var c=a.get_singleton_class(b).$$proto,f=a.get_singleton_class(this).$$proto;for(d in c)"$"===d.charAt(0)&&c.hasOwnProperty(d)&&(f[d]=c[d])}for(d in b)"$"===d.charAt(0)&&"$"!==d.charAt(1)&&b.hasOwnProperty(d)&&(this[d]=b[d])},L.$$arity=1);a.defn(d,"$clone",J=function(){var a=e,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},J.$$arity=0);a.defn(d,"$initialize_clone",N=
function(a){return this.$initialize_copy(a)},N.$$arity=1);a.defn(d,"$define_singleton_method",Q=function(a,b){var d,c,f=Q.$$p||e;Q.$$p=null;return(d=(c=this.$singleton_class()).$define_method,d.$$p=f.$to_proc(),d).call(c,a,b)},Q.$$arity=-2);a.defn(d,"$dup",A=function(){var a=e,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},A.$$arity=0);a.defn(d,"$initialize_dup",r=function(a){return this.$initialize_copy(a)},r.$$arity=1);a.defn(d,"$enum_for",P=function(b,
d){var f,t,g,h=P.$$p||e;null==b&&(b="each");var k=arguments.length;g=k-1;0>g&&(g=0);g=Array(g);for(var U=1;U<k;U++)g[U-1]=arguments[U];P.$$p=null;return(f=(t=c.get("Enumerator")).$for,f.$$p=h.$to_proc(),f).apply(t,[this,b].concat(a.to_a(g)))},P.$$arity=-1);a.alias(d,"to_enum","enum_for");a.defn(d,"$equal?",S=function(a){return this===a},S.$$arity=1);a.defn(d,"$exit",R=function(b){var d,c,f=e;null==h.__at_exit__&&(h.__at_exit__=e);null==b&&(b=!0);for(!1!==(d=h.__at_exit__)&&d!==e&&null!=d?d:h.__at_exit__=
[];(c=l(h.__at_exit__.$size(),0))!==e&&null!=c&&(!c.$$is_boolean||1==c);)f=h.__at_exit__.$pop(),f.$call();(d=!0===b)===e||null==d||d.$$is_boolean&&1!=d||(b=0);a.exit(b);return e},R.$$arity=-1);a.defn(d,"$extend",Z=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];d=this.$singleton_class();for(f=b.length-1;0<=f;f--){var e=b[f];e.$$is_module||this.$raise(c.get("TypeError"),"wrong argument type "+e.$class()+" (expected Module)");e.$append_features(d);
e.$extended(this)}return this},Z.$$arity=-1);a.defn(d,"$format",aa=function(a,b){function d(){A&32&&ja.$raise(c.get("ArgumentError"),"flag after width");A&128&&ja.$raise(c.get("ArgumentError"),"flag after precision")}function f(){A&32&&ja.$raise(c.get("ArgumentError"),"width given twice");A&128&&ja.$raise(c.get("ArgumentError"),"width after precision")}function t(a){a>=m.length&&ja.$raise(c.get("ArgumentError"),"too few arguments");return m[a]}function g(){switch(ba){case -1:ja.$raise(c.get("ArgumentError"),
"unnumbered("+T+") mixed with numbered");case -2:ja.$raise(c.get("ArgumentError"),"unnumbered("+T+") mixed with named")}ba=T++;return t(ba-1)}function k(a){0<ba&&ja.$raise(c.get("ArgumentError"),"numbered("+a+") after unnumbered("+ba+")");-2===ba&&ja.$raise(c.get("ArgumentError"),"numbered("+a+") after named");1>a&&ja.$raise(c.get("ArgumentError"),"invalid index - "+a+"$");ba=-1;return t(a-1)}function U(){return void 0===z?g():z}function M(b){var d;for(d="";;u++){u===p&&ja.$raise(c.get("ArgumentError"),
"malformed format string - %*[0-9]");if(48>a.charCodeAt(u)||57<a.charCodeAt(u))return u--,d=parseInt(d,10)||0,2147483647<d&&ja.$raise(c.get("ArgumentError"),""+b+" too big"),d;d+=a.charAt(u)}}function F(b){b=M(b);"$"===a.charAt(u+1)?(u++,b=k(b)):b=g();return b.$to_int()}var oa,ja=this,m,l=e;null==h.DEBUG&&(h.DEBUG=e);var l=arguments.length,qa=l-1;0>qa&&(qa=0);m=Array(qa);for(qa=1;qa<l;qa++)m[qa-1]=arguments[qa];(oa=m.$length()["$=="](1)?m["$[]"](0)["$respond_to?"]("to_ary"):m.$length()["$=="](1))!==
e&&null!=oa&&(!oa.$$is_boolean||1==oa)&&(l=c.get("Opal")["$coerce_to?"](m["$[]"](0),c.get("Array"),"to_ary"),(oa=l["$nil?"]())===e||null==oa||oa.$$is_boolean&&1!=oa)&&(m=l.$to_a());oa="";var l=0,u,p=a.length,x,B,n,r,W,q,ga,Q,w,z,T=1,ba=0,A;for(u=a.indexOf("%");-1!==u;u=a.indexOf("%",u)){B=void 0;A=0;W=r=-1;z=void 0;qa=u;u++;switch(a.charAt(u)){case "%":l=u;case "":case "\n":case "\x00":u++;continue}a:for(;u<p;u++)switch(a.charAt(u)){case " ":d();A|=16;continue a;case "#":d();A|=1;continue a;case "+":d();
A|=4;continue a;case "-":d();A|=2;continue a;case "0":d();A|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":x=M("width");if("$"===a.charAt(u+1)){if(u+2===p){B="%";u++;break a}void 0!==z&&ja.$raise(c.get("ArgumentError"),"value given twice - %"+x+"$");z=k(x);u++}else f(),A|=32,r=x;continue a;case "<":case "{":for(n="<"===a.charAt(u)?">":"}",x="",u++;;u++){u===p&&ja.$raise(c.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(u)===
n)if(0<ba&&ja.$raise(c.get("ArgumentError"),"named "+x+" after unnumbered("+ba+")"),-1===ba&&ja.$raise(c.get("ArgumentError"),"named "+x+" after numbered"),ba=-2,void 0!==m[0]&&m[0].$$is_hash||ja.$raise(c.get("ArgumentError"),"one hash required"),z=m[0].$fetch(x),">"===n)continue a;else{B=z.toString();-1!==W&&(B=B.slice(0,W));if(A&2)for(;B.length<r;)B+=" ";else for(;B.length<r;)B=" "+B;break a}x+=a.charAt(u)}case "*":u++;f();A|=32;r=F("width");0>r&&(A|=2,r=-r);continue a;case ".":A&128&&ja.$raise(c.get("ArgumentError"),
"precision given twice");A|=192;W=0;u++;if("*"===a.charAt(u)){u++;W=F("precision");0>W&&(A&=-65);continue a}W=M("precision");continue a;case "d":case "i":case "u":x=ja.$Integer(U());if(0<=x){for(B=x.toString();B.length<W;)B="0"+B;if(A&2){if(A&4||A&16)B=(A&4?"+":" ")+B;for(;B.length<r;)B+=" "}else if(A&8&&-1===W){for(;B.length<r-(A&4||A&16?1:0);)B="0"+B;if(A&4||A&16)B=(A&4?"+":" ")+B}else{if(A&4||A&16)B=(A&4?"+":" ")+B;for(;B.length<r;)B=" "+B}}else{for(B=(-x).toString();B.length<W;)B="0"+B;if(A&2)for(B=
"-"+B;B.length<r;)B+=" ";else if(A&8&&-1===W){for(;B.length<r-1;)B="0"+B;B="-"+B}else for(B="-"+B;B.length<r;)B=" "+B}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(u)){case "b":case "B":q=2;ga="0b";Q=/^1+/;w="1";break;case "o":q=8;ga="0";Q=/^3?7+/;w="7";break;case "x":case "X":q=16,ga="0x",Q=/^f+/,w="f"}x=ja.$Integer(U());if(0<=x){for(B=x.toString(q);B.length<W;)B="0"+B;if(A&2){if(A&4||A&16)B=(A&4?"+":" ")+B;for(A&1&&0!==x&&(B=ga+B);B.length<r;)B+=" "}else if(A&8&&-1===W){for(;B.length<
r-(A&4||A&16?1:0)-(A&1&&0!==x?ga.length:0);)B="0"+B;A&1&&0!==x&&(B=ga+B);if(A&4||A&16)B=(A&4?"+":" ")+B}else{A&1&&0!==x&&(B=ga+B);if(A&4||A&16)B=(A&4?"+":" ")+B;for(;B.length<r;)B=" "+B}}else if(A&4||A&16){for(B=(-x).toString(q);B.length<W;)B="0"+B;if(A&2)for(A&1&&(B=ga+B),B="-"+B;B.length<r;)B+=" ";else if(A&8&&-1===W){for(;B.length<r-1-(A&1?2:0);)B="0"+B;A&1&&(B=ga+B);B="-"+B}else for(A&1&&(B=ga+B),B="-"+B;B.length<r;)B=" "+B}else{for(B=(x>>>0).toString(q).replace(Q,w);B.length<W-2;)B=w+B;if(A&
2)for(B=".."+B,A&1&&(B=ga+B);B.length<r;)B+=" ";else if(A&8&&-1===W){for(;B.length<r-2-(A&1?ga.length:0);)B=w+B;B=".."+B;A&1&&(B=ga+B)}else for(B=".."+B,A&1&&(B=ga+B);B.length<r;)B=" "+B}a.charAt(u)===a.charAt(u).toUpperCase()&&(B=B.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":x=ja.$Float(U());if(0<=x||isNaN(x)){if(Infinity===x)B="Inf";else switch(a.charAt(u)){case "f":B=x.toFixed(-1===W?6:W);break;case "e":case "E":B=x.toExponential(-1===W?6:W);break;case "g":case "G":B=x.toExponential(),
n=parseInt(B.split("e")[1],10),-4>n||n>=(-1===W?6:W)||(B=x.toPrecision(-1===W?A&1?6:void 0:W))}if(A&2){if(A&4||A&16)B=(A&4?"+":" ")+B;for(;B.length<r;)B+=" "}else if(A&8&&Infinity!==x&&!isNaN(x)){for(;B.length<r-(A&4||A&16?1:0);)B="0"+B;if(A&4||A&16)B=(A&4?"+":" ")+B}else{if(A&4||A&16)B=(A&4?"+":" ")+B;for(;B.length<r;)B=" "+B}}else{if(-Infinity===x)B="Inf";else switch(a.charAt(u)){case "f":B=(-x).toFixed(-1===W?6:W);break;case "e":case "E":B=(-x).toExponential(-1===W?6:W);break;case "g":case "G":B=
(-x).toExponential(),n=parseInt(B.split("e")[1],10),-4>n||n>=(-1===W?6:W)||(B=(-x).toPrecision(-1===W?A&1?6:void 0:W))}if(A&2)for(B="-"+B;B.length<r;)B+=" ";else if(A&8&&-Infinity!==x){for(;B.length<r-1;)B="0"+B;B="-"+B}else for(B="-"+B;B.length<r;)B=" "+B}a.charAt(u)!==a.charAt(u).toUpperCase()||Infinity===x||-Infinity===x||isNaN(x)||(B=B.toUpperCase());B=B.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":ja.$raise(c.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");
case "c":x=U();x["$respond_to?"]("to_ary")&&(x=x.$to_ary()[0]);B=x["$respond_to?"]("to_str")?x.$to_str():String.fromCharCode(c.get("Opal").$coerce_to(x,c.get("Integer"),"to_int"));1!==B.length&&ja.$raise(c.get("ArgumentError"),"%c requires a character");if(A&2)for(;B.length<r;)B+=" ";else for(;B.length<r;)B=" "+B;break a;case "p":B=U().$inspect();-1!==W&&(B=B.slice(0,W));if(A&2)for(;B.length<r;)B+=" ";else for(;B.length<r;)B=" "+B;break a;case "s":B=U().$to_s();-1!==W&&(B=B.slice(0,W));if(A&2)for(;B.length<
r;)B+=" ";else for(;B.length<r;)B=" "+B;break a;default:ja.$raise(c.get("ArgumentError"),"malformed format string - %"+a.charAt(u))}void 0===B&&ja.$raise(c.get("ArgumentError"),"malformed format string - %");oa+=a.slice(l,qa)+B;l=u+1}h.DEBUG&&0<=ba&&T<m.length&&ja.$raise(c.get("ArgumentError"),"too many arguments for format string");return oa+a.slice(l)},aa.$$arity=-2);a.defn(d,"$hash",V=function(){return this.$__id__()},V.$$arity=0);a.defn(d,"$initialize_copy",O=function(a){return e},O.$$arity=1);
a.defn(d,"$inspect",T=function(){return this.$to_s()},T.$$arity=0);a.defn(d,"$instance_of?",Y=function(a){a.$$is_class||a.$$is_module||this.$raise(c.get("TypeError"),"class or module required");return this.$$class===a},Y.$$arity=1);a.defn(d,"$instance_variable_defined?",X=function(b){b=c.get("Opal")["$instance_variable_name!"](b);return a.hasOwnProperty.call(this,b.substr(1))},X.$$arity=1);a.defn(d,"$instance_variable_get",ea=function(b){b=c.get("Opal")["$instance_variable_name!"](b);b=this[a.ivar(b.substr(1))];
return null==b?e:b},ea.$$arity=1);a.defn(d,"$instance_variable_set",ha=function(b,d){b=c.get("Opal")["$instance_variable_name!"](b);return this[a.ivar(b.substr(1))]=d},ha.$$arity=2);a.defn(d,"$remove_instance_variable",ia=function(b){b=c.get("Opal")["$instance_variable_name!"](b);var d=a.ivar(b.substr(1));return this.hasOwnProperty(d)?(b=this[d],delete this[d],b):this.$raise(c.get("NameError"),"instance variable "+b+" not defined")},ia.$$arity=1);a.defn(d,"$instance_variables",ka=function(){var a=
[],b,d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&(b="$"===d.substr(-1)?d.slice(0,d.length-1):d,a.push("@"+b));return a},ka.$$arity=0);a.defn(d,"$Integer",la=function(a,b){var d=this,f,t;if(!a.$$is_string)return void 0!==b&&d.$raise(c.get("ArgumentError"),"base specified for non string value"),a===e&&d.$raise(c.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&d.$raise(c.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&
(f=a.$to_int(),f!==e)?f:c.get("Opal")["$coerce_to!"](a,c.get("Integer"),"to_i");void 0===b?b=0:(b=c.get("Opal").$coerce_to(b,c.get("Integer"),"to_int"),(1===b||0>b||36<b)&&d.$raise(c.get("ArgumentError"),"invalid radix "+b));f=a.toLowerCase();f=f.replace(/(\d)_(?=\d)/g,"$1");f=f.replace(/^(\s*[+-]?)(0[bodx]?)/,function(f,e,t){switch(t){case "0b":if(0===b||2===b)return b=2,e;case "0":case "0o":if(0===b||8===b)return b=8,e;case "0d":if(0===b||10===b)return b=10,e;case "0x":if(0===b||16===b)return b=
16,e}d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"')});b=0===b?10:b;t="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+t+"]+\\s*$")).test(f)||d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');f=parseInt(f,b);isNaN(f)&&d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return f},la.$$arity=-2);a.defn(d,"$Float",fa=function(a){var b;a===e&&this.$raise(c.get("TypeError"),"can't convert nil into Float");
if(a.$$is_string){b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(c.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return c.get("Opal")["$coerce_to!"](a,c.get("Float"),"to_f")},fa.$$arity=1);a.defn(d,"$Hash",da=function(a){var d,f;return(d=!1!==(f=a["$nil?"]())&&f!==e&&null!=f?f:a["$=="]([]))===e||null==d||d.$$is_boolean&&1!=d?(d=
c.get("Hash")["$==="](a))===e||null==d||d.$$is_boolean&&1!=d?c.get("Opal")["$coerce_to!"](a,c.get("Hash"),"to_hash"):a:b([],{})},da.$$arity=1);a.defn(d,"$is_a?",F=function(b){b.$$is_class||b.$$is_module||this.$raise(c.get("TypeError"),"class or module required");return a.is_a(this,b)},F.$$arity=1);a.alias(d,"kind_of?","is_a?");a.defn(d,"$lambda",ba=function(){var a=ba.$$p||e;ba.$$p=null;a.$$is_lambda=!0;return a},ba.$$arity=0);a.defn(d,"$load",x=function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),
"to_str");return a.load(b)},x.$$arity=1);a.defn(d,"$loop",ca=function(){var b=ca.$$p||e;ca.$$p=null;if(b===e)return this.$enum_for("loop");for(;;)a.yieldX(b,[])},ca.$$arity=0);a.defn(d,"$nil?",B=function(){return!1},B.$$arity=0);a.alias(d,"object_id","__id__");a.defn(d,"$printf",W=function(b){var d,c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var t=0;t<f;t++)c[t-0]=arguments[t];(d=l(c.$length(),0))===e||null==d||d.$$is_boolean&&1!=d||this.$print((d=this).$format.apply(d,a.to_a(c)));return e},
W.$$arity=-1);a.defn(d,"$proc",ma=function(){var a=ma.$$p||e;ma.$$p=null;!1!==a&&a!==e&&null!=a||this.$raise(c.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a},ma.$$arity=0);a.defn(d,"$puts",na=function(b){var d,c;null==h.stdout&&(h.stdout=e);var f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var t=0;t<f;t++)c[t-0]=arguments[t];return(d=h.stdout).$puts.apply(d,a.to_a(c))},na.$$arity=-1);a.defn(d,"$p",pa=function(a){var b,d,c,f=arguments.length;c=f-
0;0>c&&(c=0);c=Array(c);for(var t=0;t<f;t++)c[t-0]=arguments[t];(b=c.$each,b.$$p=(d=function(a){null==h.stdout&&(h.stdout=e);null==a&&(a=e);return h.stdout.$puts(a.$inspect())},d.$$s=this,d.$$arity=1,d),b).call(c);return(b=n(c.$length(),1))===e||null==b||b.$$is_boolean&&1!=b?c:c["$[]"](0)},pa.$$arity=-1);a.defn(d,"$print",ra=function(b){var d,c;null==h.stdout&&(h.stdout=e);var f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var t=0;t<f;t++)c[t-0]=arguments[t];return(d=h.stdout).$print.apply(d,
a.to_a(c))},ra.$$arity=-1);a.defn(d,"$warn",K=function(b){var d,c,f;null==h.VERBOSE&&(h.VERBOSE=e);null==h.stderr&&(h.stderr=e);var t=arguments.length;f=t-0;0>f&&(f=0);f=Array(f);for(var g=0;g<t;g++)f[g-0]=arguments[g];return(d=!1!==(c=h.VERBOSE["$nil?"]())&&c!==e&&null!=c?c:f["$empty?"]())===e||null==d||d.$$is_boolean&&1!=d?(d=h.stderr).$puts.apply(d,a.to_a(f)):e},K.$$arity=-1);a.defn(d,"$raise",sa=function(b,d,f){null==h["!"]&&(h["!"]=e);null==d&&(d=e);if(null==b&&h["!"]!==e)throw h["!"];null==
b?b=c.get("RuntimeError").$new():b.$$is_string?b=c.get("RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(d):b["$kind_of?"](c.get("Exception"))||(b=c.get("TypeError").$new("exception class/object expected"));h["!"]!==e&&a.exceptions.push(h["!"]);h["!"]=b;throw b;},sa.$$arity=-1);a.alias(d,"fail","raise");a.defn(d,"$rand",ta=function(a){if(void 0===a)return Math.random();if(a.$$is_range){var b=a.begin,d=a.end-b;a.exclude||d++;return this.$rand(d)+b}return Math.floor(Math.random()*
Math.abs(c.get("Opal").$coerce_to(a,c.get("Integer"),"to_int")))},ta.$$arity=-1);a.defn(d,"$respond_to?",va=function(a,b){var d;null==b&&(b=!1);if((d=this["$respond_to_missing?"](a,b))!==e&&null!=d&&(!d.$$is_boolean||1==d))return!0;d=this["$"+a];return"function"!==typeof d||d.$$stub?!1:!0},va.$$arity=-2);a.defn(d,"$respond_to_missing?",ua=function(a,b){return!1},ua.$$arity=-2);a.defn(d,"$require",ja=function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),"to_str");return a.require(b)},ja.$$arity=
1);a.defn(d,"$require_relative",t=function(b){c.get("Opal")["$try_convert!"](b,c.get("String"),"to_str");b=c.get("File").$expand_path(c.get("File").$join(a.current_file,"..",b));return a.require(b)},t.$$arity=1);a.defn(d,"$require_tree",U=function(b){b=c.get("File").$expand_path(b);b["$=="](".")&&(b="");for(var d in a.modules)d["$start_with?"](b)&&a.require(d);return e},U.$$arity=1);a.alias(d,"send","__send__");a.alias(d,"public_send","__send__");a.defn(d,"$singleton_class",qa=function(){return a.get_singleton_class(this)},
qa.$$arity=0);a.defn(d,"$sleep",oa=function(a){null==a&&(a=e);a===e&&this.$raise(c.get("TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(c.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(c.get("ArgumentError"),"time interval must be positive");for(var b=new Date;new Date-b<=1E3*a;);return a},oa.$$arity=-1);a.alias(d,"sprintf","format");a.alias(d,"srand","rand");a.defn(d,"$String",wa=function(a){var b;return!1!==(b=c.get("Opal")["$coerce_to?"](a,
c.get("String"),"to_str"))&&b!==e&&null!=b?b:c.get("Opal")["$coerce_to!"](a,c.get("String"),"to_s")},wa.$$arity=1);a.defn(d,"$tap",xa=function(){var b=xa.$$p||e;xa.$$p=null;a.yield1(b,this);return this},xa.$$arity=0);a.defn(d,"$to_proc",za=function(){return this},za.$$arity=0);a.defn(d,"$to_s",Aa=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Aa.$$arity=0);a.defn(d,"$catch",ga=function(b){var d=ga.$$p||e,f=e;ga.$$p=null;try{return a.yieldX(d,[])}catch(t){if(a.rescue(t,[c.get("UncaughtThrowError")])){f=
t;try{return f.$sym()["$=="](b)?f.$arg():this.$raise()}finally{a.pop_exception()}}else throw t;}},ga.$$arity=1);a.defn(d,"$throw",ya=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];return this.$raise(c.get("UncaughtThrowError").$new(b))},ya.$$arity=-1);a.defn(d,"$open",M=function(b){var d,f,t,g=M.$$p||e,h=arguments.length;t=h-0;0>t&&(t=0);t=Array(t);for(var k=0;k<h;k++)t[k-0]=arguments[k];M.$$p=null;return(d=(f=c.get("File")).$open,d.$$p=g.$to_proc(),
d).apply(f,a.to_a(t))},M.$$arity=-1)})(a.base);return function(a,$super){function b(){}var e=b=c(a,$super,"Object",b);return e.$include(e.$$scope.get("Kernel"))}(a.base,null)};
Opal.modules["corelib/error"]=function(a){var l=a.nil,n=a.klass,e=a.module;a.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));(function(e,$super){function b(){}var c=b=n(e,$super,"Exception",b),d,v,w,k,p,f,m,q;c.$$proto.message=l;a.defs(c,"$new",d=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var c=0;c<d;c++)b[c-0]=arguments[c];d=new this.$$alloc(0<b.length?b[0]:l);Error.captureStackTrace&&Error.captureStackTrace(d);d.name=this.$$name;
d.$initialize.apply(d,b);return d},d.$$arity=-1);a.defs(c,"$exception",v=function(b){var d,c=arguments.length;d=c-0;0>d&&(d=0);d=Array(d);for(var f=0;f<c;f++)d[f-0]=arguments[f];return this.$new.apply(this,a.to_a(d))},v.$$arity=-1);a.defn(c,"$initialize",w=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var c=0;c<d;c++)b[c-0]=arguments[c];return this.message=0<b.length?b[0]:l},w.$$arity=-1);a.defn(c,"$backtrace",k=function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,
15):a?a.slice(0,15):[]},k.$$arity=0);a.defn(c,"$exception",p=function(a){null==a&&(a=l);if(a===l||this===a)return this;var b=this.$clone();b.message=a;return b},p.$$arity=-1);a.defn(c,"$message",f=function(){return this.$to_s()},f.$$arity=0);a.defn(c,"$inspect",m=function(){var a,b=l,b=this.$to_s();return(a=b["$empty?"]())===l||null==a||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()},m.$$arity=0);return(a.defn(c,"$to_s",q=function(){var a,b;return!1!==
(a=(b=this.message,!1!==b&&b!==l&&null!=b?this.message.$to_s():b))&&a!==l&&null!=a?a:this.$class().$to_s()},q.$$arity=0),l)&&"to_s"})(a.base,Error);(function(a,$super){function b(){}b=n(a,$super,"ScriptError",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=n(a,$super,"SyntaxError",b);return l})(a.base,a.get("ScriptError"));(function(a,$super){function b(){}b=n(a,$super,"LoadError",b);return l})(a.base,a.get("ScriptError"));(function(a,$super){function b(){}b=n(a,$super,
"NotImplementedError",b);return l})(a.base,a.get("ScriptError"));(function(a,$super){function b(){}b=n(a,$super,"SystemExit",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=n(a,$super,"NoMemoryError",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=n(a,$super,"SignalException",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=n(a,$super,"Interrupt",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}
b=n(a,$super,"SecurityError",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=n(a,$super,"StandardError",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=n(a,$super,"ZeroDivisionError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=n(a,$super,"NameError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=n(a,$super,"NoMethodError",b);return l})(a.base,a.get("NameError"));(function(a,
$super){function b(){}b=n(a,$super,"RuntimeError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=n(a,$super,"LocalJumpError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=n(a,$super,"TypeError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=n(a,$super,"ArgumentError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=n(a,$super,"IndexError",b);return l})(a.base,a.get("StandardError"));
(function(a,$super){function b(){}b=n(a,$super,"StopIteration",b);return l})(a.base,a.get("IndexError"));(function(a,$super){function b(){}b=n(a,$super,"KeyError",b);return l})(a.base,a.get("IndexError"));(function(a,$super){function b(){}b=n(a,$super,"RangeError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=n(a,$super,"FloatDomainError",b);return l})(a.base,a.get("RangeError"));(function(a,$super){function b(){}b=n(a,$super,"IOError",b);return l})(a.base,a.get("StandardError"));
(function(a,$super){function b(){}b=n(a,$super,"SystemCallError",b);return l})(a.base,a.get("StandardError"));(function(g){g=e(g,"Errno").$$scope;(function(e,$super){function c(){}var d=c=n(e,$super,"EINVAL",c),g;return(a.defs(d,"$new",g=function(){var d;g.$$p=null;return(d=a.find_super_dispatcher(this,"new",g,!1,c),d.$$p=null,d).call(this,"Invalid argument")},g.$$arity=0),l)&&"new"})(g.base,g.get("SystemCallError"))})(a.base);(function(e,$super){function b(){}var c=b=n(e,$super,"UncaughtThrowError",
b),d;c.$$proto.sym=l;c.$attr_reader("sym","arg");return(a.defn(c,"$initialize",d=function(b){var c;d.$$p=null;this.sym=b["$[]"](0);var e=b.$length();(c="number"===typeof e?1<e:e["$>"](1))===l||null==c||c.$$is_boolean&&1!=c||(this.arg=b["$[]"](1));return(c=a.find_super_dispatcher(this,"initialize",d,!1),c.$$p=null,c).call(this,"uncaught throw "+this.sym.$inspect())},d.$$arity=1),l)&&"initialize"})(a.base,a.get("ArgumentError"));(function(e,$super){function b(){}var c=b=n(e,$super,"NameError",b),d;
c.$attr_reader("name");return(a.defn(c,"$initialize",d=function(b,c){var e;null==c&&(c=l);d.$$p=null;(e=a.find_super_dispatcher(this,"initialize",d,!1),e.$$p=null,e).call(this,b);return this.name=c},d.$$arity=-2),l)&&"initialize"})(a.base,null);return function(e,$super){function b(){}var c=b=n(e,$super,"NoMethodError",b),d;c.$attr_reader("args");return(a.defn(c,"$initialize",d=function(b,c,e){var g;null==c&&(c=l);null==e&&(e=[]);d.$$p=null;(g=a.find_super_dispatcher(this,"initialize",d,!1),g.$$p=
null,g).call(this,b,c);return this.args=e},d.$$arity=-2),l)&&"initialize"}(a.base,null)};
Opal.modules["corelib/constants"]=function(a){a.cdecl(a,"RUBY_PLATFORM","opal");a.cdecl(a,"RUBY_ENGINE","opal");a.cdecl(a,"RUBY_VERSION","2.2.3");a.cdecl(a,"RUBY_ENGINE_VERSION","0.10.1");a.cdecl(a,"RUBY_RELEASE_DATE","2016-07-06");a.cdecl(a,"RUBY_PATCHLEVEL",0);a.cdecl(a,"RUBY_REVISION",0);a.cdecl(a,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return a.cdecl(a,"RUBY_DESCRIPTION","opal "+a.get("RUBY_ENGINE_VERSION")+" ("+a.get("RUBY_RELEASE_DATE")+" revision "+a.get("RUBY_REVISION")+
")")};Opal.modules["opal/base"]=function(a){var l=a.top;a.add_stubs(["$require"]);l.$require("corelib/runtime");l.$require("corelib/helpers");l.$require("corelib/module");l.$require("corelib/class");l.$require("corelib/basic_object");l.$require("corelib/kernel");l.$require("corelib/error");return l.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var l=a.nil,n=a.klass;a.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(e,$super){function h(){}var b=h=n(e,$super,"NilClass",h),c=b.$$scope,d,v,w,k,p,f,m,q,y,I,E,z,u,H,L,J,N,Q;b.$$proto.$$meta=b;a.defn(b,"$!",d=function(){return!0},d.$$arity=0);a.defn(b,"$&",v=function(a){return!1},v.$$arity=1);a.defn(b,"$|",w=function(a){return!1!==a&&a!==l},w.$$arity=1);a.defn(b,"$^",k=function(a){return!1!==a&&a!==l},k.$$arity=1);a.defn(b,"$==",
p=function(a){return a===l},p.$$arity=1);a.defn(b,"$dup",f=function(){return this.$raise(c.get("TypeError"),"can't dup "+this.$class())},f.$$arity=0);a.defn(b,"$clone",m=function(){return this.$raise(c.get("TypeError"),"can't clone "+this.$class())},m.$$arity=0);a.defn(b,"$inspect",q=function(){return"nil"},q.$$arity=0);a.defn(b,"$nil?",y=function(){return!0},y.$$arity=0);a.defn(b,"$singleton_class",I=function(){return c.get("NilClass")},I.$$arity=0);a.defn(b,"$to_a",E=function(){return[]},E.$$arity=
0);a.defn(b,"$to_h",z=function(){return a.hash()},z.$$arity=0);a.defn(b,"$to_i",u=function(){return 0},u.$$arity=0);a.alias(b,"to_f","to_i");a.defn(b,"$to_s",H=function(){return""},H.$$arity=0);a.defn(b,"$to_c",L=function(){return c.get("Complex").$new(0,0)},L.$$arity=0);a.defn(b,"$rationalize",J=function(a){var b,d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];f=d.$length();(b="number"===typeof f?1<f:f["$>"](1))===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.get("ArgumentError"));
return this.$Rational(0,1)},J.$$arity=-1);a.defn(b,"$to_r",N=function(){return this.$Rational(0,1)},N.$$arity=0);return(a.defn(b,"$instance_variables",Q=function(){return[]},Q.$$arity=0),l)&&"instance_variables"})(a.base,null);return a.cdecl(a,"NIL",l)};
Opal.modules["corelib/boolean"]=function(a){var l=a.nil,n=a.klass;a.add_stubs(["$raise","$class"]);(function(e,$super){function h(){}var b=h=n(e,$super,"Boolean",h),c=b.$$proto,d=b.$$scope,v,w,k,p,f,m,q,y,I,E;c.$$is_boolean=!0;c.$$meta=b;a.defn(b,"$__id__",v=function(){return this.valueOf()?2:0},v.$$arity=0);a.alias(b,"object_id","__id__");a.defn(b,"$!",w=function(){return 1!=this},w.$$arity=0);a.defn(b,"$&",k=function(a){return 1==this?!1!==a&&a!==l:!1},k.$$arity=1);a.defn(b,"$|",p=function(a){return 1==
this?!0:!1!==a&&a!==l},p.$$arity=1);a.defn(b,"$^",f=function(a){return 1==this?!1===a||a===l:!1!==a&&a!==l},f.$$arity=1);a.defn(b,"$==",m=function(a){return 1==this===a.valueOf()},m.$$arity=1);a.alias(b,"equal?","==");a.alias(b,"eql?","==");a.defn(b,"$singleton_class",q=function(){return d.get("Boolean")},q.$$arity=0);a.defn(b,"$to_s",y=function(){return 1==this?"true":"false"},y.$$arity=0);a.defn(b,"$dup",I=function(){return this.$raise(d.get("TypeError"),"can't dup "+this.$class())},I.$$arity=0);
return(a.defn(b,"$clone",E=function(){return this.$raise(d.get("TypeError"),"can't clone "+this.$class())},E.$$arity=0),l)&&"clone"})(a.base,Boolean);a.cdecl(a,"TrueClass",a.get("Boolean"));a.cdecl(a,"FalseClass",a.get("Boolean"));a.cdecl(a,"TRUE",!0);return a.cdecl(a,"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var e=a.nil,g=a.module;a.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(h){h=g(h,"Comparable");var b=h.$$scope,c,d,v,w,k,p,f;a.defs(h,"$normalize",c=function(a){var d;return(d=b.get("Integer")["$==="](a))===e||null==d||d.$$is_boolean&&1!=d?(d=l(a,0))===e||
null==d||d.$$is_boolean&&1!=d?(d=n(a,0))===e||null==d||d.$$is_boolean&&1!=d?0:-1:1:a},c.$$arity=1);a.defn(h,"$==",d=function(d){var c,f=e;try{return(c=this["$equal?"](d))===e||null==c||c.$$is_boolean&&1!=c?this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):(c=f=this["$<=>"](d))===e||null==c||c.$$is_boolean&&1!=c?!1:0==b.get("Comparable").$normalize(f):!0}catch(g){if(a.rescue(g,[b.get("StandardError")]))try{return!1}finally{a.pop_exception()}else throw g;}},d.$$arity=
1);a.defn(h,"$>",v=function(a){var d,c=e;((d=c=this["$<=>"](a))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(b.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<b.get("Comparable").$normalize(c)},v.$$arity=1);a.defn(h,"$>=",w=function(a){var d,c=e;((d=c=this["$<=>"](a))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(b.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=b.get("Comparable").$normalize(c)},w.$$arity=
1);a.defn(h,"$<",k=function(a){var d,c=e;((d=c=this["$<=>"](a))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(b.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>b.get("Comparable").$normalize(c)},k.$$arity=1);a.defn(h,"$<=",p=function(a){var d,c=e;((d=c=this["$<=>"](a))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(b.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=b.get("Comparable").$normalize(c)},p.$$arity=
1);a.defn(h,"$between?",f=function(a,b){return n(this,a)||l(this,b)?!1:!0},f.$$arity=2)}(a.base)};
Opal.modules["corelib/regexp"]=function(a){var l=a.nil,n=a.klass,e=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super){function b(){}b=n(a,$super,"RegexpError",b);return l})(a.base,a.get("StandardError"));(function(g,$super){function b(){}var c=b=n(g,$super,"Regexp",b),d=c.$$proto,v=c.$$scope,w,k,p,f,m,q,y,I,E,z;a.cdecl(v,"IGNORECASE",1);a.cdecl(v,"MULTILINE",
4);d.$$is_regexp=!0;(function(b){var d=b.$$scope,c,f,g,k,m;a.defn(b,"$allocate",c=function(){var b,d=c.$$p,f=l,e=f=l;c.$$p=null;f=[];for(e=0;e<arguments.length;e++)f[e]=arguments[e];f=(b=a.find_super_dispatcher(this,"allocate",c,!1),b.$$p=d,b).apply(this,f);f.uninitialized=!0;return f},c.$$arity=0);a.defn(b,"$escape",f=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},f.$$arity=1);a.defn(b,
"$last_match",g=function(a){var b;null==e["~"]&&(e["~"]=l);null==a&&(a=l);return(b=a["$nil?"]())===l||null==b||b.$$is_boolean&&1!=b?e["~"]["$[]"](a):e["~"]},g.$$arity=-1);a.alias(b,"quote","escape");a.defn(b,"$union",k=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];var e,g;if(0==b.length)return/(?!)/;c=b[0].$$is_array;1<b.length&&c&&this.$raise(d.get("TypeError"),"no implicit conversion of Array into String");c&&(b=b[0]);e=void 0;for(var c=
[],k=0;k<b.length;k++)f=b[k],f.$$is_string?c.push(this.$escape(f)):f.$$is_regexp?(g=f.$options(),void 0!=e&&e!=g&&this.$raise(d.get("TypeError"),"All expressions must use the same options"),e=g,c.push("("+f.source+")")):c.push(this.$escape(f.$to_str()));return this.$new(c.$join("|"),e)},k.$$arity=-1);return(a.defn(b,"$new",m=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(d.get("RegexpError"),
"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var c="";d.get("IGNORECASE")&b&&(c+="i");d.get("MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},m.$$arity=-2),l)&&"new"})(a.get_singleton_class(c));a.defn(c,"$==",w=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},w.$$arity=1);a.defn(c,"$===",k=function(a){return this.$match(v.get("Opal")["$coerce_to?"](a,v.get("String"),"to_str"))!==l},k.$$arity=1);a.defn(c,
"$=~",p=function(a){var b;null==e["~"]&&(e["~"]=l);return b=this.$match(a),!1!==b&&b!==l&&null!=b?e["~"].$begin(0):b},p.$$arity=1);a.alias(c,"eql?","==");a.defn(c,"$inspect",f=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){for(var a=b[2],b=b[1].split(""),d=b.length,c=!1,f="",e=0;e<d;e++){var g=b[e];c||"/"!=g||(f=f.concat("\\"));f=f.concat(g);c="\\"==g?c?!1:!0:!1}return"/"+f+"/"+a}return a},f.$$arity=0);a.defn(c,"$match",m=function(a,b){var d=m.$$p||l;null==e["~"]&&(e["~"]=l);
m.$$p=null;this.uninitialized&&this.$raise(v.get("TypeError"),"uninitialized Regexp");b=void 0===b?0:v.get("Opal").$coerce_to(b,v.get("Integer"),"to_int");if(a===l)return e["~"]=l;a=v.get("Opal").$coerce_to(a,v.get("String"),"to_str");if(0>b&&(b+=a.length,0>b))return e["~"]=l;var c=this.source,f="g";this.multiline&&(c=c.replace(".","[\\s\\S]"),f+="m");for(f=new RegExp(c,f+(this.ignoreCase?"i":""));;){c=f.exec(a);if(null===c)return e["~"]=l;if(c.index>=b)return e["~"]=v.get("MatchData").$new(f,c),
d===l?e["~"]:d.$call(e["~"]);f.lastIndex=c.index+1}},m.$$arity=-2);a.defn(c,"$~",q=function(){null==e._&&(e._=l);return this["$=~"](e._)},q.$$arity=0);a.defn(c,"$source",y=function(){return this.source},y.$$arity=0);a.defn(c,"$options",I=function(){this.uninitialized&&this.$raise(v.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=v.get("MULTILINE"));this.ignoreCase&&(a|=v.get("IGNORECASE"));return a},I.$$arity=0);a.defn(c,"$casefold?",E=function(){return this.ignoreCase},E.$$arity=
0);a.alias(c,"to_s","source");return(a.defs(c,"$_load",z=function(b){return this.$new.apply(this,a.to_a(b))},z.$$arity=1),l)&&"_load"})(a.base,RegExp);return function(g,$super){function b(){}var c=b=n(g,$super,"MatchData",b),d=c.$$scope,v,w,k,p,f,m,q,y,I,E,z,u;c.$$proto.matches=l;c.$attr_reader("post_match","pre_match","regexp","string");a.defn(c,"$initialize",v=function(a,b){e["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+
b[0].length);this.matches=[];for(var d=0,c=b.length;d<c;d++){var f=b[d];null==f?this.matches.push(l):this.matches.push(f)}},v.$$arity=2);a.defn(c,"$[]",w=function(b){var d,c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];return(d=this.matches)["$[]"].apply(d,a.to_a(c))},w.$$arity=-1);a.defn(c,"$offset",k=function(a){0!==a&&this.$raise(d.get("ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},k.$$arity=
1);a.defn(c,"$==",p=function(a){var b,c,f,e;return(b=d.get("MatchData")["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?!1:(b=(c=(f=(e=this.string==a.string,!1!==e&&e!==l&&null!=e?this.regexp.toString()==a.regexp.toString():e),!1!==f&&f!==l&&null!=f?this.pre_match==a.pre_match:f),!1!==c&&c!==l&&null!=c?this.post_match==a.post_match:c),!1!==b&&b!==l&&null!=b?this.begin==a.begin:b)},p.$$arity=1);a.alias(c,"eql?","==");a.defn(c,"$begin",f=function(a){0!==a&&this.$raise(d.get("ArgumentError"),"MatchData#begin only supports 0th element");
return this.begin},f.$$arity=1);a.defn(c,"$end",m=function(a){0!==a&&this.$raise(d.get("ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},m.$$arity=1);a.defn(c,"$captures",q=function(){return this.matches.slice(1)},q.$$arity=0);a.defn(c,"$inspect",y=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,d=this.matches.length;b<d;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},y.$$arity=0);a.defn(c,"$length",I=function(){return this.matches.length},
I.$$arity=0);a.alias(c,"size","length");a.defn(c,"$to_a",E=function(){return this.matches},E.$$arity=0);a.defn(c,"$to_s",z=function(){return this.matches[0]},z.$$arity=0);return(a.defn(c,"$values_at",u=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];for(var e,f=[],c=0;c<b.length;c++){b[c].$$is_range&&(e=b[c].$to_a(),e.unshift(c,1),Array.prototype.splice.apply(b,e));e=d.get("Opal")["$coerce_to!"](b[c],d.get("Integer"),"to_int");if(0>e&&(e+=this.matches.length,
0>e)){f.push(l);continue}f.push(this.matches[e])}return f},u.$$arity=-1),l)&&"values_at"}(a.base,null)};
Opal.modules["corelib/string"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=a.top,g=a.nil,h=a.klass,b=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $shift $__send__ $succ $escape".split(" "));e.$require("corelib/comparable");
e.$require("corelib/regexp");(function(c,$super){function e(){}function w(a){function b(a){var c="",e,t=a.length,g,h;for(e=0;e<t;e++)if(g=a.charAt(e),"-"===g&&0<e&&e<t-1&&!h){h=a.charCodeAt(e-1);g=a.charCodeAt(e+1);h>g&&k.$raise(f.get("ArgumentError"),'invalid range "'+h+"-"+g+'" in string transliteration');for(h+=1;h<g+1;h++)c+=String.fromCharCode(h);h=!0;e++}else h="\\"===g,c+=g;return c}function c(a,b){if(0===a.length)return b;var f="",e,t=a.length,g;for(e=0;e<t;e++)g=a.charAt(e),-1!==b.indexOf(g)&&
(f+=g);return f}var e,t,g,h,C="",G="";e=0;for(t=a.length;e<t;e++)g=f.get("Opal").$coerce_to(a[e],f.get("String"),"to_str"),h="^"===g.charAt(0)&&1<g.length,g=b(h?g.slice(1):g),h?G=c(G,g):C=c(C,g);if(0<C.length&&0<G.length){g="";e=0;for(t=C.length;e<t;e++)a=C.charAt(e),-1===G.indexOf(a)&&(g+=a);C=g;G=""}return 0<C.length?"["+f.get("Regexp").$escape(C)+"]":0<G.length?"[^"+f.get("Regexp").$escape(G)+"]":null}var k=e=h(c,$super,"String",e),p=k.$$proto,f=k.$$scope,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,
V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta,va,ua,ja,t,U,qa,oa,wa,xa,za,Aa,ga,ya,M,C,G,D,Da,Ca,Ba,Ea,Fa;p.length=g;k.$include(f.get("Comparable"));p.$$is_string=!0;a.defn(k,"$__id__",m=function(){return this.toString()},m.$$arity=0);a.alias(k,"object_id","__id__");a.defs(k,"$try_convert",q=function(a){return f.get("Opal")["$coerce_to?"](a,f.get("String"),"to_str")},q.$$arity=1);a.defs(k,"$new",y=function(a){null==a&&(a="");a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");
return new String(a)},y.$$arity=-1);a.defn(k,"$initialize",I=function(a){return void 0===a?this:this.$raise(f.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},I.$$arity=-1);a.defn(k,"$%",E=function(b){var c;return(c=f.get("Array")["$==="](b))===g||null==c||c.$$is_boolean&&1!=c?this.$format(this,b):(c=this).$format.apply(c,[this].concat(a.to_a(b)))},E.$$arity=1);a.defn(k,"$*",z=function(a){a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");0>a&&this.$raise(f.get("ArgumentError"),
"negative argument");if(0===a)return"";var b="",c=this.toString();for(268435456<=c.length*a&&this.$raise(f.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=c);a>>>=1;if(0===a)break;c+=c}return b},z.$$arity=1);a.defn(k,"$+",u=function(a){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");return this+a.$to_s()},u.$$arity=1);a.defn(k,"$<=>",H=function(a){var b;if((b=a["$respond_to?"]("to_str"))===g||null==b||b.$$is_boolean&&1!=b)return a=a["$<=>"](this),
a===g?g:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0},H.$$arity=1);a.defn(k,"$==",L=function(a){return a.$$is_string?this.toString()===a.toString():f.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},L.$$arity=1);a.alias(k,"eql?","==");a.alias(k,"===","==");a.defn(k,"$=~",J=function(a){a.$$is_string&&this.$raise(f.get("TypeError"),"type mismatch: String given");return a["$=~"](this)},J.$$arity=1);a.defn(k,"$[]",N=function(a,c){var e=this.length,t;if(a.$$is_range){t=a.exclude;
c=f.get("Opal").$coerce_to(a.end,f.get("Integer"),"to_int");a=f.get("Opal").$coerce_to(a.begin,f.get("Integer"),"to_int");if(Math.abs(a)>e)return g;0>a&&(a+=e);0>c&&(c+=e);t||(c+=1);c-=a;0>c&&(c=0);return this.substr(a,c)}if(a.$$is_string)return null!=c&&this.$raise(f.get("TypeError")),-1!==this.indexOf(a)?a:g;if(a.$$is_regexp){e=this.match(a);if(null===e)return b["~"]=g;b["~"]=f.get("MatchData").$new(a,e);if(null==c)return e[0];c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int");return 0>c&&
-c<e.length?e[c+e.length]:0<=c&&c<e.length?e[c]:g}a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");0>a&&(a+=e);if(null==c)return a>=e||0>a?g:this.substr(a,1);c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int");return 0>c||a>e||0>a?g:this.substr(a,c)},N.$$arity=-2);a.alias(k,"byteslice","[]");a.defn(k,"$capitalize",Q=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},Q.$$arity=0);a.defn(k,"$casecmp",A=function(a){var b=this;a=f.get("Opal").$coerce_to(a,f.get("String"),
"to_str").$to_s();var c=/^[\x00-\x7F]*$/;c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},A.$$arity=1);a.defn(k,"$center",r=function(a,b){var c;null==b&&(b=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();(c=b["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),"zero width padding");if((c=a<=this.length)!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;c=this.$ljust(l(n(a,
this.length),2).$ceil(),b);return this.$rjust(l(n(a,this.length),2).$floor(),b)+c.slice(this.length)},r.$$arity=-2);a.defn(k,"$chars",P=function(){var a,b=P.$$p||g;P.$$p=null;return!1===b||b===g||null==b?this.$each_char().$to_a():(a=this.$each_char,a.$$p=b.$to_proc(),a).call(this)},P.$$arity=0);a.defn(k,"$chomp",S=function(a){var c;null==b["/"]&&(b["/"]=g);null==a&&(a=b["/"]);if((c=a===g||0===this.length)!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;a=f.get("Opal")["$coerce_to!"](a,f.get("String"),
"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this},S.$$arity=-1);a.defn(k,"$chop",R=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},R.$$arity=0);a.defn(k,"$chr",Z=function(){return this.charAt(0)},Z.$$arity=0);a.defn(k,"$clone",aa=function(){var a=g,a=this.slice();
a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},aa.$$arity=0);a.defn(k,"$dup",V=function(){var a=g,a=this.slice();a.$initialize_dup(this);return a},V.$$arity=0);a.defn(k,"$count",O=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];0===b.length&&this.$raise(f.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=w(b);return null===c?0:this.length-this.replace(new RegExp(c,"g"),"").length},O.$$arity=-1);
a.defn(k,"$delete",T=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];0===b.length&&this.$raise(f.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=w(b);return null===c?this:this.replace(new RegExp(c,"g"),"")},T.$$arity=-1);a.defn(k,"$downcase",Y=function(){return this.toLowerCase()},Y.$$arity=0);a.defn(k,"$each_char",X=function(){var b,c,f=X.$$p||g;X.$$p=null;if(f===g)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||
this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,"each_char");b=0;for(var e=this.length;b<e;b++)a.yield1(f,this.charAt(b));return this},X.$$arity=0);a.defn(k,"$each_line",ea=function(c){var e=ea.$$p||g;null==b["/"]&&(b["/"]=g);null==c&&(c=b["/"]);ea.$$p=null;if(e===g)return this.$enum_for("each_line",c);if(c===g)return a.yield1(e,this),this;c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str");var t,h,k,C;if(0===c.length){c=this.split(/(\n{2,})/);t=0;for(h=c.length;t<h;t+=2)(c[t]||c[t+1])&&
a.yield1(e,(c[t]||"")+(c[t+1]||""));return this}t=this.$chomp(c);h=this.length!=t.length;C=t.split(c);t=0;for(k=C.length;t<k;t++)t<k-1||h?a.yield1(e,C[t]+c):a.yield1(e,C[t]);return this},ea.$$arity=-1);a.defn(k,"$empty?",ha=function(){return 0===this.length},ha.$$arity=0);a.defn(k,"$end_with?",ia=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];c=0;for(e=b.length;c<e;c++){var t=f.get("Opal").$coerce_to(b[c],f.get("String"),"to_str").$to_s();
if(this.length>=t.length&&this.substr(this.length-t.length,t.length)==t)return!0}return!1},ia.$$arity=-1);a.alias(k,"eql?","==");a.alias(k,"equal?","===");a.defn(k,"$gsub",ka=function(a,c){var e=this,t=ka.$$p||g;ka.$$p=null;if(void 0===c&&t===g)return e.$enum_for("gsub",a);var h="",k=g,C=0,G,U;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){G=a.exec(e);if(null===
G){b["~"]=g;h+=e.slice(C);break}k=f.get("MatchData").$new(a,G);void 0===c?U=t(G[0]):c.$$is_hash?U=c["$[]"](G[0]).$to_s():(c.$$is_string||(c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str")),U=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=G.length-1;0<a;a--)if(void 0!==G[a])return b.slice(1)+G[a];return"";case "&":return b.slice(1)+G[0];case "`":return b.slice(1)+e.slice(0,G.index);case "'":return b.slice(1)+e.slice(G.index+G[0].length);default:return b.slice(1)+
(G[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===G.index?(h+=U+e.slice(C,G.index+1),a.lastIndex+=1):h+=e.slice(C,G.index)+U;C=a.lastIndex}b["~"]=k;return h},ka.$$arity=-2);a.defn(k,"$hash",la=function(){return this.toString()},la.$$arity=0);a.defn(k,"$hex",fa=function(){return this.$to_i(16)},fa.$$arity=0);a.defn(k,"$include?",da=function(a){a.$$is_string||(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"));return-1!==this.indexOf(a)},da.$$arity=1);a.defn(k,"$index",F=function(a,c){var e,t;
if(void 0===c)c=0;else if(c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return g;if(a.$$is_regexp)for(t=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=t.exec(this);if(null===e){b["~"]=g;e=-1;break}if(e.index>=c){b["~"]=f.get("MatchData").$new(t,e);e=e.index;break}t.lastIndex=e.index+1}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),e=0===a.length&&c>this.length?-1:this.indexOf(a,c);return-1===e?g:e},F.$$arity=-2);a.defn(k,"$inspect",ba=function(){var a=
{"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},ba.$$arity=0);a.defn(k,"$intern",x=function(){return this},x.$$arity=0);a.defn(k,"$lines",ca=function(a){var c,
f=ca.$$p||g,e=g;null==b["/"]&&(b["/"]=g);null==a&&(a=b["/"]);ca.$$p=null;e=(c=this.$each_line,c.$$p=f.$to_proc(),c).call(this,a);return!1!==f&&f!==g&&null!=f?this:e.$to_a()},ca.$$arity=-1);a.defn(k,"$length",B=function(){return this.length},B.$$arity=0);a.defn(k,"$ljust",W=function(a,b){var c;null==b&&(b=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();(c=b["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),
"zero width padding");if((c=a<=this.length)!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;c=-1;var e="";for(a-=this.length;++c<a;)e+=b;return this+e.slice(0,a)},W.$$arity=-2);a.defn(k,"$lstrip",ma=function(){return this.replace(/^\s*/,"")},ma.$$arity=0);a.defn(k,"$match",na=function(a,b){var c,e,t=na.$$p||g;na.$$p=null;(c=!1!==(e=f.get("String")["$==="](a))&&e!==g&&null!=e?e:a["$respond_to?"]("to_str"))===g||null==c||c.$$is_boolean&&1!=c||(a=f.get("Regexp").$new(a.$to_str()));((c=f.get("Regexp")["$==="](a))===
g||null==c||c.$$is_boolean&&1!=c)&&this.$raise(f.get("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return(c=(e=a).$match,c.$$p=t.$to_proc(),c).call(e,this,b)},na.$$arity=-2);a.defn(k,"$next",pa=function(){var a=this.length;if(0===a)return"";for(var b=this,c=this.search(/[a-zA-Z0-9]/),f=!1,e;a--;){e=this.charCodeAt(a);if(48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:f=!0;e=48;break;case 90:f=!0;e=65;break;case 122:f=!0;e=97;break;default:f=!1,e+=1}else-1===c?255===
e?(f=!0,e=0):(f=!1,e+=1):f=!0;b=b.slice(0,a)+String.fromCharCode(e)+b.slice(a+1);if(f&&(0===a||a===c)){switch(e){case 65:break;case 97:break;default:e+=1}b=0===a?String.fromCharCode(e)+b:b.slice(0,a)+String.fromCharCode(e)+b.slice(a);f=!1}if(!f)break}return b},pa.$$arity=0);a.defn(k,"$oct",ra=function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,f,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===f)return a}switch(f){case "0b":b=
2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+e});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},ra.$$arity=0);a.defn(k,"$ord",K=function(){return this.charCodeAt(0)},K.$$arity=0);a.defn(k,"$partition",sa=function(a){var b;a.$$is_regexp?(b=a.exec(this),null===b?b=-1:(f.get("MatchData").$new(a,b),a=b[0],b=b.index)):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),b=this.indexOf(a));return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),
this.slice(b+a.length)]},sa.$$arity=1);a.defn(k,"$reverse",ta=function(){return this.split("").reverse().join("")},ta.$$arity=0);a.defn(k,"$rindex",va=function(a,c){var e,t,h;if(void 0===c)c=this.length;else if(c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return g;if(a.$$is_regexp){e=null;for(t=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){h=t.exec(this);if(null===h||h.index>c)break;e=h;t.lastIndex=e.index+1}null===e?(b["~"]=g,e=-1):(f.get("MatchData").$new(t,
e),e=e.index)}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),e=this.lastIndexOf(a,c);return-1===e?g:e},va.$$arity=-2);a.defn(k,"$rjust",ua=function(a,b){var c;null==b&&(b=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();(c=b["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),"zero width padding");if((c=a<=this.length)!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;c=Math.floor(a-
this.length);var e=Array(Math.floor(c/b.length)+1).join(b);return e+b.slice(0,c-e.length)+this},ua.$$arity=-2);a.defn(k,"$rpartition",ja=function(a){var b,c,e;if(a.$$is_regexp){b=null;for(c=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=c.exec(this);if(null===e)break;b=e;c.lastIndex=b.index+1}null===b?b=-1:(f.get("MatchData").$new(c,b),a=b[0],b=b.index)}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),b=this.lastIndexOf(a);return-1===b?["","",this]:[this.slice(0,b),this.slice(b,b+
a.length),this.slice(b+a.length)]},ja.$$arity=1);a.defn(k,"$rstrip",t=function(){return this.replace(/[\s\u0000]*$/,"")},t.$$arity=0);a.defn(k,"$scan",U=function(a){var c=U.$$p||g;U.$$p=null;var e=[],t=g,h;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(h=a.exec(this));)t=f.get("MatchData").$new(a,h),c===g?1==h.length?e.push(h[0]):e.push(t.$captures()):1==
h.length?c(h[0]):c.call(this,t.$captures()),a.lastIndex===h.index&&(a.lastIndex+=1);b["~"]=t;return c!==g?this:e},U.$$arity=1);a.alias(k,"size","length");a.alias(k,"slice","[]");a.defn(k,"$split",qa=function(a,c){var e;null==b[";"]&&(b[";"]=g);if(0===this.length)return[];if(void 0===c)c=0;else if(c=f.get("Opal")["$coerce_to!"](c,f.get("Integer"),"to_int"),1===c)return[this];if(void 0===a||a===g)a=!1!==(e=b[";"])&&e!==g&&null!=e?e:" ";e=[];var t=this.toString(),h=0,k,C;a.$$is_regexp?a=new RegExp(a.source,
"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,t=t.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));e=t.split(a);if(1===e.length&&e[0]===t)return e;for(;-1!==(C=e.indexOf(void 0));)e.splice(C,1);if(0===c){for(;""===e[e.length-1];)--e.length;return e}k=a.exec(t);if(0>c){if(null!==k&&""===k[0]&&-1===a.source.indexOf("(?="))for(C=0;C<k.length;C++)e.push("");return e}if(null!==k&&""===k[0])return e.splice(c-
1,e.length-1,e.slice(c-1).join("")),e;if(c>=e.length)return e;for(C=0;null!==k;){C++;h=a.lastIndex;if(C+1===c)break;k=a.exec(t)}e.splice(c-1,e.length-1,t.slice(h));return e},qa.$$arity=-1);a.defn(k,"$squeeze",oa=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];if(0===b.length)return this.replace(/(.)\1+/g,"$1");c=w(b);return null===c?this:this.replace(new RegExp("("+c+")\\1+","g"),"$1")},oa.$$arity=-1);a.defn(k,"$start_with?",wa=function(a){var b,
c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];c=0;for(e=b.length;c<e;c++){var t=f.get("Opal").$coerce_to(b[c],f.get("String"),"to_str").$to_s();if(0===this.indexOf(t))return!0}return!1},wa.$$arity=-1);a.defn(k,"$strip",xa=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},xa.$$arity=0);a.defn(k,"$sub",za=function(a,c){var e=this,t=za.$$p||g;za.$$p=null;a.$$is_regexp||(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&")));var h=a.exec(e);if(null===h)return b["~"]=g,e.toString();f.get("MatchData").$new(a,h);if(void 0===c)return t===g&&e.$raise(f.get("ArgumentError"),"wrong number of arguments (1 for 2)"),e.slice(0,h.index)+t(h[0])+e.slice(h.index+h[0].length);if(c.$$is_hash)return e.slice(0,h.index)+c["$[]"](h[0]).$to_s()+e.slice(h.index+h[0].length);c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str");c=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=
h.length-1;0<a;a--)if(void 0!==h[a])return b.slice(1)+h[a];return"";case "&":return b.slice(1)+h[0];case "`":return b.slice(1)+e.slice(0,h.index);case "'":return b.slice(1)+e.slice(h.index+h[0].length);default:return b.slice(1)+(h[c]||"")}}).replace(/\\\\/g,"\\");return e.slice(0,h.index)+c+e.slice(h.index+h[0].length)},za.$$arity=-2);a.alias(k,"succ","next");a.defn(k,"$sum",Aa=function(a){null==a&&(a=16);a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");for(var b=0,c=this.length,e=0;e<c;e++)b+=
this.charCodeAt(e);return 0>=a?b:b&Math.pow(2,a)-1},Aa.$$arity=-1);a.defn(k,"$swapcase",ga=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},ga.$$arity=0);a.defn(k,"$to_f",ya=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},ya.$$arity=0);a.defn(k,"$to_i",M=function(a){null==a&&(a=10);var b=this.toLowerCase(),
c=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");(1===c||0>c||36<c)&&this.$raise(f.get("ArgumentError"),"invalid radix "+c);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===e&&(0===c||16===c))return a}switch(e){case "0b":if(0===c||2===c)return c=2,b+f;break;case "0":case "0o":if(0===c||8===c)return c=8,b+f;break;case "0d":if(0===c||10===c)return c=10,b+f;break;case "0x":if(0===
c||16===c)return c=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},M.$$arity=-1);a.defn(k,"$to_proc",C=function(){var b,c,e=g,e=this;return(b=this.$proc,b.$$p=(c=function(b){var t=c.$$s||this,h,k,C,G,U=g;h=c.$$p||g;c.$$p=null;U=arguments.length;k=U-0;0>k&&(k=0);k=Array(k);for(var D=0;D<U;D++)k[D-0]=arguments[D];(C=k["$empty?"]())===g||null==C||C.$$is_boolean&&1!=C||t.$raise(f.get("ArgumentError"),"no receiver given");U=k.$shift();return(C=(G=U).$__send__,C.$$p=h.$to_proc(),
C).apply(G,[e].concat(a.to_a(k)))},c.$$s=this,c.$$arity=-1,c),b).call(this)},C.$$arity=0);a.defn(k,"$to_s",G=function(){return this.toString()},G.$$arity=0);a.alias(k,"to_str","to_s");a.alias(k,"to_sym","intern");a.defn(k,"$tr",D=function(a,b){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();if(0==a.length||a===b)return this;var c,e,t,g,h,k={};h=a.split("");var C=h.length,G=b.split(""),U=G.length,D=!1,B=null;"^"===h[0]&&
1<h.length&&(D=!0,h.shift(),B=G[U-1],--C);var M=[];t=null;e=!1;for(c=0;c<C;c++)if(g=h[c],null==t)t=g,M.push(g);else if("-"===g)"-"===t?(M.push("-"),M.push("-")):c==C-1?M.push("-"):e=!0;else if(e){t=t.charCodeAt(0);e=g.charCodeAt(0);t>e&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(t)+"-"+String.fromCharCode(e)+'" in string transliteration');for(t+=1;t<e;t++)M.push(String.fromCharCode(t));M.push(g);t=e=null}else M.push(g);h=M;C=h.length;if(D)for(c=0;c<C;c++)k[h[c]]=!0;else{if(0<
U){M=[];t=null;e=!1;for(c=0;c<U;c++)if(g=G[c],null==t)t=g,M.push(g);else if("-"===g)"-"===t?(M.push("-"),M.push("-")):c==U-1?M.push("-"):e=!0;else if(e){t=t.charCodeAt(0);e=g.charCodeAt(0);t>e&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(t)+"-"+String.fromCharCode(e)+'" in string transliteration');for(t+=1;t<e;t++)M.push(String.fromCharCode(t));M.push(g);t=e=null}else M.push(g);G=M;U=G.length}g=C-U;if(0<g)for(U=0<U?G[U-1]:"",c=0;c<g;c++)G.push(U);for(c=0;c<C;c++)k[h[c]]=
G[c]}C="";c=0;for(h=this.length;c<h;c++)g=this.charAt(c),G=k[g],C=D?C+(null==G?B:g):C+(null!=G?G:g);return C},D.$$arity=2);a.defn(k,"$tr_s",Da=function(a,b){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();if(0==a.length)return this;var c,e,t,g,h,k={};h=a.split("");var C=h.length,G=b.split(""),U=G.length,D=!1,M=null;"^"===h[0]&&1<h.length&&(D=!0,h.shift(),M=G[U-1],--C);var B=[];t=null;e=!1;for(c=0;c<C;c++)if(g=h[c],null==
t)t=g,B.push(g);else if("-"===g)"-"===t?(B.push("-"),B.push("-")):c==C-1?B.push("-"):e=!0;else if(e){t=t.charCodeAt(0);e=g.charCodeAt(0);t>e&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(t)+"-"+String.fromCharCode(e)+'" in string transliteration');for(t+=1;t<e;t++)B.push(String.fromCharCode(t));B.push(g);t=e=null}else B.push(g);h=B;C=h.length;if(D)for(c=0;c<C;c++)k[h[c]]=!0;else{if(0<U){B=[];e=!1;for(c=0;c<U;c++)if(g=G[c],null==t)t=g,B.push(g);else if("-"===g)c==U-1?B.push("-"):
e=!0;else if(e){t=t.charCodeAt(0);e=g.charCodeAt(0);t>e&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(t)+"-"+String.fromCharCode(e)+'" in string transliteration');for(t+=1;t<e;t++)B.push(String.fromCharCode(t));B.push(g);t=e=null}else B.push(g);G=B;U=G.length}g=C-U;if(0<g)for(U=0<U?G[U-1]:"",c=0;c<g;c++)G.push(U);for(c=0;c<C;c++)k[h[c]]=G[c]}C="";G=null;c=0;for(h=this.length;c<h;c++)if(g=this.charAt(c),U=k[g],D)null==U?null==G&&(C+=M,G=!0):(C+=g,G=null);else if(null!=U){if(null==
G||G!==U)C+=U,G=U}else C+=g,G=null;return C},Da.$$arity=2);a.defn(k,"$upcase",Ca=function(){return this.toUpperCase()},Ca.$$arity=0);a.defn(k,"$upto",Ba=function(a,b){var c=Ba.$$p||g;null==b&&(b=!1);Ba.$$p=null;if(c===g)return this.$enum_for("upto",a,b);a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");var e,t;e=this.toString();if(1===e.length&&1===a.length)for(e=e.charCodeAt(0),t=a.charCodeAt(0);e<=t&&(!b||e!==t);)c(String.fromCharCode(e)),e+=1;else if(parseInt(e,10).toString()===e&&parseInt(a,
10).toString()===a)for(e=parseInt(e,10),t=parseInt(a,10);e<=t&&(!b||e!==t);)c(e.toString()),e+=1;else for(;e.length<=a.length&&e<=a&&(!b||e!==a);)c(e),e=e.$succ();return this},Ba.$$arity=-2);a.defn(k,"$instance_variables",Ea=function(){return[]},Ea.$$arity=0);return(a.defs(k,"$_load",Fa=function(b){var c,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];return this.$new.apply(this,a.to_a(c))},Fa.$$arity=-1),g)&&"_load"})(a.base,String);return a.cdecl(a,"Symbol",
a.get("String"))};
Opal.modules["corelib/enumerable"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=a.nil,g=a.module;a.add_stubs("$each $destructure $raise $new $yield $dup $enum_for $enumerator_size $flatten $map $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $to_enum $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $<=> $first $reverse $sort $to_proc $compare $call $to_a $lambda $sort! $map! $zip".split(" "));return function(h){h=
g(h,"Enumerable");var b=h.$$scope,c,d,v,w,k,p,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca;a.defn(h,"$all?",c=function(){try{var d,f,g,h=c.$$p||e;c.$$p=null;h!==e?(d=this.$each,d.$$p=(f=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];if((d=a.yieldX(h,a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d)a.ret(!1);else return e},f.$$s=this,f.$$arity=-1,f),d).call(this):(d=this.$each,d.$$p=(g=function(c){var d,
f,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var h=0;h<g;h++)d[h-0]=arguments[h];if((f=b.get("Opal").$destructure(d))===e||null==f||f.$$is_boolean&&1!=f)a.ret(!1);else return e},g.$$s=this,g.$$arity=-1,g),d).call(this);return!0}catch(k){if(k===a.returner)return k.$v;throw k;}},c.$$arity=0);a.defn(h,"$any?",d=function(){try{var c,f,g,h=d.$$p||e;d.$$p=null;h!==e?(c=this.$each,c.$$p=(f=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];
if((d=a.yieldX(h,a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d)return e;a.ret(!0)},f.$$s=this,f.$$arity=-1,f),c).call(this):(c=this.$each,c.$$p=(g=function(c){var d,f,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var h=0;h<g;h++)d[h-0]=arguments[h];if((f=b.get("Opal").$destructure(d))===e||null==f||f.$$is_boolean&&1!=f)return e;a.ret(!0)},g.$$s=this,g.$$arity=-1,g),c).call(this);return!1}catch(k){if(k===a.returner)return k.$v;throw k;}},d.$$arity=0);a.defn(h,"$chunk",v=function(c){var d,f,g,
h=v.$$p||e;v.$$p=null;!1!==h&&h!==e&&null!=h||b.get("Kernel").$raise(b.get("ArgumentError"),"no block given");return(d=(f=a.get("Enumerator")).$new,d.$$p=(g=function(d){function f(){0<U.length&&d.$yield(t,U)}var k=g.$$s||this,F,m,l;null==d&&(d=e);var ja,t=e,U=[];ja=void 0==c||c===e?h:(F=(m=b.get("Proc")).$new,F.$$p=(l=function(a){null==a&&(a=e);return h.$yield(a,c.$dup())},l.$$s=k,l.$$arity=1,l),F).call(m);k.$each.$$p=function(b){var c=a.yield1(ja,b);c===e?(f(),U=[],t=e):(t===e||t===c?U.push(b):(f(),
U=[b]),t=c)};k.$each();f()},g.$$s=this,g.$$arity=1,g),d).call(f)},v.$$arity=-1);a.defn(h,"$collect",w=function(){var b,c,d=w.$$p||e;w.$$p=null;if(d===e)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c),b).call(this,"collect");var f=[];this.$each.$$p=function(){var b=a.yieldX(d,arguments);f.push(b)};this.$each();return f},w.$$arity=0);a.defn(h,"$collect_concat",k=function(){var b,c,d,f=k.$$p||e;k.$$p=null;return f===e?(b=this.$enum_for,b.$$p=
(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c),b).call(this,"collect_concat"):(b=this.$map,b.$$p=(d=function(b){null==b&&(b=e);return a.yield1(f,b)},d.$$s=this,d.$$arity=1,d),b).call(this).$flatten(1)},k.$$arity=0);a.defn(h,"$count",p=function(c){var d,f,g,h,k=p.$$p||e,F=e;p.$$p=null;F=0;(d=null!=c)===e||null==d||d.$$is_boolean&&1!=d?(d=k["$nil?"]())===e||null==d||d.$$is_boolean&&1!=d||(k=(d=this.$proc,d.$$p=(g=function(){return!0},g.$$s=this,g.$$arity=0,g),d).call(this)):
k=(d=this.$proc,d.$$p=(f=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];return b.get("Opal").$destructure(d)["$=="](c)},f.$$s=this,f.$$arity=-1,f),d).call(this);(d=this.$each,d.$$p=(h=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];return(d=a.yieldX(k,c))===e||null==d||d.$$is_boolean&&1!=d?e:F++},h.$$s=this,h.$$arity=-1,h),d).call(this);return F},p.$$arity=-1);a.defn(h,"$cycle",f=function(c){var d,
g,h=f.$$p||e;null==c&&(c=e);f.$$p=null;if(h===e)return(d=this.$enum_for,d.$$p=(g=function(){var a=g.$$s||this,d;if(c["$=="](e))return(d=a["$respond_to?"]("size"))===e||null==d||d.$$is_boolean&&1!=d?e:b.get("Float").$$scope.get("INFINITY");c=b.get("Opal")["$coerce_to!"](c,b.get("Integer"),"to_int");if((d=l(c,0))===e||null==d||d.$$is_boolean&&1!=d)return 0;a=a.$enumerator_size();return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)},g.$$s=this,g.$$arity=0,g),d).call(this,"cycle",c);if((d=c["$nil?"]())===
e||null==d||d.$$is_boolean&&1!=d)if(c=b.get("Opal")["$coerce_to!"](c,b.get("Integer"),"to_int"),(d=0>=c)!==e&&null!=d&&(!d.$$is_boolean||1==d))return e;var k=[],F;this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);a.yield1(h,c);k.push(c)};this.$each();if(0===k.length)return e;if(c===e)for(;;)for(d=0,F=k.length;d<F;d++)a.yield1(h,k[d]);else for(;1<c;){d=0;for(F=k.length;d<F;d++)a.yield1(h,k[d]);c--}},f.$$arity=-1);a.defn(h,"$detect",m=function(c){try{var d,f,g=m.$$p||e;m.$$p=null;
if(g===e)return this.$enum_for("detect",c);(d=this.$each,d.$$p=(f=function(c){var d,f,h=e,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var k=0;k<h;k++)d[k-0]=arguments[k];h=b.get("Opal").$destructure(d);if((f=a.yield1(g,h))===e||null==f||f.$$is_boolean&&1!=f)return e;a.ret(h)},f.$$s=this,f.$$arity=-1,f),d).call(this);return void 0!==c?"function"===typeof c?c():c:e}catch(h){if(h===a.returner)return h.$v;throw h;}},m.$$arity=-1);a.defn(h,"$drop",q=function(a){var c;a=b.get("Opal").$coerce_to(a,
b.get("Integer"),"to_int");(c=0>a)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(b.get("ArgumentError"),"attempt to drop negative size");var d=[],f=0;this.$each.$$p=function(){a<=f&&d.push(b.get("Opal").$destructure(arguments));f++};this.$each();return d},q.$$arity=1);a.defn(h,"$drop_while",y=function(){var c,d=y.$$p||e;y.$$p=null;if(d===e)return this.$enum_for("drop_while");var f=[],g=!0;this.$each.$$p=function(){var h=b.get("Opal").$destructure(arguments);if(g){if((c=a.yield1(d,h))===e||null==
c||c.$$is_boolean&&0==c)g=!1,f.push(h)}else f.push(h)};this.$each();return f},y.$$arity=0);a.defn(h,"$each_cons",I=function(c){var d,f,g=I.$$p||e;I.$$p=null;(d=1!=arguments.length)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");c=b.get("Opal").$try_convert(c,b.get("Integer"),"to_int");(d=0>=c)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"invalid size");if(g===e)return(d=this.$enum_for,d.$$p=
(f=function(){var a,b,d=e,d=(f.$$s||this).$enumerator_size();return(a=d["$nil?"]())===e||null==a||a.$$is_boolean&&1!=a?(a=!1!==(b=d["$=="](0))&&b!==e&&null!=b?b:"number"===typeof d&&"number"===typeof c?d<c:d["$<"](c))===e||null==a||a.$$is_boolean&&1!=a?n("number"===typeof d&&"number"===typeof c?d-c:d["$-"](c),1):0:e},f.$$s=this,f.$$arity=0,f),d).call(this,"each_cons",c);var h=[];this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);h.push(d);h.length>c&&h.shift();h.length==c&&a.yield1(g,
h.slice(0,c))};this.$each();return e},I.$$arity=1);a.defn(h,"$each_entry",E=function(c){var d,f,g,h=E.$$p||e,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var F=0;F<k;F++)g[F-0]=arguments[F];E.$$p=null;if(h===e)return(d=this.$to_enum,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f),d).apply(this,["each_entry"].concat(a.to_a(g)));this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);a.yield1(h,c)};this.$each.apply(this,g);return this},E.$$arity=
-1);a.defn(h,"$each_slice",z=function(c){var d,f,g=z.$$p||e;z.$$p=null;c=b.get("Opal").$coerce_to(c,b.get("Integer"),"to_int");(d=0>=c)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"invalid slice size");if(g===e)return(d=this.$enum_for,d.$$p=(f=function(){var a=f.$$s||this,b;if((b=a["$respond_to?"]("size"))===e||null==b||b.$$is_boolean&&1!=b)return e;a=a.$size();return("number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)).$ceil()},f.$$s=this,f.$$arity=0,f),d).call(this,
"each_slice",c);var h=[];this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);h.push(d);h.length===c&&(a.yield1(g,h),h=[])};this.$each();0<h.length&&a.yield1(g,h);return e},z.$$arity=1);a.defn(h,"$each_with_index",u=function(c){var d,f,g,h=u.$$p||e,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var F=0;F<k;F++)g[F-0]=arguments[F];u.$$p=null;if(h===e)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f),d).apply(this,["each_with_index"].concat(a.to_a(g)));
var m=0;this.$each.$$p=function(){var a=b.get("Opal").$destructure(arguments);h(a,m);m++};this.$each.apply(this,g);return this},u.$$arity=-1);a.defn(h,"$each_with_object",H=function(a){var c,d,f=H.$$p||e;H.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"each_with_object",a);this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);f(c,a)};this.$each();return a},H.$$arity=1);a.defn(h,"$entries",
L=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];var e=[];this.$each.$$p=function(){e.push(b.get("Opal").$destructure(arguments))};this.$each.apply(this,c);return e},L.$$arity=-1);a.alias(h,"find","detect");a.defn(h,"$find_all",J=function(){var c,d,f=J.$$p||e;J.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"find_all");var g=[];this.$each.$$p=function(){var d=
b.get("Opal").$destructure(arguments);(c=a.yield1(f,d))===e||null==c||c.$$is_boolean&&1!=c||g.push(d)};this.$each();return g},J.$$arity=0);a.defn(h,"$find_index",N=function(c){try{var d,f,g,h=N.$$p||e,k=e;N.$$p=null;if((d=void 0===c&&h===e)!==e&&null!=d&&(!d.$$is_boolean||1==d))return this.$enum_for("find_index");k=0;(d=null!=c)===e||null==d||d.$$is_boolean&&1!=d?(d=this.$each,d.$$p=(g=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];(d=a.yieldX(h,
a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d||a.ret(k);return k+=1},g.$$s=this,g.$$arity=-1,g),d).call(this):(d=this.$each,d.$$p=(f=function(d){var f,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];b.get("Opal").$destructure(f)["$=="](c)&&a.ret(k);return k+=1},f.$$s=this,f.$$arity=-1,f),d).call(this);return e}catch(F){if(F===a.returner)return F.$v;throw F;}},N.$$arity=-1);a.defn(h,"$first",Q=function(c){try{var d,f,g,h=e,k=e;if((d=void 0===c)===e||null==d||
d.$$is_boolean&&1!=d){h=[];c=b.get("Opal").$coerce_to(c,b.get("Integer"),"to_int");(d=0>c)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"attempt to take negative size");if((d=0==c)!==e&&null!=d&&(!d.$$is_boolean||1==d))return[];k=0;(d=this.$each,d.$$p=(g=function(d){var f,g,F=arguments.length;f=F-0;0>f&&(f=0);f=Array(f);for(var m=0;m<F;m++)f[m-0]=arguments[m];h.push(b.get("Opal").$destructure(f));if((g=c<=++k)===e||null==g||g.$$is_boolean&&1!=g)return e;a.ret(h)},g.$$s=this,
g.$$arity=-1,g),d).call(this);return h}return(d=this.$each,d.$$p=(f=function(b){null==b&&(b=e);a.ret(b)},f.$$s=this,f.$$arity=1,f),d).call(this)}catch(F){if(F===a.returner)return F.$v;throw F;}},Q.$$arity=-1);a.alias(h,"flat_map","collect_concat");a.defn(h,"$grep",A=function(c){var d,f=A.$$p||e;A.$$p=null;var g=[];this.$each.$$p=f!==e?function(){var h=b.get("Opal").$destructure(arguments),k=c["$==="](h);(d=k)===e||null==d||d.$$is_boolean&&1!=d||(k=a.yield1(f,h),g.push(k))}:function(){var a=b.get("Opal").$destructure(arguments);
(d=c["$==="](a))===e||null==d||d.$$is_boolean&&1!=d||g.push(a)};this.$each();return g},A.$$arity=1);a.defn(h,"$group_by",r=function(){var c,d,f,g,h=r.$$p||e,k=e;r.$$p=null;if(h===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"group_by");k=b.get("Hash").$new();this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);(c=a.yield1(h,d),f=k,!1!==(g=f["$[]"](c))&&g!==e&&null!=g?g:f["$[]="](c,[]))["$<<"](d)};this.$each();
return k},r.$$arity=0);a.defn(h,"$include?",P=function(c){try{var d,f;(d=this.$each,d.$$p=(f=function(d){var f,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var h=0;h<g;h++)f[h-0]=arguments[h];if(b.get("Opal").$destructure(f)["$=="](c))a.ret(!0);else return e},f.$$s=this,f.$$arity=-1,f),d).call(this);return!1}catch(g){if(g===a.returner)return g.$v;throw g;}},P.$$arity=1);a.defn(h,"$inject",S=function(c,d){var f=S.$$p||e;S.$$p=null;var g=c;f!==e&&void 0===d?this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);
void 0!==g&&(c=a.yieldX(f,[g,c]));g=c}:(void 0===d&&(b.get("Symbol")["$==="](c)||this.$raise(b.get("TypeError"),""+c.$inspect()+" is not a Symbol"),d=c,g=void 0),this.$each.$$p=function(){var a=b.get("Opal").$destructure(arguments);g=void 0===g?a:g.$__send__(d,a)});this.$each();return void 0==g?e:g},S.$$arity=-1);a.defn(h,"$lazy",R=function(){var c,d,f;return(c=(d=b.get("Enumerator").$$scope.get("Lazy")).$new,c.$$p=(f=function(b,c){var d,f,g=arguments.length;d=g-1;0>d&&(d=0);d=Array(d);for(var h=
1;h<g;h++)d[h-1]=arguments[h];null==b&&(b=e);return(f=b).$yield.apply(f,a.to_a(d))},f.$$s=this,f.$$arity=-2,f),c).call(d,this,this.$enumerator_size())},R.$$arity=0);a.defn(h,"$enumerator_size",Z=function(){var a;return(a=this["$respond_to?"]("size"))===e||null==a||a.$$is_boolean&&1!=a?e:this.$size()},Z.$$arity=0);a.alias(h,"map","collect");a.defn(h,"$max",aa=function(c){var d,f=this,g=aa.$$p||e;aa.$$p=null;if(void 0===c||c===e){var h,k;f.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);
void 0===h?h=c:(k=g!==e?a.yieldX(g,[c,h]):c["$<=>"](h),k===e&&f.$raise(b.get("ArgumentError"),"comparison failed"),0<k&&(h=c))};f.$each();return void 0===h?e:h}c=b.get("Opal").$coerce_to(c,b.get("Integer"),"to_int");return(d=f.$sort,d.$$p=g.$to_proc(),d).call(f).$reverse().$first(c)},aa.$$arity=-1);a.defn(h,"$max_by",V=function(){var c,d,f=V.$$p||e;V.$$p=null;if(!1===f||f===e||null==f)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,
"max_by");var g,h;this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments),d=a.yield1(f,c);void 0===g?(g=c,h=d):0<d["$<=>"](h)&&(g=c,h=d)};this.$each();return void 0===g?e:g},V.$$arity=0);a.alias(h,"member?","include?");a.defn(h,"$min",O=function(){var a=this,c=O.$$p||e;O.$$p=null;var d;a.$each.$$p=c!==e?function(){var f=b.get("Opal").$destructure(arguments);if(void 0===d)d=f;else{var g=c(f,d);g===e&&a.$raise(b.get("ArgumentError"),"comparison failed");0>g&&(d=f)}}:function(){var a=b.get("Opal").$destructure(arguments);
void 0===d?d=a:0>b.get("Opal").$compare(a,d)&&(d=a)};a.$each();return void 0===d?e:d},O.$$arity=0);a.defn(h,"$min_by",T=function(){var c,d,f=T.$$p||e;T.$$p=null;if(!1===f||f===e||null==f)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"min_by");var g,h;this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments),d=a.yield1(f,c);void 0===g?(g=c,h=d):0>d["$<=>"](h)&&(g=c,h=d)};this.$each();return void 0===g?e:g},T.$$arity=
0);a.defn(h,"$minmax",Y=function(){var a,c,d,f=this,g=Y.$$p||e;Y.$$p=null;!1!==(a=g)&&a!==e&&null!=a?a:g=(c=f.$proc,c.$$p=(d=function(a,b){null==a&&(a=e);null==b&&(b=e);return a["$<=>"](b)},d.$$s=f,d.$$arity=2,d),c).call(f);var h=e,k=e,F=!0;f.$each.$$p=function(){var a=b.get("Opal").$destructure(arguments);if(F)h=k=a,F=!1;else{var c=g.$call(h,a);c===e?f.$raise(b.get("ArgumentError"),"comparison failed"):0<c&&(h=a);c=g.$call(k,a);c===e?f.$raise(b.get("ArgumentError"),"comparison failed"):0>c&&(k=a)}};
f.$each();return[h,k]},Y.$$arity=0);a.defn(h,"$minmax_by",X=function(){X.$$p=null;return this.$raise(b.get("NotImplementedError"))},X.$$arity=0);a.defn(h,"$none?",ea=function(){try{var c,d,f,g=ea.$$p||e;ea.$$p=null;g!==e?(c=this.$each,c.$$p=(d=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];if((d=a.yieldX(g,a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d)return e;a.ret(!1)},d.$$s=this,d.$$arity=-1,d),c).call(this):(c=this.$each,c.$$p=(f=function(c){var d,
f,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var h=0;h<g;h++)d[h-0]=arguments[h];if((f=b.get("Opal").$destructure(d))===e||null==f||f.$$is_boolean&&1!=f)return e;a.ret(!1)},f.$$s=this,f.$$arity=-1,f),c).call(this);return!0}catch(h){if(h===a.returner)return h.$v;throw h;}},ea.$$arity=0);a.defn(h,"$one?",ha=function(){try{var c,d,f,g=ha.$$p||e,h=e;ha.$$p=null;h=0;g!==e?(c=this.$each,c.$$p=(d=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var k=0;k<f;k++)c[k-0]=arguments[k];
if((d=a.yieldX(g,a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d)return e;h=n(h,1);if((d=l(h,1))===e||null==d||d.$$is_boolean&&1!=d)return e;a.ret(!1)},d.$$s=this,d.$$arity=-1,d),c).call(this):(c=this.$each,c.$$p=(f=function(c){var d,f,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var k=0;k<g;k++)d[k-0]=arguments[k];if((f=b.get("Opal").$destructure(d))===e||null==f||f.$$is_boolean&&1!=f)return e;h=n(h,1);if((f=l(h,1))===e||null==f||f.$$is_boolean&&1!=f)return e;a.ret(!1)},f.$$s=this,f.$$arity=
-1,f),c).call(this);return h["$=="](1)}catch(k){if(k===a.returner)return k.$v;throw k;}},ha.$$arity=0);a.defn(h,"$partition",ia=function(){var c,d,f=ia.$$p||e;ia.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"partition");var g=[],h=[];this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);(c=a.yield1(f,d))===e||null==c||c.$$is_boolean&&1!=c?h.push(d):g.push(d)};this.$each();return[g,h]},ia.$$arity=
0);a.alias(h,"reduce","inject");a.defn(h,"$reject",ka=function(){var c,d,f=ka.$$p||e;ka.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"reject");var g=[];this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);((c=a.yield1(f,d))===e||null==c||c.$$is_boolean&&0==c)&&g.push(d)};this.$each();return g},ka.$$arity=0);a.defn(h,"$reverse_each",la=function(){var b,c,d=la.$$p||e;la.$$p=null;if(d===e)return(b=
this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c),b).call(this,"reverse_each");var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(b=f.length-1;0<=b;b--)a.yieldX(d,f[b]);return f},la.$$arity=0);a.alias(h,"select","find_all");a.defn(h,"$slice_before",fa=function(c){var d,f,g,h=fa.$$p||e;fa.$$p=null;(d=void 0===c&&h===e||1<arguments.length)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"wrong number of arguments ("+
arguments.length+" for 1)");return(d=(f=b.get("Enumerator")).$new,d.$$p=(g=function(d){var f=g.$$s||this,k;null==d&&(d=e);var F=[];f.$each.$$p=h!==e?void 0===c?function(){var c=b.get("Opal").$destructure(arguments);(k=a.yield1(h,c))!==e&&null!=k&&(!k.$$is_boolean||1==k)&&0<F.length&&(d["$<<"](F),F=[]);F.push(c)}:function(){var a=b.get("Opal").$destructure(arguments);(k=h(a,c.$dup()))!==e&&null!=k&&(!k.$$is_boolean||1==k)&&0<F.length&&(d["$<<"](F),F=[]);F.push(a)}:function(){var a=b.get("Opal").$destructure(arguments);
(k=c["$==="](a))!==e&&null!=k&&(!k.$$is_boolean||1==k)&&0<F.length&&(d["$<<"](F),F=[]);F.push(a)};f.$each();if(0<F.length)d["$<<"](F)},g.$$s=this,g.$$arity=1,g),d).call(f)},fa.$$arity=-1);a.defn(h,"$sort",da=function(){var a,b,c,d=da.$$p||e,f=e;da.$$p=null;f=this.$to_a();d===e&&(d=(a=this.$lambda,a.$$p=(b=function(a,b){null==a&&(a=e);null==b&&(b=e);return a["$<=>"](b)},b.$$s=this,b.$$arity=2,b),a).call(this));return(a=(c=f).$sort,a.$$p=d.$to_proc(),a).call(c)},da.$$arity=0);a.defn(h,"$sort_by",F=
function(){var c,d,f,g,h,k,m,l=F.$$p||e,x=e;F.$$p=null;if(l===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"sort_by");x=(c=this.$map,c.$$p=(f=function(){var c=e,c=b.get("Opal").$destructure(arguments);return[a.yield1(l,c),c]},f.$$s=this,f.$$arity=0,f),c).call(this);(c=(g=x)["$sort!"],c.$$p=(h=function(a,c){null==a&&(a=e);null==c&&(c=e);return a[0]["$<=>"](c[0])},h.$$s=this,h.$$arity=2,h),c).call(g);return(c=(k=x)["$map!"],
c.$$p=(m=function(a){null==a&&(a=e);return a[1]},m.$$s=this,m.$$arity=1,m),c).call(k)},F.$$arity=0);a.defn(h,"$take",ba=function(a){return this.$first(a)},ba.$$arity=1);a.defn(h,"$take_while",x=function(){try{var c,d,f=x.$$p||e,g=e;x.$$p=null;if(!1===f||f===e||null==f)return this.$enum_for("take_while");g=[];return(c=this.$each,c.$$p=(d=function(c){var d,h,k=e,k=arguments.length;d=k-0;0>d&&(d=0);d=Array(d);for(var F=0;F<k;F++)d[F-0]=arguments[F];k=b.get("Opal").$destructure(d);((h=a.yield1(f,k))===
e||null==h||h.$$is_boolean&&1!=h)&&a.ret(g);return g.push(k)},d.$$s=this,d.$$arity=-1,d),c).call(this)}catch(h){if(h===a.returner)return h.$v;throw h;}},x.$$arity=0);a.alias(h,"to_a","entries");a.defn(h,"$zip",ca=function(c){var b,d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];ca.$$p=null;return(b=this.$to_a()).$zip.apply(b,a.to_a(d))},ca.$$arity=-1)}(a.base)};
Opal.modules["corelib/enumerator"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var e=a.top,g=a.nil,h=a.breaker,b=a.slice,c=a.klass;a.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));e.$require("corelib/enumerable");
return function(d,$super){function e(){}var k=e=c(d,$super,"Enumerator",e),p=k.$$proto,f=k.$$scope,m,q,y,I,E,z;p.size=p.args=p.object=p.method=g;k.$include(f.get("Enumerable"));p.$$is_enumerator=!0;a.defs(k,"$for",m=function(a,c,b){var d,f=m.$$p||g;null==c&&(c="each");var e=arguments.length;d=e-2;0>d&&(d=0);d=Array(d);for(var h=2;h<e;h++)d[h-2]=arguments[h];m.$$p=null;e=this.$allocate();e.object=a;e.size=f;e.method=c;e.args=d;return e},m.$$arity=-2);a.defn(k,"$initialize",q=function(a){var c,d,e=
q.$$p||g;q.$$p=null;if(!1!==e&&e!==g&&null!=e)return this.object=(c=(d=f.get("Generator")).$new,c.$$p=e.$to_proc(),c).call(d),this.method="each",this.args=[],this.size=arguments[0]||g,(c=this.size)===g||null==c||c.$$is_boolean&&1!=c?g:this.size=f.get("Opal").$coerce_to(this.size,f.get("Integer"),"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=b.call(arguments,2);return this.size=g},q.$$arity=-1);a.defn(k,"$each",y=function(c){var b,d,f,e,h=y.$$p||g,k=arguments.length;
e=k-0;0>e&&(e=0);e=Array(e);for(var m=0;m<k;m++)e[m-0]=arguments[m];y.$$p=null;if((b=(d=h["$nil?"](),!1!==d&&d!==g&&null!=d?e["$empty?"]():d))!==g&&null!=b&&(!b.$$is_boolean||1==b))return this;e=l(this.args,e);return(b=h["$nil?"]())===g||null==b||b.$$is_boolean&&1!=b?(d=(f=this.object).$__send__,d.$$p=h.$to_proc(),d).apply(f,[this.method].concat(a.to_a(e))):(b=this.$class()).$new.apply(b,[this.object,this.method].concat(a.to_a(e)))},y.$$arity=-1);a.defn(k,"$size",I=function(){var c;return(c=f.get("Proc")["$==="](this.size))===
g||null==c||c.$$is_boolean&&1!=c?this.size:(c=this.size).$call.apply(c,a.to_a(this.args))},I.$$arity=0);a.defn(k,"$with_index",E=function(a){var c,b,d=E.$$p||g;null==a&&(a=0);E.$$p=null;a=!1!==a&&a!==g&&null!=a?f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int"):0;if(!1===d||d===g||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"with_index",a);var e=a;this.$each.$$p=function(){var a=f.get("Opal").$destructure(arguments),a=
d(a,e);e++;return a};return this.$each()},E.$$arity=-1);a.alias(k,"with_object","each_with_object");a.defn(k,"$inspect",z=function(){var a,c=g,c="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((a=this.args["$empty?"]())===g||null==a||a.$$is_boolean&&1!=a)c=l(c,"("+this.args.$inspect()["$[]"](f.get("Range").$new(1,-2))+")");return l(c,">")},z.$$arity=0);(function(b,$super){function d(){}var f=d=c(b,$super,"Generator",d),e=f.$$scope,k,m;f.$$proto.block=g;f.$include(e.get("Enumerable"));
a.defn(f,"$initialize",k=function(){var a=k.$$p||g;k.$$p=null;!1!==a&&a!==g&&null!=a||this.$raise(e.get("LocalJumpError"),"no block given");return this.block=a},k.$$arity=0);return(a.defn(f,"$each",m=function(c){var b,d,f,k=m.$$p||g,l=g,l=arguments.length;f=l-0;0>f&&(f=0);f=Array(f);for(var p=0;p<l;p++)f[p-0]=arguments[p];m.$$p=null;l=(b=(d=e.get("Yielder")).$new,b.$$p=k.$to_proc(),b).call(d);try{f.unshift(l),a.yieldX(this.block,f)}catch(u){if(u===h)return h.$v;throw u;}return this},m.$$arity=-1),
g)&&"each"})(f.base,null);(function(b,$super){function d(){}var f=d=c(b,$super,"Yielder",d),e,k,m;f.$$proto.block=g;a.defn(f,"$initialize",e=function(){var a=e.$$p||g;e.$$p=null;return this.block=a},e.$$arity=0);a.defn(f,"$yield",k=function(c){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];d=a.yieldX(this.block,b);if(d===h)throw h;return d},k.$$arity=-1);return(a.defn(f,"$<<",m=function(c){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=
0;f<d;f++)b[f-0]=arguments[f];this.$yield.apply(this,a.to_a(b));return this},m.$$arity=-1),g)&&"<<"})(f.base,null);return function(b,$super){function d(){}var f=d=c(b,$super,"Lazy",d),e=f.$$scope,h,k,m,p,q,w,z,y,E,O,T,Y,X;f.$$proto.enumerator=g;(function(a,$super){function b(){}b=c(a,$super,"StopLazyError",b);return g})(e.base,e.get("Exception"));a.defn(f,"$initialize",h=function(c,b){var d,f,k=h.$$p||g;null==b&&(b=g);h.$$p=null;k===g&&this.$raise(e.get("ArgumentError"),"tried to call lazy new without a block");
this.enumerator=c;return(d=a.find_super_dispatcher(this,"initialize",h,!1),d.$$p=(f=function(b,d){var h=f.$$s||this,m,l,p,u=arguments.length;m=u-1;0>m&&(m=0);m=Array(m);for(var n=1;n<u;n++)m[n-1]=arguments[n];null==b&&(b=g);try{return(l=c.$each,l.$$p=(p=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];d.unshift(b);a.yieldX(k,d)},p.$$s=h,p.$$arity=-1,p),l).apply(c,a.to_a(m))}catch(r){if(a.rescue(r,[e.get("Exception")]))try{return g}finally{a.pop_exception()}else throw r;
}},f.$$s=this,f.$$arity=-2,f),d).call(this,b)},h.$$arity=-2);a.alias(f,"force","to_a");a.defn(f,"$lazy",k=function(){return this},k.$$arity=0);a.defn(f,"$collect",m=function(){var c,b,d,f=m.$$p||g;m.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy map without a block");return(c=(b=e.get("Lazy")).$new,c.$$p=(d=function(c,b){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var h=1;h<e;h++)d[h-1]=arguments[h];null==c&&(c=g);e=a.yieldX(f,d);c.$yield(e)},
d.$$s=this,d.$$arity=-2,d),c).call(b,this,this.$enumerator_size())},m.$$arity=0);a.defn(f,"$collect_concat",p=function(){var c,b,d,f=p.$$p||g;p.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy map without a block");return(c=(b=e.get("Lazy")).$new,c.$$p=(d=function(c,b){var h=d.$$s||this,k,m,l,p,u=arguments.length;k=u-1;0>k&&(k=0);k=Array(k);for(var n=1;n<u;n++)k[n-1]=arguments[n];null==c&&(c=g);u=a.yieldX(f,k);u["$respond_to?"]("force")&&u["$respond_to?"]("each")?
(m=u.$each,m.$$p=(l=function(a){null==a&&(a=g);return c.$yield(a)},l.$$s=h,l.$$arity=1,l),m).call(u):e.get("Opal").$try_convert(u,e.get("Array"),"to_ary")===g?c.$yield(u):(m=u.$each,m.$$p=(p=function(a){null==a&&(a=g);return c.$yield(a)},p.$$s=h,p.$$arity=1,p),m).call(u)},d.$$s=this,d.$$arity=-2,d),c).call(b,this,g)},p.$$arity=0);a.defn(f,"$drop",q=function(c){var b,d,f,h=g,k=h=g;c=e.get("Opal").$coerce_to(c,e.get("Integer"),"to_int");(b=n(c,0))===g||null==b||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),
"attempt to drop negative size");h=this.$enumerator_size();h=(b=e.get("Integer")["$==="](h))===g||null==b||b.$$is_boolean&&1!=b?h:(b=n(c,h))===g||null==b||b.$$is_boolean&&1!=b?h:c;k=0;return(b=(d=e.get("Lazy")).$new,b.$$p=(f=function(b,d){var f,e,h=arguments.length;f=h-1;0>f&&(f=0);f=Array(f);for(var m=1;m<h;m++)f[m-1]=arguments[m];null==b&&(b=g);return(e=n(k,c))===g||null==e||e.$$is_boolean&&1!=e?(e=b).$yield.apply(e,a.to_a(f)):k=l(k,1)},f.$$s=this,f.$$arity=-2,f),b).call(d,this,h)},q.$$arity=1);
a.defn(f,"$drop_while",w=function(){var b,c,d,f=w.$$p||g,h=g;w.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy drop_while without a block");h=!0;return(b=(c=e.get("Lazy")).$new,b.$$p=(d=function(b,c){var d,e,k,m=arguments.length;d=m-1;0>d&&(d=0);d=Array(d);for(var l=1;l<m;l++)d[l-1]=arguments[l];null==b&&(b=g);if(!1!==h&&h!==g&&null!=h){if((e=a.yieldX(f,d))===g||null==e||e.$$is_boolean&&0==e)h=!1,(e=b).$yield.apply(e,a.to_a(d))}else return(k=b).$yield.apply(k,
a.to_a(d))},d.$$s=this,d.$$arity=-2,d),b).call(c,this,g)},w.$$arity=0);a.defn(f,"$enum_for",z=function(b,c){var d,f,e,h=z.$$p||g;null==b&&(b="each");var k=arguments.length;e=k-1;0>e&&(e=0);e=Array(e);for(var F=1;F<k;F++)e[F-1]=arguments[F];z.$$p=null;return(d=(f=this.$class()).$for,d.$$p=h.$to_proc(),d).apply(f,[this,b].concat(a.to_a(e)))},z.$$arity=-1);a.defn(f,"$find_all",y=function(){var b,c,d,f=y.$$p||g;y.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy select without a block");
return(b=(c=e.get("Lazy")).$new,b.$$p=(d=function(b,c){var d,e,h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var k=1;k<h;k++)d[k-1]=arguments[k];null==b&&(b=g);(e=a.yieldX(f,d))===g||null==e||e.$$is_boolean&&1!=e||(e=b).$yield.apply(e,a.to_a(d))},d.$$s=this,d.$$arity=-2,d),b).call(c,this,g)},y.$$arity=0);a.alias(f,"flat_map","collect_concat");a.defn(f,"$grep",E=function(b){var c,d,f,h,k,m=E.$$p||g;E.$$p=null;return!1!==m&&m!==g&&null!=m?(c=(d=e.get("Lazy")).$new,c.$$p=(f=function(c,d){var f,
h,k=arguments.length;f=k-1;0>f&&(f=0);f=Array(f);for(var l=1;l<k;l++)f[l-1]=arguments[l];null==c&&(c=g);k=e.get("Opal").$destructure(f);(h=b["$==="](k))===g||null==h||h.$$is_boolean&&1!=h||(a.yield1(m,k),c.$yield(a.yield1(m,k)))},f.$$s=this,f.$$arity=-2,f),c).call(d,this,g):(c=(h=e.get("Lazy")).$new,c.$$p=(k=function(a,c){var d,f,h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var k=1;k<h;k++)d[k-1]=arguments[k];null==a&&(a=g);h=e.get("Opal").$destructure(d);(f=b["$==="](h))===g||null==f||f.$$is_boolean&&
1!=f||a.$yield(h)},k.$$s=this,k.$$arity=-2,k),c).call(h,this,g)},E.$$arity=1);a.alias(f,"map","collect");a.alias(f,"select","find_all");a.defn(f,"$reject",O=function(){var b,c,d,f=O.$$p||g;O.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy reject without a block");return(b=(c=e.get("Lazy")).$new,b.$$p=(d=function(b,d){var c,e,h=arguments.length;c=h-1;0>c&&(c=0);c=Array(c);for(var k=1;k<h;k++)c[k-1]=arguments[k];null==b&&(b=g);((e=a.yieldX(f,c))===g||null==e||
e.$$is_boolean&&0==e)&&(e=b).$yield.apply(e,a.to_a(c))},d.$$s=this,d.$$arity=-2,d),b).call(c,this,g)},O.$$arity=0);a.defn(f,"$take",T=function(c){var b,d,f,h=g,k=h=g;c=e.get("Opal").$coerce_to(c,e.get("Integer"),"to_int");(b=n(c,0))===g||null==b||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"attempt to take negative size");h=this.$enumerator_size();h=(b=e.get("Integer")["$==="](h))===g||null==b||b.$$is_boolean&&1!=b?h:(b=n(c,h))===g||null==b||b.$$is_boolean&&1!=b?h:c;k=0;return(b=(d=e.get("Lazy")).$new,
b.$$p=(f=function(b,d){var h=f.$$s||this,m,p,u=arguments.length;m=u-1;0>m&&(m=0);m=Array(m);for(var r=1;r<u;r++)m[r-1]=arguments[r];null==b&&(b=g);if((p=n(k,c))===g||null==p||p.$$is_boolean&&1!=p)return h.$raise(e.get("StopLazyError"));(p=b).$yield.apply(p,a.to_a(m));return k=l(k,1)},f.$$s=this,f.$$arity=-2,f),b).call(d,this,h)},T.$$arity=1);a.defn(f,"$take_while",Y=function(){var b,c,d,f=Y.$$p||g;Y.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy take_while without a block");
return(b=(c=e.get("Lazy")).$new,b.$$p=(d=function(b,c){var h=d.$$s||this,k,m,l=arguments.length;k=l-1;0>k&&(k=0);k=Array(k);for(var p=1;p<l;p++)k[p-1]=arguments[p];null==b&&(b=g);(m=a.yieldX(f,k))===g||null==m||m.$$is_boolean&&1!=m?h.$raise(e.get("StopLazyError")):(m=b).$yield.apply(m,a.to_a(k))},d.$$s=this,d.$$arity=-2,d),b).call(c,this,g)},Y.$$arity=0);a.alias(f,"to_enum","enum_for");return(a.defn(f,"$inspect",X=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},X.$$arity=
0),g)&&"inspect"}(f.base,k)}(a.base,null)};
Opal.modules["corelib/numeric"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}var h=a.top,b=a.nil,c=a.klass;a.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));h.$require("corelib/comparable");
return function(d,$super){function h(){}var k=h=c(d,$super,"Numeric",h),p=k.$$scope,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca;k.$include(p.get("Comparable"));a.defn(k,"$coerce",f=function(a){var c;return(c=a["$instance_of?"](this.$class()))===b||null==c||c.$$is_boolean&&1!=c?[this.$Float(a),this.$Float(this)]:[a,this]},f.$$arity=1);a.defn(k,"$__coerced__",m=function(c,d){var f,e,g=b,h=b,k=b;try{e=d.$coerce(this),f=a.to_ary(e),g=null==f[0]?b:f[0],h=null==f[1]?
b:f[1],e}catch(m){if(a.rescue(m,[p.get("StandardError")]))try{k=c,"+"["$==="](k)||"-"["$==="](k)||"*"["$==="](k)||"/"["$==="](k)||"%"["$==="](k)||"&"["$==="](k)||"|"["$==="](k)||"^"["$==="](k)||"**"["$==="](k)?this.$raise(p.get("TypeError"),""+d.$class()+" can't be coerce into Numeric"):(">"["$==="](k)||">="["$==="](k)||"<"["$==="](k)||"<="["$==="](k)||"<=>"["$==="](k))&&this.$raise(p.get("ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed")}finally{a.pop_exception()}else throw m;
}return g.$__send__(c,h)},m.$$arity=2);a.defn(k,"$<=>",q=function(a){var c;return(c=this["$equal?"](a))===b||null==c||c.$$is_boolean&&1!=c?b:0},q.$$arity=1);a.defn(k,"$[]",y=function(a){var c=b,d=b;a=p.get("Opal")["$coerce_to!"](a,p.get("Integer"),"to_int");c=2["$**"](30)["$-@"]();d=l(2["$**"](30),1);return a<c||a>d?0:(this>>a)%2},y.$$arity=1);a.defn(k,"$+@",I=function(){return this},I.$$arity=0);a.defn(k,"$-@",E=function(){return l(0,this)},E.$$arity=0);a.defn(k,"$%",z=function(a){return l(this,
n(a,this.$div(a)))},z.$$arity=1);a.defn(k,"$abs",u=function(){return e(this,0)?this["$-@"]():this},u.$$arity=0);a.defn(k,"$abs2",H=function(){return n(this,this)},H.$$arity=0);a.defn(k,"$angle",L=function(){return e(this,0)?p.get("Math").$$scope.get("PI"):0},L.$$arity=0);a.alias(k,"arg","angle");a.defn(k,"$ceil",J=function(){return this.$to_f().$ceil()},J.$$arity=0);a.defn(k,"$conj",N=function(){return this},N.$$arity=0);a.alias(k,"conjugate","conj");a.defn(k,"$denominator",Q=function(){return this.$to_r().$denominator()},
Q.$$arity=0);a.defn(k,"$div",A=function(a){a["$=="](0)&&this.$raise(p.get("ZeroDivisionError"),"divided by o");return g(this,a).$floor()},A.$$arity=1);a.defn(k,"$divmod",r=function(a){return[this.$div(a),this["$%"](a)]},r.$$arity=1);a.defn(k,"$fdiv",P=function(a){return g(this.$to_f(),a)},P.$$arity=1);a.defn(k,"$floor",S=function(){return this.$to_f().$floor()},S.$$arity=0);a.defn(k,"$i",R=function(){return this.$Complex(0,this)},R.$$arity=0);a.defn(k,"$imag",Z=function(){return 0},Z.$$arity=0);a.alias(k,
"imaginary","imag");a.defn(k,"$integer?",aa=function(){return!1},aa.$$arity=0);a.alias(k,"magnitude","abs");a.alias(k,"modulo","%");a.defn(k,"$nonzero?",V=function(){var a;return(a=this["$zero?"]())===b||null==a||a.$$is_boolean&&1!=a?this:b},V.$$arity=0);a.defn(k,"$numerator",O=function(){return this.$to_r().$numerator()},O.$$arity=0);a.alias(k,"phase","arg");a.defn(k,"$polar",T=function(){return[this.$abs(),this.$arg()]},T.$$arity=0);a.defn(k,"$quo",Y=function(a){return g(p.get("Opal")["$coerce_to!"](this,
p.get("Rational"),"to_r"),a)},Y.$$arity=1);a.defn(k,"$real",X=function(){return this},X.$$arity=0);a.defn(k,"$real?",ea=function(){return!0},ea.$$arity=0);a.defn(k,"$rect",ha=function(){return[this,0]},ha.$$arity=0);a.alias(k,"rectangular","rect");a.defn(k,"$round",ia=function(a){return this.$to_f().$round(a)},ia.$$arity=-1);a.defn(k,"$to_c",ka=function(){return this.$Complex(this,0)},ka.$$arity=0);a.defn(k,"$to_int",la=function(){return this.$to_i()},la.$$arity=0);a.defn(k,"$truncate",fa=function(){return this.$to_f().$truncate()},
fa.$$arity=0);a.defn(k,"$zero?",da=function(){return this["$=="](0)},da.$$arity=0);a.defn(k,"$positive?",F=function(){return"number"===typeof this?0<this:this["$>"](0)},F.$$arity=0);a.defn(k,"$negative?",ba=function(){return e(this,0)},ba.$$arity=0);a.defn(k,"$dup",x=function(){return this.$raise(p.get("TypeError"),"can't dup "+this.$class())},x.$$arity=0);return(a.defn(k,"$clone",ca=function(){return this.$raise(p.get("TypeError"),"can't clone "+this.$class())},ca.$$arity=0),b)&&"clone"}(a.base,
null)};
Opal.modules["corelib/array"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var n=a.top,e=a.nil,g=a.klass,h=a.hash2,b=a.gvars;a.add_stubs("$require $include $to_a $raise $=== $replace $respond_to? $to_ary $coerce_to $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $>= $** $delete_if $to_proc $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $sort_by $!= $times $[]= $<< $values $kind_of? $last $first $upto $reject $pristine".split(" "));n.$require("corelib/enumerable");
n.$require("corelib/numeric");return function(c,$super){function n(){}function w(b,c){return c.$$name===a.Array?b:c.$allocate().$replace(b.$to_a())}function k(a,b){return a===b||0===b?1:0<b&&a>b?k(a-1,b-1)+k(a-1,b):0}var p=n=g(c,$super,"Array",n),f=p.$$proto,m=p.$$scope,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta,va,ua,ja,t,U,qa,oa,wa,xa,za,Aa,ga,ya,M,C,G,D,Da,Ca,Ba,Ea,Fa,Ua,Ka,La,Qa,Ra,Va,Wa,Ia,Ja,Ma,Xa,Na,Ya,Za,ab,Oa,Pa,bb,Ta,Ha,Sa,Ga;f.length=
e;p.$include(m.get("Enumerable"));f.$$is_array=!0;a.defs(p,"$[]",q=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];return w(b,this)},q.$$arity=-1);a.defn(p,"$initialize",y=function(a,b){var c,f=y.$$p||e;null==a&&(a=e);null==b&&(b=e);y.$$p=null;(c=2<arguments.length)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,
this.length),this;if((c=1===arguments.length)!==e&&null!=c&&(!c.$$is_boolean||1==c)){if((c=m.get("Array")["$==="](a))!==e&&null!=c&&(!c.$$is_boolean||1==c))return this.$replace(a.$to_a()),this;if((c=a["$respond_to?"]("to_ary"))!==e&&null!=c&&(!c.$$is_boolean||1==c))return this.$replace(a.$to_ary()),this}a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");(c=0>a)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"negative array size");this.splice(0,this.length);var g;if(f===
e)for(c=0;c<a;c++)this.push(b);else for(c=0,g;c<a;c++)g=f(c),this[c]=g;return this},y.$$arity=-1);a.defs(p,"$try_convert",I=function(a){return m.get("Opal")["$coerce_to?"](a,m.get("Array"),"to_ary")},I.$$arity=1);a.defn(p,"$&",E=function(b){var c;b=(c=m.get("Array")["$==="](b))===e||null==c||c.$$is_boolean&&1!=c?m.get("Opal").$coerce_to(b,m.get("Array"),"to_ary").$to_a():b.$to_a();c=[];var f=h([],{}),g,t;g=0;for(t=b.length;g<t;g++)a.hash_put(f,b[g],!0);g=0;for(t=this.length;g<t;g++)b=this[g],void 0!==
a.hash_delete(f,b)&&c.push(b);return c},E.$$arity=1);a.defn(p,"$|",z=function(b){var c;b=(c=m.get("Array")["$==="](b))===e||null==c||c.$$is_boolean&&1!=c?m.get("Opal").$coerce_to(b,m.get("Array"),"to_ary").$to_a():b.$to_a();c=h([],{});var f,g;f=0;for(g=this.length;f<g;f++)a.hash_put(c,this[f],!0);f=0;for(g=b.length;f<g;f++)a.hash_put(c,b[f],!0);return c.$keys()},z.$$arity=1);a.defn(p,"$*",u=function(a){var b;if((b=a["$respond_to?"]("to_str"))!==e&&null!=b&&(!b.$$is_boolean||1==b))return this.$join(a.$to_str());
a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");(b=0>a)===e||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),"negative argument");b=[];for(var c=this.$to_a(),f=0;f<a;f++)b=b.concat(c);return w(b,this.$class())},u.$$arity=1);a.defn(p,"$+",H=function(a){var b;a=(b=m.get("Array")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b?m.get("Opal").$coerce_to(a,m.get("Array"),"to_ary").$to_a():a.$to_a();return this.concat(a)},H.$$arity=1);a.defn(p,"$-",L=function(b){var c;b=(c=m.get("Array")["$==="](b))===
e||null==c||c.$$is_boolean&&1!=c?m.get("Opal").$coerce_to(b,m.get("Array"),"to_ary").$to_a():b.$to_a();if((c=0===this.length)!==e&&null!=c&&(!c.$$is_boolean||1==c))return[];if((c=0===b.length)!==e&&null!=c&&(!c.$$is_boolean||1==c))return this.$clone().$to_a();c=[];var f=h([],{}),g,t;g=0;for(t=b.length;g<t;g++)a.hash_put(f,b[g],!0);g=0;for(t=this.length;g<t;g++)b=this[g],void 0===a.hash_get(f,b)&&c.push(b);return c},L.$$arity=1);a.defn(p,"$<<",J=function(a){this.push(a);return this},J.$$arity=1);a.defn(p,
"$<=>",N=function(a){var b;if((b=m.get("Array")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b){if((b=a["$respond_to?"]("to_ary"))===e||null==b||b.$$is_boolean&&1!=b)return e;a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;b=Math.min(this.length,a.length);for(var c=0;c<b;c++){var f=this[c]["$<=>"](a[c]);if(0!==f)return f}return this.length["$<=>"](a.length)},N.$$arity=1);a.defn(p,"$==",Q=function(a){function b(a,f){var e,g,t,h;if(a===f)return!0;if(!f.$$is_array)return m.get("Opal")["$respond_to?"](f,
"to_ary")?f["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());f.constructor!==Array&&(f=f.$to_a());if(a.length!==f.length)return!1;c[a.$object_id()]=!0;e=0;for(g=a.length;e<g;e++)if(t=a[e],h=f[e],t.$$is_array){if(h.$$is_array&&h.length!==t.length||!c.hasOwnProperty(t.$object_id())&&!b(t,h))return!1}else if(!t["$=="](h))return!1;return!0}var c={};return b(this,a)},Q.$$arity=1);a.defn(p,"$[]",A=function(a,b){var c=this.length,f,g,t;if(a.$$is_range){f=a.exclude;g=m.get("Opal").$coerce_to(a.begin,m.get("Integer"),
"to_int");t=m.get("Opal").$coerce_to(a.end,m.get("Integer"),"to_int");if(0>g&&(g+=c,0>g)||g>c)return e;if(0>t&&(t+=c,0>t))return[];f||(t+=1);c=this.slice(g,t)}else{a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");if(0>a&&(a+=c,0>a))return e;if(void 0===b)return a>=c||0>a?e:this[a];b=m.get("Opal").$coerce_to(b,m.get("Integer"),"to_int");if(0>b||a>c||0>a)return e;c=this.slice(a,a+b)}return w(c,this.$class())},A.$$arity=-2);a.defn(p,"$[]=",r=function(a,b,c){var f,g=e,t=e,h;h=this.length;if((f=
m.get("Range")["$==="](a))===e||null==f||f.$$is_boolean&&1!=f){(f=void 0===c)===e||null==f||f.$$is_boolean&&1!=f?(t=b,b=c,g=(f=m.get("Array")["$==="](b))===e||null==f||f.$$is_boolean&&1!=f?(f=b["$respond_to?"]("to_ary"))===e||null==f||f.$$is_boolean&&1!=f?[b]:b.$to_ary().$to_a():b.$to_a()):t=1;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");t=m.get("Opal").$coerce_to(t,m.get("Integer"),"to_int");0>a&&(f=a,a+=h,0>a&&this.$raise(m.get("IndexError"),"index "+f+" too small for array; minimum "+
-this.length));0>t&&this.$raise(m.get("IndexError"),"negative length ("+t+")");if(a>h)for(;h<a;h++)this[h]=e;void 0===c?this[a]=b:this.splice.apply(this,[a,t].concat(g))}else{g=(f=m.get("Array")["$==="](b))===e||null==f||f.$$is_boolean&&1!=f?(f=b["$respond_to?"]("to_ary"))===e||null==f||f.$$is_boolean&&1!=f?[b]:b.$to_ary().$to_a():b.$to_a();f=a.exclude;c=m.get("Opal").$coerce_to(a.begin,m.get("Integer"),"to_int");t=m.get("Opal").$coerce_to(a.end,m.get("Integer"),"to_int");0>c&&(c+=h,0>c&&this.$raise(m.get("RangeError"),
""+a.$inspect()+" out of range"));0>t&&(t+=h);f||(t+=1);if(c>h)for(;h<c;h++)this[h]=e;0>t?this.splice.apply(this,[c,0].concat(g)):this.splice.apply(this,[c,t-c].concat(g))}return b},r.$$arity=-3);a.defn(p,"$assoc",P=function(a){for(var b=0,c=this.length,f;b<c;b++)if(f=this[b],f.length&&f[0]["$=="](a))return f;return e},P.$$arity=1);a.defn(p,"$at",S=function(a){a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?e:this[a]},S.$$arity=1);a.defn(p,
"$bsearch",R=function(){var a=R.$$p||e;R.$$p=null;if(a===e)return this.$enum_for("bsearch");for(var b=0,c=this.length,f,g,t,h=!1,k=e;b<c;){f=b+Math.floor((c-b)/2);g=this[f];t=a(g);if(!0===t)k=g,h=!0;else if(!1===t||t===e)h=!1;else if(t.$$is_number){if(0===t)return g;h=0>t}else this.$raise(m.get("TypeError"),"wrong argument type "+t.$class()+" (must be numeric, true, false or nil)");h?c=f:b=f+1}return k},R.$$arity=0);a.defn(p,"$cycle",Z=function(b){var c,f,g,t=Z.$$p||e;null==b&&(b=e);Z.$$p=null;if(t===
e)return(c=this.$enum_for,c.$$p=(f=function(){var a=f.$$s||this,c;if(b["$=="](e))return m.get("Float").$$scope.get("INFINITY");b=m.get("Opal")["$coerce_to!"](b,m.get("Integer"),"to_int");if((c=l(b,0))===e||null==c||c.$$is_boolean&&1!=c)return 0;a=a.$enumerator_size();return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)},f.$$s=this,f.$$arity=0,f),c).call(this,"cycle",b);if((c=!1!==(g=this["$empty?"]())&&g!==e&&null!=g?g:b["$=="](0))!==e&&null!=c&&(!c.$$is_boolean||1==c))return e;if(b===e)for(;;)for(c=
0,g=this.length;c<g;c++)a.yield1(t,this[c]);else{b=m.get("Opal")["$coerce_to!"](b,m.get("Integer"),"to_int");if(0>=b)return this;for(;0<b;){c=0;for(g=this.length;c<g;c++)a.yield1(t,this[c]);b--}}return this},Z.$$arity=-1);a.defn(p,"$clear",aa=function(){this.splice(0,this.length);return this},aa.$$arity=0);a.defn(p,"$count",V=function(b){var c,f,g=V.$$p,t=g||e,h=e,k=e;null==b&&(b=e);V.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return(c=!1!==(f=b)&&f!==e&&null!=f?f:t)===e||null==
c||c.$$is_boolean&&1!=c?this.$size():(c=(f=this,a.find_super_dispatcher(this,"count",V,!1)),c.$$p=g,c).apply(f,h)},V.$$arity=-1);a.defn(p,"$initialize_copy",O=function(a){return this.$replace(a)},O.$$arity=1);a.defn(p,"$collect",T=function(){var b,c,f=T.$$p||e;T.$$p=null;if(f===e)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,"collect");b=[];for(var g=0,t=this.length;g<t;g++){var h=a.yield1(f,this[g]);b.push(h)}return b},T.$$arity=0);
a.defn(p,"$collect!",Y=function(){var b,c,f=Y.$$p||e;Y.$$p=null;if(f===e)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,"collect!");b=0;for(var g=this.length;b<g;b++){var t=a.yield1(f,this[b]);this[b]=t}return this},Y.$$arity=0);a.defn(p,"$combination",X=function(b){var c,f,g=X.$$p||e,t=e;X.$$p=null;t=m.get("Opal")["$coerce_to!"](b,m.get("Integer"),"to_int");if(g===e)return(c=this.$enum_for,c.$$p=(f=function(){return k((f.$$s||this).length,
t)},f.$$s=this,f.$$arity=0,f),c).call(this,"combination",t);var h,C;if(0===t)a.yield1(g,[]);else if(1===t)for(c=0,b=this.length;c<b;c++)a.yield1(g,[this[c]]);else if(t===this.length)a.yield1(g,this.slice());else if(0<=t&&t<this.length){b=[];for(c=0;c<=t+1;c++)b.push(0);c=[];h=0;C=!1;for(b[0]=-1;!C;){for(c[h]=this[b[h+1]];h<t-1;)h++,C=b[h+1]=b[h]+1,c[h]=this[C];a.yield1(g,c.slice());h++;do C=0===h,b[h]++,h--;while(b[h+1]+t===this.length+h+1)}}return this},X.$$arity=1);a.defn(p,"$repeated_combination",
ea=function(b){function c(b,f,e,g){if(e.length==b)b=e.slice(),a.yield1(t,b);else for(;f<g.length;f++)e.push(g[f]),c(b,f,e,g),e.pop()}var f,g,t=ea.$$p||e,h=e;ea.$$p=null;h=m.get("Opal")["$coerce_to!"](b,m.get("Integer"),"to_int");if(t===e)return(f=this.$enum_for,f.$$p=(g=function(){return k((g.$$s||this).length+h-1,h)},g.$$s=this,g.$$arity=0,g),f).call(this,"repeated_combination",h);0<=h&&c(h,0,[],this);return this},ea.$$arity=1);a.defn(p,"$compact",ha=function(){for(var a=[],b=0,c=this.length,f;b<
c;b++)(f=this[b])!==e&&a.push(f);return a},ha.$$arity=0);a.defn(p,"$compact!",ia=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===e&&(this.splice(b,1),c--,b--);return this.length===a?e:this},ia.$$arity=0);a.defn(p,"$concat",ka=function(a){var b;a=(b=m.get("Array")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b?m.get("Opal").$coerce_to(a,m.get("Array"),"to_ary").$to_a():a.$to_a();b=0;for(var c=a.length;b<c;b++)this.push(a[b]);return this},ka.$$arity=1);a.defn(p,"$delete",la=function(b){var c=
la.$$p||e;la.$$p=null;for(var f=this.length,g=0,t=f;g<t;g++)this[g]["$=="](b)&&(this.splice(g,1),t--,g--);return this.length===f?c!==e?a.yieldX(c,[]):e:b},la.$$arity=1);a.defn(p,"$delete_at",fa=function(a){a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return e;var b=this[a];this.splice(a,1);return b},fa.$$arity=1);a.defn(p,"$delete_if",da=function(){var a,b,c=da.$$p||e;da.$$p=null;if(c===e)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||
this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"delete_if");a=0;for(var f=this.length,g;a<f;a++)g=c(this[a]),!1!==g&&g!==e&&(this.splice(a,1),f--,a--);return this},da.$$arity=0);a.defn(p,"$drop",F=function(a){0>a&&this.$raise(m.get("ArgumentError"));return this.slice(a)},F.$$arity=1);a.defn(p,"$dup",ba=function(){var b,c=ba.$$p,f=e,g=e;ba.$$p=null;f=[];for(g=0;g<arguments.length;g++)f[g]=arguments[g];return this.$$class===a.Array&&this.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&
this.$initialize_dup.$$pristine?this.slice(0):(b=a.find_super_dispatcher(this,"dup",ba,!1),b.$$p=c,b).apply(this,f)},ba.$$arity=0);a.defn(p,"$each",x=function(){var b,c,f=x.$$p||e;x.$$p=null;if(f===e)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,"each");b=0;for(var g=this.length;b<g;b++)a.yield1(f,this[b]);return this},x.$$arity=0);a.defn(p,"$each_index",ca=function(){var b,c,f=ca.$$p||e;ca.$$p=null;if(f===e)return(b=this.$enum_for,
b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,"each_index");b=0;for(var g=this.length;b<g;b++)a.yield1(f,b);return this},ca.$$arity=0);a.defn(p,"$empty?",B=function(){return 0===this.length},B.$$arity=0);a.defn(p,"$eql?",W=function(a){function b(a,f){var e,g,t,h;if(!f.$$is_array)return!1;f=f.$to_a();if(a.length!==f.length)return!1;c[a.$object_id()]=!0;e=0;for(g=a.length;e<g;e++)if(t=a[e],h=f[e],t.$$is_array){if(h.$$is_array&&h.length!==t.length||!c.hasOwnProperty(t.$object_id())&&
!b(t,h))return!1}else if(!t["$eql?"](h))return!1;return!0}var c={};return b(this,a)},W.$$arity=1);a.defn(p,"$fetch",ma=function(a,b){var c=ma.$$p||e;ma.$$p=null;var f=a;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(c!==e)return c(f);if(null!=b)return b;0===this.length?this.$raise(m.get("IndexError"),"index "+f+" outside of array bounds: 0...0"):this.$raise(m.get("IndexError"),"index "+f+" outside of array bounds: -"+this.length+
"..."+this.length)},ma.$$arity=-2);a.defn(p,"$fill",na=function(b){var c,f,g,t=na.$$p||e,h=g=e,k=e,h=f=e;f=arguments.length;g=f-0;0>g&&(g=0);g=Array(g);for(h=0;h<f;h++)g[h-0]=arguments[h];na.$$p=null;!1!==t&&t!==e&&null!=t?((c=2<g.length)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+g.$length()+" for 0..2)"),f=g,c=a.to_ary(f),g=null==c[0]?e:c[0],h=null==c[1]?e:c[1]):((c=0==g.length)===e||null==c||c.$$is_boolean&&1!=c?(c=3<g.length)===e||null==
c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+g.$length()+" for 1..3)"):this.$raise(m.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=g,c=a.to_ary(f),k=null==c[0]?e:c[0],g=null==c[1]?e:c[1],h=null==c[2]?e:c[2]);f;if((c=m.get("Range")["$==="](g))===e||null==c||c.$$is_boolean&&1!=c)if(!1!==g&&g!==e&&null!=g)if(f=m.get("Opal").$coerce_to(g,m.get("Integer"),"to_int"),(c=0>f)===e||null==c||c.$$is_boolean&&1!=c||(f+=this.length),(c=0>f)===e||
null==c||c.$$is_boolean&&1!=c||(f=0),!1!==h&&h!==e&&null!=h){h=m.get("Opal").$coerce_to(h,m.get("Integer"),"to_int");if((c=0==h)!==e&&null!=c&&(!c.$$is_boolean||1==c))return this;h+=f}else h=this.length;else f=0,h=this.length;else{!1!==h&&h!==e&&null!=h&&this.$raise(m.get("TypeError"),"length invalid with range");f=m.get("Opal").$coerce_to(g.$begin(),m.get("Integer"),"to_int");(c=0>f)===e||null==c||c.$$is_boolean&&1!=c||(f+=this.length);(c=0>f)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("RangeError"),
""+g.$inspect()+" out of range");h=m.get("Opal").$coerce_to(g.$end(),m.get("Integer"),"to_int");(c=0>h)===e||null==c||c.$$is_boolean&&1!=c||(h+=this.length);if((c=g["$exclude_end?"]())===e||null==c||c.$$is_boolean&&1!=c)h+=1;if((c=h<=f)!==e&&null!=c&&(!c.$$is_boolean||1==c))return this}if((c=f>this.length)!==e&&null!=c&&(!c.$$is_boolean||1==c))for(g=this.length;g<h;g++)this[g]=e;(c=h>this.length)===e||null==c||c.$$is_boolean&&1!=c||(this.length=h);if(!1!==t&&t!==e&&null!=t)for(;f<h;f++)c=t(f),this[f]=
c;else for(;f<h;f++)this[f]=k;return this},na.$$arity=-1);a.defn(p,"$first",pa=function(a){if(null==a)return 0===this.length?e:this[0];a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&this.$raise(m.get("ArgumentError"),"negative array size");return this.slice(0,a)},pa.$$arity=-1);a.defn(p,"$flatten",ra=function(a){function c(a,f){var g=[],t,h,k,C;a=a.$to_a();t=0;for(h=a.length;t<h;t++)if(k=a[t],m.get("Opal")["$respond_to?"](k,"to_ary"))if(C=k.$to_ary(),C===e)g.push(k);else switch(C.$$is_array||
b.$raise(m.get("TypeError")),C===b&&b.$raise(m.get("ArgumentError")),f){case void 0:g=g.concat(c(C));break;case 0:g.push(C);break;default:g.push.apply(g,c(C,f-1))}else g.push(k);return g}var b=this;void 0!==a&&(a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int"));return w(c(b,a),b.$class())},ra.$$arity=-1);a.defn(p,"$flatten!",K=function(a){a=this.$flatten(a);if(this.length==a.length){for(var c=0,b=this.length;c<b&&this[c]===a[c];c++);if(c==b)return e}this.$replace(a);return this},K.$$arity=-1);
a.defn(p,"$hash",sa=function(){var c=void 0==a.hash_ids,b=["A"],f=this.$object_id(),e,g,t;try{c&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(f))return"self";for(t in a.hash_ids)if(a.hash_ids.hasOwnProperty(t)&&(e=a.hash_ids[t],this["$eql?"](e)))return"self";a.hash_ids[f]=this;for(g=0;g<this.length;g++)e=this[g],b.push(e.$hash());return b.join(",")}finally{c&&delete a.hash_ids}},sa.$$arity=0);a.defn(p,"$include?",ta=function(a){for(var c=0,b=this.length;c<b;c++)if(this[c]["$=="](a))return!0;return!1},
ta.$$arity=1);a.defn(p,"$index",va=function(a){var c=va.$$p||e;va.$$p=null;var b,f;if(null!=a)for(b=0,f=this.length;b<f;b++){if(this[b]["$=="](a))return b}else if(c!==e)for(b=0,f=this.length;b<f;b++){if(a=c(this[b]),!1!==a&&a!==e)return b}else return this.$enum_for("index");return e},va.$$arity=-1);a.defn(p,"$insert",ua=function(a,c){var b,f=arguments.length;b=f-1;0>b&&(b=0);b=Array(b);for(var g=1;g<f;g++)b[g-1]=arguments[g];a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");if(0<b.length){0>
a&&(a+=this.length+1,0>a&&this.$raise(m.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(f=this.length;f<a;f++)this.push(e);this.splice.apply(this,[a,0].concat(b))}return this},ua.$$arity=-2);a.defn(p,"$inspect",ja=function(){for(var a=[],c=this.$__id__(),b=0,f=this.length;b<f;b++){var e=this["$[]"](b);e.$__id__()===c?a.push("[...]"):a.push(e.$inspect())}return"["+a.join(", ")+"]"},ja.$$arity=0);a.defn(p,"$join",t=function(a){var c;null==b[","]&&(b[","]=e);null==a&&(a=e);if((c=0===
this.length)!==e&&null!=c&&(!c.$$is_boolean||1==c))return"";(c=a===e)===e||null==c||c.$$is_boolean&&1!=c||(a=b[","]);c=[];var f,g,t,h;f=0;for(g=this.length;f<g;f++){t=this[f];if(m.get("Opal")["$respond_to?"](t,"to_str")&&(h=t.$to_str(),h!==e)){c.push(h.$to_s());continue}if(m.get("Opal")["$respond_to?"](t,"to_ary")&&(h=t.$to_ary(),h===this&&this.$raise(m.get("ArgumentError")),h!==e)){c.push(h.$join(a));continue}if(m.get("Opal")["$respond_to?"](t,"to_s")&&(h=t.$to_s(),h!==e)){c.push(h);continue}this.$raise(m.get("NoMethodError").$new(""+
m.get("Opal").$inspect(t)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===e?c.join(""):c.join(m.get("Opal")["$coerce_to!"](a,m.get("String"),"to_str").$to_s())},t.$$arity=-1);a.defn(p,"$keep_if",U=function(){var a,c,b=U.$$p||e;U.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"keep_if");a=0;for(var f=this.length,g;a<f;a++)if(g=b(this[a]),!1===g||g===e)this.splice(a,1),f--,a--;return this},U.$$arity=
0);a.defn(p,"$last",qa=function(a){if(null==a)return 0===this.length?e:this[this.length-1];a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&this.$raise(m.get("ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},qa.$$arity=-1);a.defn(p,"$length",oa=function(){return this.length},oa.$$arity=0);a.alias(p,"map","collect");a.alias(p,"map!","collect!");a.defn(p,"$permutation",wa=function(c){var b,f,g,t=this,h=wa.$$p||e,k=e,C=e;
wa.$$p=null;if(h===e)return(b=(f=t).$enum_for,b.$$p=(g=function(){for(var a=g.$$s||this,b=a.length,a=void 0===c?a.length:c,f=0<=a?1:0;a;)f*=b,b--,a--;return f},g.$$s=t,g.$$arity=0,g),b).call(f,"permutation",c);var G,U;c=void 0===c?t.length:m.get("Opal").$coerce_to(c,m.get("Integer"),"to_int");if(!(0>c||t.length<c))if(0===c)a.yield1(h,[]);else if(1===c)for(k=0;k<t.length;k++)a.yield1(h,[t[k]]);else k=m.get("Array").$new(c),C=m.get("Array").$new(t.length,!1),G=function(c,b,f,e,g){t=this;for(var h=0;h<
t.length;h++)if(e["$[]"](h)["$!"]())if(b[f]=h,f<c-1)e[h]=!0,G.call(t,c,b,f+1,e,g),e[h]=!1;else{U=[];for(var k=0;k<b.length;k++)U.push(t[b[k]]);a.yield1(g,U)}},h!==e?(b=t.slice(),G.call(b,c,k,0,C,h)):G.call(t,c,k,0,C,h);return t},wa.$$arity=-1);a.defn(p,"$repeated_permutation",xa=function(c){function b(c,f,e){if(f.length==c)c=f.slice(),a.yield1(t,c);else for(var g=0;g<e.length;g++)f.push(e[g]),b(c,f,e),f.pop()}var f,g,t=xa.$$p||e,h=e;xa.$$p=null;h=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");
if(t===e)return(f=this.$enum_for,f.$$p=(g=function(){var a=g.$$s||this,c;return(c="number"===typeof h?0<=h:h["$>="](0))===e||null==c||c.$$is_boolean&&1!=c?0:a.$size()["$**"](h)},g.$$s=this,g.$$arity=0,g),f).call(this,"repeated_permutation",h);b(h,[],this.slice());return this},xa.$$arity=1);a.defn(p,"$pop",za=function(a){var c;if((c=void 0===a)!==e&&null!=c&&(!c.$$is_boolean||1==c))return(c=0===this.length)===e||null==c||c.$$is_boolean&&1!=c?this.pop():e;a=m.get("Opal").$coerce_to(a,m.get("Integer"),
"to_int");(c=0>a)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"negative array size");return(c=0===this.length)===e||null==c||c.$$is_boolean&&1!=c?(c=a>this.length)===e||null==c||c.$$is_boolean&&1!=c?this.splice(this.length-a,this.length):this.splice(0,this.length):[]},za.$$arity=-1);a.defn(p,"$product",Aa=function(c){var b,f=Aa.$$p||e,g=arguments.length,t=g-0;0>t&&(t=0);b=Array(t);for(t=0;t<g;t++)b[t-0]=arguments[t];Aa.$$p=null;var g=f!==e?null:[],t=b.length+1,h=Array(t),
k=Array(t),C=Array(t),G,U=1;C[0]=this;for(G=1;G<t;G++)C[G]=m.get("Opal").$coerce_to(b[G-1],m.get("Array"),"to_ary");for(G=0;G<t;G++){b=C[G].length;if(0===b)return g||this;U*=b;2147483647<U&&this.$raise(m.get("RangeError"),"too big to product");k[G]=b;h[G]=0}a:for(;;){b=[];for(G=0;G<t;G++)b.push(C[G][h[G]]);g?g.push(b):a.yield1(f,b);b=t-1;for(h[b]++;h[b]===k[b];){h[b]=0;if(0>--b)break a;h[b]++}}return g||this},Aa.$$arity=-1);a.defn(p,"$push",ga=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);
c=Array(c);for(var f=0;f<b;f++)c[f-0]=arguments[f];b=0;for(f=c.length;b<f;b++)this.push(c[b]);return this},ga.$$arity=-1);a.defn(p,"$rassoc",ya=function(a){for(var c=0,b=this.length,f;c<b;c++)if(f=this[c],f.length&&void 0!==f[1]&&f[1]["$=="](a))return f;return e},ya.$$arity=1);a.defn(p,"$reject",M=function(){var a,c,b=M.$$p||e;M.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"reject");a=[];for(var f=0,g=this.length,
t;f<g;f++)t=b(this[f]),!1!==t&&t!==e||a.push(this[f]);return a},M.$$arity=0);a.defn(p,"$reject!",C=function(){var a,c,b=C.$$p||e,f=e;C.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"reject!");f=this.$length();(a=this.$delete_if,a.$$p=b.$to_proc(),a).call(this);return this.$length()["$=="](f)?e:this},C.$$arity=0);a.defn(p,"$replace",G=function(a){var c;a=(c=m.get("Array")["$==="](a))===e||null==c||c.$$is_boolean&&1!=
c?m.get("Opal").$coerce_to(a,m.get("Array"),"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},G.$$arity=1);a.defn(p,"$reverse",D=function(){return this.slice(0).reverse()},D.$$arity=0);a.defn(p,"$reverse!",Da=function(){return this.reverse()},Da.$$arity=0);a.defn(p,"$reverse_each",Ca=function(){var a,c,b,f=Ca.$$p||e;Ca.$$p=null;if(f===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"reverse_each");
(a=(b=this.$reverse()).$each,a.$$p=f.$to_proc(),a).call(b);return this},Ca.$$arity=0);a.defn(p,"$rindex",Ba=function(a){var c=Ba.$$p||e;Ba.$$p=null;var b;if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==e)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==e)return b}else if(null==a)return this.$enum_for("rindex");return e},Ba.$$arity=-1);a.defn(p,"$rotate",Ea=function(a){null==a&&(a=1);a=m.get("Opal").$coerce_to(a,m.get("Integer"),
"to_int");var c,b;if(1===this.length)return this.slice();if(0===this.length)return[];c=this.slice();b=a%c.length;a=c.slice(b);c=c.slice(0,b);return a.concat(c)},Ea.$$arity=-1);a.defn(p,"$rotate!",Fa=function(a){var c=e;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");c=this.$rotate(a);return this.$replace(c)},Fa.$$arity=-1);(function(c,$super){function b(){}var f=b=g(c,$super,"SampleRandom",b),t=f.$$scope,h,k;f.$$proto.rng=e;a.defn(f,
"$initialize",h=function(a){return this.rng=a},h.$$arity=1);return(a.defn(f,"$rand",k=function(a){var c,b=e,b=t.get("Opal").$coerce_to(this.rng.$rand(a),t.get("Integer"),"to_int");(c=0>b)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(t.get("RangeError"),"random value must be >= 0");((c=b<a)===e||null==c||c.$$is_boolean&&1!=c)&&this.$raise(t.get("RangeError"),"random value must be less than Array size");return b},k.$$arity=1),e)&&"rand"})(m.base,null);a.defn(p,"$sample",Ua=function(a,c){var b,f=
e,g=e;if((b=void 0===a)!==e&&null!=b&&(!b.$$is_boolean||1==b))return this.$at(m.get("Kernel").$rand(this.length));(b=void 0===c)===e||null==b||b.$$is_boolean&&1!=b?(a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int"),c=m.get("Opal").$coerce_to(c,m.get("Hash"),"to_hash")):(b=f=m.get("Opal")["$coerce_to?"](a,m.get("Hash"),"to_hash"))===e||null==b||b.$$is_boolean&&1!=b?(c=e,a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int")):(c=f,a=e);(b=!1!==a&&a!==e&&null!=a?0>a:a)===e||null==b||b.$$is_boolean&&
1!=b||this.$raise(m.get("ArgumentError"),"count must be greater than 0");!1!==c&&c!==e&&null!=c&&(g=c["$[]"]("random"));g=(b=!1!==g&&g!==e&&null!=g?g["$respond_to?"]("rand"):g)===e||null==b||b.$$is_boolean&&1!=b?m.get("Kernel"):m.get("SampleRandom").$new(g);if(!1===a||a===e||null==a)return this[g.$rand(this.length)];var t,h,k,C;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[g.$rand(this.length)]];case 2:return h=g.$rand(this.length),k=g.$rand(this.length),h===k&&(k=0===
h?h+1:h-1),[this[h],this[k]];default:if(3<this.length/a){f=!1;t=0;b=m.get("Array").$new(a);h=1;for(b[0]=g.$rand(this.length);h<a;){C=g.$rand(this.length);for(k=0;k<h;){for(;C===b[k];){t++;if(100<t){f=!0;break}C=g.$rand(this.length)}if(f)break;k++}if(f)break;b[h]=C;h++}if(!f){for(h=0;h<a;)b[h]=this[b[h]],h++;return b}}b=this.slice();for(h=0;h<a;h++)f=g.$rand(this.length),t=b[h],b[h]=b[f],b[f]=t;return a===this.length?b:b["$[]"](0,a)}},Ua.$$arity=-1);a.defn(p,"$select",Ka=function(){var c,b,f=Ka.$$p||
e;Ka.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"select");c=[];for(var g=0,t=this.length,h,k;g<t;g++)h=this[g],k=a.yield1(f,h),!1!==k&&k!==e&&c.push(h);return c},Ka.$$arity=0);a.defn(p,"$select!",La=function(){var a,c,b=La.$$p||e;La.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"select!");var f=this.length;(a=this.$keep_if,a.$$p=
b.$to_proc(),a).call(this);return this.length===f?e:this},La.$$arity=0);a.defn(p,"$shift",Qa=function(a){var c;if((c=void 0===a)!==e&&null!=c&&(!c.$$is_boolean||1==c))return(c=0===this.length)===e||null==c||c.$$is_boolean&&1!=c?this.shift():e;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");(c=0>a)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"negative array size");return(c=0===this.length)===e||null==c||c.$$is_boolean&&1!=c?this.splice(0,a):[]},Qa.$$arity=-1);a.alias(p,
"size","length");a.defn(p,"$shuffle",Ra=function(a){return this.$dup().$to_a()["$shuffle!"](a)},Ra.$$arity=-1);a.defn(p,"$shuffle!",Va=function(a){var c,b=this.length,f;void 0!==a&&(a=m.get("Opal")["$coerce_to?"](a,m.get("Hash"),"to_hash"),a!==e&&(a=a["$[]"]("random"),a!==e&&a["$respond_to?"]("rand")&&(c=a)));for(;b;)c?(a=c.$rand(b).$to_int(),0>a&&this.$raise(m.get("RangeError"),"random number too small "+a),a>=b&&this.$raise(m.get("RangeError"),"random number too big "+a)):a=Math.floor(Math.random()*
b),f=this[--b],this[b]=this[a],this[a]=f;return this},Va.$$arity=-1);a.alias(p,"slice","[]");a.defn(p,"$slice!",Wa=function(a,c){var b,f=e,g=e,t=e,h=e,g=e;if((b=void 0===c)===e||null==b||b.$$is_boolean&&1!=b){g=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");c=m.get("Opal").$coerce_to(c,m.get("Integer"),"to_int");if(0>c)return e;f=this["$[]"](g,c);0>g&&(g+=this.length);g+c>this.length&&(c=this.length-g);g<this.length&&0<=g&&this.splice(g,c)}else if((b=m.get("Range")["$==="](a))===e||null==b||
b.$$is_boolean&&1!=b){g=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>g&&(g+=this.length);if(0>g||g>=this.length)return e;f=this[g];0===g?this.shift():this.splice(g,1)}else g=a,f=this["$[]"](g),t=m.get("Opal").$coerce_to(g.$begin(),m.get("Integer"),"to_int"),h=m.get("Opal").$coerce_to(g.$end(),m.get("Integer"),"to_int"),0>t&&(t+=this.length),0>h?h+=this.length:h>=this.length&&(h=this.length-1,g.exclude&&(h+=1)),b=h-t,g.exclude?--h:b+=1,t<this.length&&0<=t&&h<this.length&&0<=h&&0<b&&this.splice(t,
b);return f},Wa.$$arity=-2);a.defn(p,"$sort",Ia=function(){var a,c=this,b=Ia.$$p||e;Ia.$$p=null;if((a=1<c.length)===e||null==a||a.$$is_boolean&&1!=a)return c;b===e&&(b=function(a,c){return a["$<=>"](c)});return c.slice().sort(function(a,f){var g=b(a,f);g===e&&c.$raise(m.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+f.$inspect()+" failed");return l(g,0)?1:("number"===typeof g?0>g:g["$<"](0))?-1:0})},Ia.$$arity=0);a.defn(p,"$sort!",Ja=function(){var a,c,b=Ja.$$p||e;Ja.$$p=null;b=b!==e?
(a=(c=this.slice()).$sort,a.$$p=b.$to_proc(),a).call(c):this.slice().$sort();a=this.length=0;for(c=b.length;a<c;a++)this.push(b[a]);return this},Ja.$$arity=0);a.defn(p,"$sort_by!",Ma=function(){var a,c,b=Ma.$$p||e;Ma.$$p=null;return b===e?(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"sort_by!"):this.$replace((a=this.$sort_by,a.$$p=b.$to_proc(),a).call(this))},Ma.$$arity=0);a.defn(p,"$take",Xa=function(a){0>a&&this.$raise(m.get("ArgumentError"));
return this.slice(0,a)},Xa.$$arity=1);a.defn(p,"$take_while",Na=function(){var a=Na.$$p||e;Na.$$p=null;for(var c=[],b=0,f=this.length,g,t;b<f;b++){g=this[b];t=a(g);if(!1===t||t===e)break;c.push(g)}return c},Na.$$arity=0);a.defn(p,"$to_a",Ya=function(){return this},Ya.$$arity=0);a.alias(p,"to_ary","to_a");a.defn(p,"$to_h",Za=function(){var c,b=this.length,f,e,g=h([],{});for(c=0;c<b;c++)f=m.get("Opal")["$coerce_to?"](this[c],m.get("Array"),"to_ary"),f.$$is_array||this.$raise(m.get("TypeError"),"wrong element type "+
f.$class()+" at "+c+" (expected array)"),2!==f.length&&this.$raise(m.get("ArgumentError"),"wrong array length at "+c+" (expected 2, was "+f.$length()+")"),e=f[0],f=f[1],a.hash_put(g,e,f);return g},Za.$$arity=0);a.alias(p,"to_s","inspect");a.defn(p,"$transpose",ab=function(){var a,c,b=e,f=e;if((a=this["$empty?"]())!==e&&null!=a&&(!a.$$is_boolean||1==a))return[];b=[];f=e;(a=this.$each,a.$$p=(c=function(a){var g=c.$$s||this,t,h,k;null==a&&(a=e);a=(t=m.get("Array")["$==="](a))===e||null==t||t.$$is_boolean&&
1!=t?m.get("Opal").$coerce_to(a,m.get("Array"),"to_ary").$to_a():a.$to_a();!1!==(t=f)&&t!==e&&null!=t?t:f=a.length;(t=a.length["$!="](f))===e||null==t||t.$$is_boolean&&1!=t||g.$raise(m.get("IndexError"),"element size differs ("+a.length+" should be "+f);return(t=(h=a.length).$times,t.$$p=(k=function(c){var f,g,t,h=e;null==c&&(c=e);h=(f=c,g=b,!1!==(t=g["$[]"](f))&&t!==e&&null!=t?t:g["$[]="](f,[]));return h["$<<"](a.$at(c))},k.$$s=g,k.$$arity=1,k),t).call(h)},c.$$s=this,c.$$arity=1,c),a).call(this);
return b},ab.$$arity=0);a.defn(p,"$uniq",Oa=function(){var c=Oa.$$p||e;Oa.$$p=null;var b=h([],{}),f,g,t,k;if(c===e)for(f=0,g=this.length;f<g;f++)t=this[f],void 0===a.hash_get(b,t)&&a.hash_put(b,t,t);else for(f=0,g=this.length;f<g;f++)t=this[f],k=a.yield1(c,t),void 0===a.hash_get(b,k)&&a.hash_put(b,k,t);return w(b.$values(),this.$class())},Oa.$$arity=0);a.defn(p,"$uniq!",Pa=function(){var c=Pa.$$p||e;Pa.$$p=null;var b=this.length,f=h([],{}),g,t,k,C;g=0;for(t=b;g<t;g++)k=this[g],C=c===e?k:a.yield1(c,
k),void 0===a.hash_get(f,C)?a.hash_put(f,C,k):(this.splice(g,1),t--,g--);return this.length===b?e:this},Pa.$$arity=0);a.defn(p,"$unshift",bb=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var f=0;f<b;f++)c[f-0]=arguments[f];for(b=c.length-1;0<=b;b--)this.unshift(c[b]);return this},bb.$$arity=-1);a.defn(p,"$values_at",Ta=function(a){var c,b,f,g=e,t=arguments.length;f=t-0;0>f&&(f=0);f=Array(f);for(var h=0;h<t;h++)f[h-0]=arguments[h];g=[];(c=f.$each,c.$$p=(b=function(a){var c=b.$$s||
this,f,t,h,k=e,C=e,k=e;null==a&&(a=e);if((f=a["$kind_of?"](m.get("Range")))===e||null==f||f.$$is_boolean&&1!=f)return k=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int"),g["$<<"](c.$at(k));k=m.get("Opal").$coerce_to(a.$last(),m.get("Integer"),"to_int");C=m.get("Opal").$coerce_to(a.$first(),m.get("Integer"),"to_int");if(0>C)return C+=c.length,e;0>k&&(k+=c.length);a["$exclude_end?"]()&&k--;return k<C?e:(f=(t=C).$upto,f.$$p=(h=function(a){var c=h.$$s||this;null==a&&(a=e);return g["$<<"](c.$at(a))},
h.$$s=c,h.$$arity=1,h),f).call(t,k)},b.$$s=this,b.$$arity=1,b),c).call(f);return g},Ta.$$arity=-1);a.defn(p,"$zip",Ha=function(a){var c,b,f=Ha.$$p||e,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var t=0;t<g;t++)b[t-0]=arguments[t];Ha.$$p=null;var g=[],t=this.length,h,k,C,G;C=0;for(G=b.length;C<G;C++)h=b[C],h.$$is_array||(h.$$is_enumerator?Infinity===h.$size()?b[C]=h.$take(t):b[C]=h.$to_a():b[C]=(!1!==(c=m.get("Opal")["$coerce_to?"](h,m.get("Array"),"to_ary"))&&c!==e&&null!=c?c:m.get("Opal")["$coerce_to!"](h,
m.get("Enumerator"),"each")).$to_a());for(k=0;k<t;k++){c=[this[k]];C=0;for(G=b.length;C<G;C++)h=b[C][k],null==h&&(h=e),c[C+1]=h;g[k]=c}if(f!==e){for(k=0;k<t;k++)f(g[k]);return e}return g},Ha.$$arity=-1);a.defs(p,"$inherited",Sa=function(a){a.$$proto.$to_a=function(){return this.slice(0,this.length)}},Sa.$$arity=1);a.defn(p,"$instance_variables",Ga=function(){var c,b,f,g,t=Ga.$$p,h=e,k=e;Ga.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return(c=(b=(g=a.find_super_dispatcher(this,"instance_variables",
Ga,!1),g.$$p=t,g).apply(this,h)).$reject,c.$$p=(f=function(a){var c;null==a&&(a=e);return!1!==(c=/^@\d+$/.test(a))&&c!==e&&null!=c?c:a["$=="]("@length")},f.$$s=this,f.$$arity=1,f),c).call(b)},Ga.$$arity=0);return m.get("Opal").$pristine(p,"allocate","copy_instance_variables","initialize_dup")}(a.base,Array)};
Opal.modules["corelib/hash"]=function(a){var l=a.top,n=a.nil,e=a.klass;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));l.$require("corelib/enumerable");return function(g,$super){function b(){}var c=b=e(g,$super,"Hash",b),d=c.$$proto,l=c.$$scope,w,k,p,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,
X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K;c.$include(l.get("Enumerable"));d.$$is_hash=!0;a.defs(c,"$[]",w=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];var d=c.length,f;if(1===d){b=l.get("Opal")["$coerce_to?"](c["$[]"](0),l.get("Hash"),"to_hash");if(b!==n)return this.$allocate()["$merge!"](b);c=l.get("Opal")["$coerce_to?"](c["$[]"](0),l.get("Array"),"to_ary");c===n&&this.$raise(l.get("ArgumentError"),"odd number of arguments for Hash");
d=c.length;b=this.$allocate();for(f=0;f<d;f++)if(c[f].$$is_array)switch(c[f].length){case 1:b.$store(c[f][0],n);break;case 2:b.$store(c[f][0],c[f][1]);break;default:this.$raise(l.get("ArgumentError"),"invalid number of elements ("+c[f].length+" for 1..2)")}return b}0!==d%2&&this.$raise(l.get("ArgumentError"),"odd number of arguments for Hash");b=this.$allocate();for(f=0;f<d;f+=2)b.$store(c[f],c[f+1]);return b},w.$$arity=-1);a.defs(c,"$allocate",k=function(){var c=new this.$$alloc;a.hash_init(c);c.$$none=
n;c.$$proc=n;return c},k.$$arity=0);a.defs(c,"$try_convert",p=function(a){return l.get("Opal")["$coerce_to?"](a,l.get("Hash"),"to_hash")},p.$$arity=1);a.defn(c,"$initialize",f=function(a){var c=f.$$p||n;f.$$p=null;void 0!==a&&c!==n&&this.$raise(l.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?n:a;this.$$proc=c;return this},f.$$arity=-1);a.defn(c,"$==",m=function(c){if(this===c)return!0;if(!c.$$is_hash||this.$$keys.length!==c.$$keys.length)return!1;for(var b=0,d=
this.$$keys,f=d.length,e,g;b<f;b++)if(e=d[b],e.$$is_string?(g=this.$$smap[e],e=c.$$smap[e]):(g=e.value,e=a.hash_get(c,e.key)),void 0===e||!g["$eql?"](e))return!1;return!0},m.$$arity=1);a.defn(c,"$[]",q=function(c){var b=a.hash_get(this,c);return void 0!==b?b:this.$default(c)},q.$$arity=1);a.defn(c,"$[]=",y=function(c,b){a.hash_put(this,c,b);return b},y.$$arity=2);a.defn(c,"$assoc",I=function(a){for(var c=0,b=this.$$keys,d=b.length,f;c<d;c++)if(f=b[c],f.$$is_string){if(f["$=="](a))return[f,this.$$smap[f]]}else if(f.key["$=="](a))return[f.key,
f.value];return n},I.$$arity=1);a.defn(c,"$clear",E=function(){a.hash_init(this);return this},E.$$arity=0);a.defn(c,"$clone",z=function(){var c=new this.$$class.$$alloc;a.hash_init(c);a.hash_clone(this,c);return c},z.$$arity=0);a.defn(c,"$default",u=function(a){return void 0!==a&&this.$$proc!==n&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?n:this.$$none},u.$$arity=-1);a.defn(c,"$default=",H=function(a){this.$$proc=n;return this.$$none=a},H.$$arity=1);a.defn(c,"$default_proc",
L=function(){return void 0!==this.$$proc?this.$$proc:n},L.$$arity=0);a.defn(c,"$default_proc=",J=function(a){a!==n&&(a=l.get("Opal")["$coerce_to!"](a,l.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&this.$raise(l.get("TypeError"),"default_proc takes two arguments"));this.$$none=n;return this.$$proc=a},J.$$arity=1);a.defn(c,"$delete",N=function(c){var b=N.$$p||n;N.$$p=null;var d=a.hash_delete(this,c);return void 0!==d?d:b!==n?b.$call(c):n},N.$$arity=1);a.defn(c,"$delete_if",Q=function(){var c,
b,d=Q.$$p||n;Q.$$p=null;if(!1===d||d===n||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"delete_if");c=0;for(var f=this.$$keys,e=f.length,g,k;c<e;c++)g=f[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),k=d(g,k),!1!==k&&k!==n&&void 0!==a.hash_delete(this,g)&&(e--,c--);return this},Q.$$arity=0);a.alias(c,"dup","clone");a.defn(c,"$each",A=function(){var c,b,d=A.$$p||n;A.$$p=null;if(!1===d||d===n||null==d)return(c=this.$enum_for,
c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"each");c=0;for(var f=this.$$keys,e=f.length,g,k;c<e;c++)g=f[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),a.yield1(d,[g,k]);return this},A.$$arity=0);a.defn(c,"$each_key",r=function(){var a,c,b=r.$$p||n;r.$$p=null;if(!1===b||b===n||null==b)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"each_key");a=0;for(var d=this.$$keys,f=d.length,e;a<
f;a++)e=d[a],b(e.$$is_string?e:e.key);return this},r.$$arity=0);a.alias(c,"each_pair","each");a.defn(c,"$each_value",P=function(){var a,c,b=P.$$p||n;P.$$p=null;if(!1===b||b===n||null==b)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"each_value");a=0;for(var d=this.$$keys,f=d.length,e;a<f;a++)e=d[a],b(e.$$is_string?this.$$smap[e]:e.value);return this},P.$$arity=0);a.defn(c,"$empty?",S=function(){return 0===this.$$keys.length},S.$$arity=
0);a.alias(c,"eql?","==");a.defn(c,"$fetch",R=function(c,b){var d=R.$$p||n;R.$$p=null;var f=a.hash_get(this,c);return void 0!==f?f:d!==n?d(c):void 0!==b?b:this.$raise(l.get("KeyError"),"key not found: "+c.$inspect())},R.$$arity=-2);a.defn(c,"$flatten",Z=function(a){null==a&&(a=1);a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int");for(var c=[],b=0,d=this.$$keys,f=d.length,e,g;b<f;b++)e=d[b],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),c.push(e),g.$$is_array?1===a?c.push(g):c=c.concat(g.$flatten(a-
2)):c.push(g);return c},Z.$$arity=-1);a.defn(c,"$has_key?",aa=function(c){return void 0!==a.hash_get(this,c)},aa.$$arity=1);a.defn(c,"$has_value?",V=function(a){for(var c=0,b=this.$$keys,d=b.length,f;c<d;c++)if(f=b[c],(f.$$is_string?this.$$smap[f]:f.value)["$=="](a))return!0;return!1},V.$$arity=1);a.defn(c,"$hash",O=function(){var c=void 0===a.hash_ids,b=this.$object_id(),d=["Hash"],f,e;try{c&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(b))return"self";for(f in a.hash_ids)if(a.hash_ids.hasOwnProperty(f)&&
(e=a.hash_ids[f],this["$eql?"](e)))return"self";a.hash_ids[b]=this;for(var b=0,g=this.$$keys,k=g.length;b<k;b++)f=g[b],f.$$is_string?d.push([f,this.$$smap[f].$hash()]):d.push([f.key_hash,f.value.$hash()]);return d.sort().join()}finally{c&&delete a.hash_ids}},O.$$arity=0);a.alias(c,"include?","has_key?");a.defn(c,"$index",T=function(a){for(var c=0,b=this.$$keys,d=b.length,f,e;c<d;c++)if(f=b[c],f.$$is_string?e=this.$$smap[f]:(e=f.value,f=f.key),e["$=="](a))return f;return n},T.$$arity=1);a.defn(c,"$indexes",
Y=function(c){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];for(var d=[],f=0,e=b.length,g;f<e;f++)g=b[f],g=a.hash_get(this,g),void 0===g?d.push(this.$default()):d.push(g);return d},Y.$$arity=-1);a.alias(c,"indices","indexes");var sa;a.defn(c,"$inspect",X=function(){var a=void 0===sa,c=this.$object_id(),b=[];try{a&&(sa={});if(sa.hasOwnProperty(c))return"{...}";sa[c]=!0;for(var c=0,d=this.$$keys,f=d.length,e,g;c<f;c++)e=d[c],e.$$is_string?g=this.$$smap[e]:
(g=e.value,e=e.key),b.push(e.$inspect()+"=>"+g.$inspect());return"{"+b.join(", ")+"}"}finally{a&&(sa=void 0)}},X.$$arity=0);a.defn(c,"$invert",ea=function(){for(var c=a.hash(),b=0,d=this.$$keys,f=d.length,e,g;b<f;b++)e=d[b],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),a.hash_put(c,g,e);return c},ea.$$arity=0);a.defn(c,"$keep_if",ha=function(){var c,b,d=ha.$$p||n;ha.$$p=null;if(!1===d||d===n||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=
0,b),c).call(this,"keep_if");c=0;for(var f=this.$$keys,e=f.length,g,k;c<e;c++)g=f[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),k=d(g,k),!1!==k&&k!==n||void 0===a.hash_delete(this,g)||(e--,c--);return this},ha.$$arity=0);a.alias(c,"key","index");a.alias(c,"key?","has_key?");a.defn(c,"$keys",ia=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,f;c<d;c++)f=b[c],f.$$is_string?a.push(f):a.push(f.key);return a},ia.$$arity=0);a.defn(c,"$length",ka=function(){return this.$$keys.length},ka.$$arity=
0);a.alias(c,"member?","has_key?");a.defn(c,"$merge",la=function(a){var c,b,d=la.$$p||n;la.$$p=null;return(c=(b=this.$dup())["$merge!"],c.$$p=d.$to_proc(),c).call(b,a)},la.$$arity=1);a.defn(c,"$merge!",fa=function(c){var b=fa.$$p||n;fa.$$p=null;l.get("Hash")["$==="](c)||(c=l.get("Opal")["$coerce_to!"](c,l.get("Hash"),"to_hash"));var d,f=c.$$keys,e=f.length,g,k,m;if(b===n){for(d=0;d<e;d++)g=f[d],g.$$is_string?m=c.$$smap[g]:(m=g.value,g=g.key),a.hash_put(this,g,m);return this}for(d=0;d<e;d++)g=f[d],
g.$$is_string?m=c.$$smap[g]:(m=g.value,g=g.key),k=a.hash_get(this,g),void 0===k?a.hash_put(this,g,m):a.hash_put(this,g,b(g,k,m));return this},fa.$$arity=1);a.defn(c,"$rassoc",da=function(a){for(var c=0,b=this.$$keys,d=b.length,f,e;c<d;c++)if(f=b[c],f.$$is_string?e=this.$$smap[f]:(e=f.value,f=f.key),e["$=="](a))return[f,e];return n},da.$$arity=1);a.defn(c,"$rehash",F=function(){a.hash_rehash(this);return this},F.$$arity=0);a.defn(c,"$reject",ba=function(){var c,b,d=ba.$$p||n;ba.$$p=null;if(!1===d||
d===n||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"reject");c=a.hash();for(var f=0,e=this.$$keys,g=e.length,k,m,l;f<g;f++)k=e[f],k.$$is_string?m=this.$$smap[k]:(m=k.value,k=k.key),l=d(k,m),!1!==l&&l!==n||a.hash_put(c,k,m);return c},ba.$$arity=0);a.defn(c,"$reject!",x=function(){var c,b,d=x.$$p||n;x.$$p=null;if(!1===d||d===n||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=
0,b),c).call(this,"reject!");c=!1;for(var f=0,e=this.$$keys,g=e.length,k,m;f<g;f++)k=e[f],k.$$is_string?m=this.$$smap[k]:(m=k.value,k=k.key),m=d(k,m),!1!==m&&m!==n&&void 0!==a.hash_delete(this,k)&&(c=!0,g--,f--);return c?this:n},x.$$arity=0);a.defn(c,"$replace",ca=function(c){var b;c=l.get("Opal")["$coerce_to!"](c,l.get("Hash"),"to_hash");a.hash_init(this);for(var d=0,f=c.$$keys,e=f.length,g,k;d<e;d++)g=f[d],g.$$is_string?k=c.$$smap[g]:(k=g.value,g=g.key),a.hash_put(this,g,k);(b=c.$default_proc())===
n||null==b||b.$$is_boolean&&1!=b?(b=[c.$default()],c=this,c["$default="].apply(c,b)):(b=[c.$default_proc()],c=this,c["$default_proc="].apply(c,b));b[b.length-1];return this},ca.$$arity=1);a.defn(c,"$select",B=function(){var c,b,d=B.$$p||n;B.$$p=null;if(!1===d||d===n||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"select");c=a.hash();for(var f=0,e=this.$$keys,g=e.length,k,m,l;f<g;f++)k=e[f],k.$$is_string?m=this.$$smap[k]:(m=
k.value,k=k.key),l=d(k,m),!1!==l&&l!==n&&a.hash_put(c,k,m);return c},B.$$arity=0);a.defn(c,"$select!",W=function(){var c,b,d=W.$$p||n;W.$$p=null;if(!1===d||d===n||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"select!");c=n;for(var f=0,e=this.$$keys,g=e.length,k,m;f<g;f++)if(k=e[f],k.$$is_string?m=this.$$smap[k]:(m=k.value,k=k.key),m=d(k,m),!1===m||m===n)void 0!==a.hash_delete(this,k)&&(g--,f--),c=this;return c},W.$$arity=0);
a.defn(c,"$shift",ma=function(){var c=this.$$keys;return 0<c.length?(c=c[0],c=c.$$is_string?c:c.key,[c,a.hash_delete(this,c)]):this.$default(n)},ma.$$arity=0);a.alias(c,"size","length");c.$alias_method("store","[]=");a.defn(c,"$to_a",na=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,f,e;c<d;c++)f=b[c],f.$$is_string?e=this.$$smap[f]:(e=f.value,f=f.key),a.push([f,e]);return a},na.$$arity=0);a.defn(c,"$to_h",pa=function(){if(this.$$class===a.Hash)return this;var c=new a.Hash.$$alloc;a.hash_init(c);
a.hash_clone(this,c);return c},pa.$$arity=0);a.defn(c,"$to_hash",ra=function(){return this},ra.$$arity=0);a.alias(c,"to_s","inspect");a.alias(c,"update","merge!");a.alias(c,"value?","has_value?");a.alias(c,"values_at","indexes");return(a.defn(c,"$values",K=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,f;c<d;c++)f=b[c],f.$$is_string?a.push(this.$$smap[f]):a.push(f.value);return a},K.$$arity=0),n)&&"values"}(a.base,null)};
Opal.modules["corelib/number"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function b(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}
var c=a.top,d=a.nil,v=a.klass;a.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));c.$require("corelib/numeric");(function(c,$super){function p(){}var f=p=v(c,$super,"Number",p),m=f.$$scope,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta,va,ua,ja,t,U,qa,oa,
wa,xa,za,Aa,ga,ya,M,C,G,D,Da,Ca,Ba,Ea;m.get("Opal").$bridge(f,Number);Number.prototype.$$is_number=!0;a.defn(f,"$coerce",q=function(a){if(a!==d){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[m.get("Opal")["$coerce_to!"](a,m.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(m.get("TypeError"),"can't convert "+a.$class()+" into Float")},q.$$arity=1);a.defn(f,"$__id__",y=function(){return 2*this+1},y.$$arity=0);a.alias(f,"object_id","__id__");a.defn(f,
"$+",I=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},I.$$arity=1);a.defn(f,"$-",E=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},E.$$arity=1);a.defn(f,"$*",z=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},z.$$arity=1);a.defn(f,"$/",u=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},u.$$arity=1);a.alias(f,"fdiv","/");a.defn(f,"$%",H=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(m.get("ZeroDivisionError"),
"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},H.$$arity=1);a.defn(f,"$&",L=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},L.$$arity=1);a.defn(f,"$|",J=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},J.$$arity=1);a.defn(f,"$^",N=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},N.$$arity=1);a.defn(f,"$<",Q=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},Q.$$arity=1);a.defn(f,"$<=",
A=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},A.$$arity=1);a.defn(f,"$>",r=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},r.$$arity=1);a.defn(f,"$>=",P=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},P.$$arity=1);a.defn(f,"$<=>",S=function(c){try{return c.$$is_number?isNaN(this)||isNaN(c)?d:this>c?1:this<c?-1:0:this.$__coerced__("<=>",c)}catch(b){if(a.rescue(b,[m.get("ArgumentError")]))try{return d}finally{a.pop_exception()}else throw b;
}},S.$$arity=1);a.defn(f,"$<<",R=function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0<a?this<<a:this>>-a},R.$$arity=1);a.defn(f,"$>>",Z=function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0<a?this>>a:this<<-a},Z.$$arity=1);a.defn(f,"$[]",aa=function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},aa.$$arity=1);a.defn(f,"$+@",V=function(){return+this},V.$$arity=0);a.defn(f,"$-@",O=function(){return-this},
O.$$arity=0);a.defn(f,"$~",T=function(){return~this},T.$$arity=0);a.defn(f,"$**",Y=function(a){var c,b,f;return(c=m.get("Integer")["$==="](a))===d||null==c||c.$$is_boolean&&1!=c?(c=n(this,0)?!1!==(f=m.get("Float")["$==="](a))&&f!==d&&null!=f?f:m.get("Rational")["$==="](a):n(this,0))===d||null==c||c.$$is_boolean&&1!=c?(c=null!=a.$$is_number)===d||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("**",a):Math.pow(this,a):m.get("Complex").$new(this,0)["$**"](a.$to_f()):(c=!1!==(b=m.get("Integer")["$==="](this)["$!"]())&&
b!==d&&null!=b?b:l(a,0))===d||null==c||c.$$is_boolean&&1!=c?m.get("Rational").$new(this,1)["$**"](a):Math.pow(this,a)},Y.$$arity=1);a.defn(f,"$==",X=function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1},X.$$arity=1);a.defn(f,"$abs",ea=function(){return Math.abs(this)},ea.$$arity=0);a.defn(f,"$abs2",ha=function(){return Math.abs(this*this)},ha.$$arity=0);a.defn(f,"$angle",ia=function(){var a;return(a=this["$nan?"]())===d||null==a||a.$$is_boolean&&1!=a?0==this?
0<1/this?0:Math.PI:0>this?Math.PI:0:this},ia.$$arity=0);a.alias(f,"arg","angle");a.alias(f,"phase","angle");a.defn(f,"$bit_length",ka=function(){var a;((a=m.get("Integer")["$==="](this))===d||null==a||a.$$is_boolean&&1!=a)&&this.$raise(m.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var c=0>this?~this:this;0!=c;)a+=1,c>>>=1;return a},ka.$$arity=0);a.defn(f,"$ceil",la=function(){return Math.ceil(this)},la.$$arity=
0);a.defn(f,"$chr",fa=function(a){return String.fromCharCode(this)},fa.$$arity=-1);a.defn(f,"$denominator",da=function(){var c,b,f=da.$$p,e=d,g=d;da.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return(c=!1!==(b=this["$nan?"]())&&b!==d&&null!=b?b:this["$infinite?"]())===d||null==c||c.$$is_boolean&&1!=c?(c=(b=this,a.find_super_dispatcher(this,"denominator",da,!1)),c.$$p=f,c).apply(b,e):1},da.$$arity=0);a.defn(f,"$downto",F=function(a){var c,b,f=F.$$p||d;F.$$p=null;if(f===d)return(c=
this.$enum_for,c.$$p=(b=function(){var c=b.$$s||this,f;((f=m.get("Numeric")["$==="](a))===d||null==f||f.$$is_boolean&&1!=f)&&c.$raise(m.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return(f=l(a,c))===d||null==f||f.$$is_boolean&&1!=f?e(g(c,a),1):0},b.$$s=this,b.$$arity=0,b),c).call(this,"downto",a);a.$$is_number||this.$raise(m.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c>=a;c--)f(c);return this},F.$$arity=1);a.alias(f,
"eql?","==");a.defn(f,"$equal?",ba=function(a){var c;return!1!==(c=this["$=="](a))&&c!==d&&null!=c?c:isNaN(this)&&isNaN(a)},ba.$$arity=1);a.defn(f,"$even?",x=function(){return 0===this%2},x.$$arity=0);a.defn(f,"$floor",ca=function(){return Math.floor(this)},ca.$$arity=0);a.defn(f,"$gcd",B=function(a){var c;((c=m.get("Integer")["$==="](a))===d||null==c||c.$$is_boolean&&1!=c)&&this.$raise(m.get("TypeError"),"not an integer");c=Math.abs(this);for(a=Math.abs(a);0<c;){var b=c;c=a%c;a=b}return a},B.$$arity=
1);a.defn(f,"$gcdlcm",W=function(a){return[this.$gcd(),this.$lcm()]},W.$$arity=1);a.defn(f,"$integer?",ma=function(){return 0===this%1},ma.$$arity=0);a.defn(f,"$is_a?",na=function(c){var b,f=na.$$p,e=d,g=d;na.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return((b=c["$=="](m.get("Fixnum"))?m.get("Integer")["$==="](this):c["$=="](m.get("Fixnum")))===d||null==b||b.$$is_boolean&&1!=b)&&((b=c["$=="](m.get("Integer"))?m.get("Integer")["$==="](this):c["$=="](m.get("Integer")))===d||null==
b||b.$$is_boolean&&1!=b)&&((b=c["$=="](m.get("Float"))?m.get("Float")["$==="](this):c["$=="](m.get("Float")))===d||null==b||b.$$is_boolean&&1!=b)?(b=a.find_super_dispatcher(this,"is_a?",na,!1),b.$$p=f,b).apply(this,e):!0},na.$$arity=1);a.alias(f,"kind_of?","is_a?");a.defn(f,"$instance_of?",pa=function(c){var b,f=pa.$$p,e=d,g=d;pa.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return((b=c["$=="](m.get("Fixnum"))?m.get("Integer")["$==="](this):c["$=="](m.get("Fixnum")))===d||null==b||
b.$$is_boolean&&1!=b)&&((b=c["$=="](m.get("Integer"))?m.get("Integer")["$==="](this):c["$=="](m.get("Integer")))===d||null==b||b.$$is_boolean&&1!=b)&&((b=c["$=="](m.get("Float"))?m.get("Float")["$==="](this):c["$=="](m.get("Float")))===d||null==b||b.$$is_boolean&&1!=b)?(b=a.find_super_dispatcher(this,"instance_of?",pa,!1),b.$$p=f,b).apply(this,e):!0},pa.$$arity=1);a.defn(f,"$lcm",ra=function(a){var c;((c=m.get("Integer")["$==="](a))===d||null==c||c.$$is_boolean&&1!=c)&&this.$raise(m.get("TypeError"),
"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},ra.$$arity=1);a.alias(f,"magnitude","abs");a.alias(f,"modulo","%");a.defn(f,"$next",K=function(){return this+1},K.$$arity=0);a.defn(f,"$nonzero?",sa=function(){return 0==this?d:this},sa.$$arity=0);a.defn(f,"$numerator",ta=function(){var c,b,f=ta.$$p,e=d,g=d;ta.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return(c=!1!==(b=this["$nan?"]())&&b!==d&&null!=b?b:this["$infinite?"]())===d||null==c||c.$$is_boolean&&1!=
c?(c=(b=this,a.find_super_dispatcher(this,"numerator",ta,!1)),c.$$p=f,c).apply(b,e):this},ta.$$arity=0);a.defn(f,"$odd?",va=function(){return 0!==this%2},va.$$arity=0);a.defn(f,"$ord",ua=function(){return this},ua.$$arity=0);a.defn(f,"$pred",ja=function(){return this-1},ja.$$arity=0);a.defn(f,"$quo",t=function(c){var b,f=t.$$p,e=d,g=d;t.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return(b=m.get("Integer")["$==="](this))===d||null==b||b.$$is_boolean&&1!=b?h(this,c):(b=a.find_super_dispatcher(this,
"quo",t,!1),b.$$p=f,b).apply(this,e)},t.$$arity=1);a.defn(f,"$rationalize",U=function(c){var f,e,h=d,t=d;1<arguments.length&&this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if((f=m.get("Integer")["$==="](this))===d||null==f||f.$$is_boolean&&1!=f){if((f=this["$infinite?"]())===d||null==f||f.$$is_boolean&&1!=f){if((f=this["$nan?"]())===d||null==f||f.$$is_boolean&&1!=f){if((f=null==c)===d||null==f||f.$$is_boolean&&1!=f)return this.$to_r().$rationalize(c);
e=m.get("Math").$frexp(this);f=a.to_ary(e);h=null==f[0]?d:f[0];t=null==f[1]?d:f[1];e;h=m.get("Math").$ldexp(h,m.get("Float").$$scope.get("MANT_DIG")).$to_i();t=g(t,m.get("Float").$$scope.get("MANT_DIG"));return m.get("Rational").$new(b(2,h),1["$<<"](g(1,t))).$rationalize(m.get("Rational").$new(1,1["$<<"](g(1,t))))}return this.$raise(m.get("FloatDomainError"),"NaN")}return this.$raise(m.get("FloatDomainError"),"Infinity")}return m.get("Rational").$new(this,1)},U.$$arity=-1);a.defn(f,"$round",qa=function(c){var b,
f,t=d;if((b=m.get("Integer")["$==="](this))===d||null==b||b.$$is_boolean&&1!=b){(b=(f=this["$nan?"](),!1!==f&&f!==d&&null!=f?null==c:f))===d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("FloatDomainError"),"NaN");c=m.get("Opal")["$coerce_to!"](c||0,m.get("Integer"),"to_int");if((b="number"===typeof c?0>=c:c["$<="](0))===d||null==b||b.$$is_boolean&&1!=b){if(c["$=="](0))return Math.round(this);if((b=!1!==(f=this["$nan?"]())&&f!==d&&null!=f?f:this["$infinite?"]())!==d&&null!=b&&(!b.$$is_boolean||
1==b))return this}else(b=this["$nan?"]())===d||null==b||b.$$is_boolean&&1!=b?(b=this["$infinite?"]())===d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("FloatDomainError"),"Infinity"):this.$raise(m.get("RangeError"),"NaN");f=m.get("Math").$frexp(this);b=a.to_ary(f);t=null==b[1]?d:b[1];f;var C=g(e(m.get("Float").$$scope.get("DIG"),2),(f=l(t,0))===d||null==f||f.$$is_boolean&&1!=f?g(h(t,3),1):h(t,4));return(b="number"===typeof c&&"number"===typeof C?c>=C:c["$>="](C))===d||null==b||b.$$is_boolean&&
1!=b?(b=n(c,((f=l(t,0))===d||null==f||f.$$is_boolean&&1!=f?h(t,4):e(h(t,3),1))["$-@"]()))===d||null==b||b.$$is_boolean&&1!=b?Math.round(this*Math.pow(10,c))/Math.pow(10,c):0:this}if((b=null==c)!==d&&null!=b&&(!b.$$is_boolean||1==b))return this;(b=(f=m.get("Float")["$==="](c),!1!==f&&f!==d&&null!=f?c["$infinite?"]():f))===d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("RangeError"),"Infinity");c=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");(b=n(c,m.get("Integer").$$scope.get("MIN")))===
d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("RangeError"),"out of bounds");if((b=0<=c)!==d&&null!=b&&(!b.$$is_boolean||1==b))return this;c=c["$-@"]();if(.415241*c-.125>this.$size())return 0;c=Math.pow(10,c);C=Math.floor((Math.abs(C)+c/2)/c)*c;return 0>this?-C:C},qa.$$arity=-1);a.defn(f,"$step",oa=function(a,c){var b,f=oa.$$p||d;null==c&&(c=1);oa.$$p=null;if(!1===f||f===d||null==f)return this.$enum_for("step",a,c);(b=0==c)===d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),
"step cannot be 0");b=this;if(Infinity===a||-Infinity===a)return f(b),this;if(0<c)for(;b<=a;)f(b),b+=c;else for(;b>=a;)f(b),b+=c;return this},oa.$$arity=-2);a.alias(f,"succ","next");a.defn(f,"$times",wa=function(){var a,c,b=wa.$$p||d;wa.$$p=null;if(!1===b||b===d||null==b)return(a=this.$enum_for,a.$$p=(c=function(){return c.$$s||this},c.$$s=this,c.$$arity=0,c),a).call(this,"times");for(a=0;a<this;a++)b(a);return this},wa.$$arity=0);a.defn(f,"$to_f",xa=function(){return this},xa.$$arity=0);a.defn(f,
"$to_i",za=function(){return parseInt(this,10)},za.$$arity=0);a.alias(f,"to_int","to_i");a.defn(f,"$to_r",Aa=function(){var c,f,e=d,t=d;return(c=m.get("Integer")["$==="](this))===d||null==c||c.$$is_boolean&&1!=c?(f=m.get("Math").$frexp(this),c=a.to_ary(f),e=null==c[0]?d:c[0],t=null==c[1]?d:c[1],f,e=m.get("Math").$ldexp(e,m.get("Float").$$scope.get("MANT_DIG")).$to_i(),t=g(t,m.get("Float").$$scope.get("MANT_DIG")),b(e,m.get("Float").$$scope.get("RADIX")["$**"](t)).$to_r()):m.get("Rational").$new(this,
1)},Aa.$$arity=0);a.defn(f,"$to_s",ga=function(a){var c,b;null==a&&(a=10);(c=!1!==(b=n(a,2))&&b!==d&&null!=b?b:l(a,36))===d||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"base must be between 2 and 36");return this.toString(a)},ga.$$arity=-1);a.alias(f,"truncate","to_i");a.alias(f,"inspect","to_s");a.defn(f,"$divmod",ya=function(c){var b,f,e=ya.$$p,g=d,t=d;ya.$$p=null;g=[];for(t=0;t<arguments.length;t++)g[t]=arguments[t];return(b=!1!==(f=this["$nan?"]())&&f!==d&&null!=f?f:c["$nan?"]())===
d||null==b||b.$$is_boolean&&1!=b?(b=this["$infinite?"]())===d||null==b||b.$$is_boolean&&1!=b?(b=(f=this,a.find_super_dispatcher(this,"divmod",ya,!1)),b.$$p=e,b).apply(f,g):this.$raise(m.get("FloatDomainError"),"Infinity"):this.$raise(m.get("FloatDomainError"),"NaN")},ya.$$arity=1);a.defn(f,"$upto",M=function(a){var c,b,f=M.$$p||d;M.$$p=null;if(f===d)return(c=this.$enum_for,c.$$p=(b=function(){var c=b.$$s||this,f;((f=m.get("Numeric")["$==="](a))===d||null==f||f.$$is_boolean&&1!=f)&&c.$raise(m.get("ArgumentError"),
"comparison of "+c.$class()+" with "+a.$class()+" failed");return(f=n(a,c))===d||null==f||f.$$is_boolean&&1!=f?e(g(a,c),1):0},b.$$s=this,b.$$arity=0,b),c).call(this,"upto",a);a.$$is_number||this.$raise(m.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c<=a;c++)f(c);return this},M.$$arity=1);a.defn(f,"$zero?",C=function(){return 0==this},C.$$arity=0);a.defn(f,"$size",G=function(){return 4},G.$$arity=0);a.defn(f,"$nan?",D=function(){return isNaN(this)},
D.$$arity=0);a.defn(f,"$finite?",Da=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Da.$$arity=0);a.defn(f,"$infinite?",Ca=function(){return Infinity==this?1:-Infinity==this?-1:d},Ca.$$arity=0);a.defn(f,"$positive?",Ba=function(){return Infinity==this||0<1/this},Ba.$$arity=0);return(a.defn(f,"$negative?",Ea=function(){return-Infinity==this||0>1/this},Ea.$$arity=0),d)&&"negative?"})(a.base,a.get("Numeric"));a.cdecl(a,"Fixnum",a.get("Number"));(function(c,$super){function b(){}var d=
b=v(c,$super,"Integer",b),e=d.$$scope,g;a.defs(d,"$===",g=function(a){return a.$$is_number?0===a%1:!1},g.$$arity=1);a.cdecl(e,"MAX",Math.pow(2,30)-1);return a.cdecl(e,"MIN",-Math.pow(2,30))})(a.base,a.get("Numeric"));return function(c,$super){function b(){}var f=b=v(c,$super,"Float",b),e=f.$$scope,g,h;a.defs(f,"$===",g=function(a){return!!a.$$is_number},g.$$arity=1);a.cdecl(e,"INFINITY",Infinity);a.cdecl(e,"MAX",Number.MAX_VALUE);a.cdecl(e,"MIN",Number.MIN_VALUE);a.cdecl(e,"NAN",NaN);a.cdecl(e,"DIG",
15);a.cdecl(e,"MANT_DIG",53);a.cdecl(e,"RADIX",2);return(h="undefined"!==typeof Number.EPSILON)===d||null==h||h.$$is_boolean&&1!=h?a.cdecl(e,"EPSILON",2.220446049250313E-16):a.cdecl(e,"EPSILON",Number.EPSILON)}(a.base,a.get("Numeric"))};
Opal.modules["corelib/range"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var e=a.top,g=a.nil,h=a.klass;a.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $upto $to_proc $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect $[]".split(" "));e.$require("corelib/enumerable");return function(b,$super){function d(){}var e=d=h(b,
$super,"Range",d),w=e.$$proto,k=e.$$scope,p,f,m,q,y,I,E,z,u,H,L,J,N;w.begin=w.exclude=w.end=g;e.$include(k.get("Enumerable"));w.$$is_range=!0;e.$attr_reader("begin","end");a.defn(e,"$initialize",p=function(a,b,d){var f;null==d&&(d=!1);((f=a["$<=>"](b))===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(k.get("ArgumentError"));this.begin=a;this.end=b;return this.exclude=d},p.$$arity=-3);a.defn(e,"$==",f=function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1},
f.$$arity=1);a.defn(e,"$===",m=function(a){return this["$include?"](a)},m.$$arity=1);a.defn(e,"$cover?",q=function(a){var b,d;return b=l(this.begin,a),!1!==b&&b!==g&&null!=b?(d=this.exclude)===g||null==d||d.$$is_boolean&&1!=d?l(a,this.end):n(a,this.end):b},q.$$arity=1);a.defn(e,"$each",y=function(){var b,d,f,e=y.$$p||g,h=g,m=g;y.$$p=null;if(e===g)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(k.get("TypeError"),"can't iterate from Float");
d=this.begin;for(f=this.end+((b=this.exclude)===g||null==b||b.$$is_boolean&&1!=b?1:0);d<f;d++)e(d);return this}if(this.begin.$$is_string&&this.end.$$is_string)return(b=(d=this.begin).$upto,b.$$p=e.$to_proc(),b).call(d,this.end,this.exclude),this;h=this.begin;for(m=this.end;(f=n(h,m))!==g&&null!=f&&(!f.$$is_boolean||1==f);)a.yield1(e,h),h=h.$succ();(b=(f=this.exclude["$!"](),!1!==f&&f!==g&&null!=f?h["$=="](m):f))===g||null==b||b.$$is_boolean&&1!=b||a.yield1(e,h);return this},y.$$arity=0);a.defn(e,
"$eql?",I=function(a){var b,d;return(b=k.get("Range")["$==="](a))===g||null==b||b.$$is_boolean&&1!=b?!1:(b=(d=this.exclude["$==="](a["$exclude_end?"]()),!1!==d&&d!==g&&null!=d?this.begin["$eql?"](a.$begin()):d),!1!==b&&b!==g&&null!=b?this.end["$eql?"](a.$end()):b)},I.$$arity=1);a.defn(e,"$exclude_end?",E=function(){return this.exclude},E.$$arity=0);a.alias(e,"first","begin");a.alias(e,"include?","cover?");a.alias(e,"last","end");a.defn(e,"$max",z=function(){var b,d=z.$$p,f=d||g,e=g,h=g;z.$$p=null;
e=[];for(h=0;h<arguments.length;h++)e[h]=arguments[h];return f!==g?(b=a.find_super_dispatcher(this,"max",z,!1),b.$$p=d,b).apply(this,e):this.exclude?this.end-1:this.end},z.$$arity=0);a.alias(e,"member?","cover?");a.defn(e,"$min",u=function(){var b,d=u.$$p,f=d||g,e=g,h=g;u.$$p=null;e=[];for(h=0;h<arguments.length;h++)e[h]=arguments[h];return f!==g?(b=a.find_super_dispatcher(this,"min",u,!1),b.$$p=d,b).apply(this,e):this.begin},u.$$arity=0);a.alias(e,"member?","include?");a.defn(e,"$size",H=function(){var a,
b,d=g,f=g,e=g,d=this.begin,f=this.end;(a=this.exclude)===g||null==a||a.$$is_boolean&&1!=a||(f="number"===typeof f?f-1:f["$-"](1));if((a=(b=k.get("Numeric")["$==="](d),!1!==b&&b!==g&&null!=b?k.get("Numeric")["$==="](f):b))===g||null==a||a.$$is_boolean&&1!=a)return g;if((a=n(f,d))!==g&&null!=a&&(!a.$$is_boolean||1==a))return 0;e=k.get("Float").$$scope.get("INFINITY");return(a=!1!==(b=e["$=="](d.$abs()))&&b!==g&&null!=b?b:f.$abs()["$=="](e))===g||null==a||a.$$is_boolean&&1!=a?(Math.abs(f-d)+1).$to_i():
e},H.$$arity=0);a.defn(e,"$step",L=function(a){return this.$raise(k.get("NotImplementedError"))},L.$$arity=-1);a.defn(e,"$to_s",J=function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()},J.$$arity=0);a.alias(e,"inspect","to_s");return(a.defn(e,"$marshal_load",N=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.exclude=a["$[]"]("excl")},N.$$arity=1),g)&&"marshal_load"}(a.base,null)};
Opal.modules["corelib/proc"]=function(a){var l=a.nil,n=a.slice,e=a.klass;a.add_stubs(["$raise","$coerce_to!"]);return function(g,$super){function b(){}var c=b=e(g,$super,"Proc",b),d=c.$$proto,v=c.$$scope,w,k,p,f,m,q,y,I,E,z;d.$$is_proc=!0;d.$$is_lambda=!1;a.defs(c,"$new",w=function(){var a=w.$$p||l;w.$$p=null;!1!==a&&a!==l&&null!=a||this.$raise(v.get("ArgumentError"),"tried to create a Proc object without a block");return a},w.$$arity=0);a.defn(c,"$call",k=function(c){var b,d=k.$$p||l,f=arguments.length;
b=f-0;0>b&&(b=0);b=Array(b);for(var e=0;e<f;e++)b[e-0]=arguments[e];k.$$p=null;d!==l&&(this.$$p=d);var g;if(d=this.$$brk)try{g=this.$$is_lambda?this.apply(null,b):a.yieldX(this,b)}catch(m){if(m===d)return d.$v;throw m;}else g=this.$$is_lambda?this.apply(null,b):a.yieldX(this,b);return g},k.$$arity=-1);a.alias(c,"[]","call");a.alias(c,"===","call");a.alias(c,"yield","call");a.defn(c,"$to_proc",p=function(){return this},p.$$arity=0);a.defn(c,"$lambda?",f=function(){return!!this.$$is_lambda},f.$$arity=
0);a.defn(c,"$arity",m=function(){return this.$$is_curried?-1:this.$$arity},m.$$arity=0);a.defn(c,"$source_location",q=function(){return l},q.$$arity=0);a.defn(c,"$binding",y=function(){this.$$is_curried&&this.$raise(v.get("ArgumentError"),"Can't create Binding");return l},y.$$arity=0);a.defn(c,"$parameters",I=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],c,b;c=0;for(b=this.$$parameters.length;c<b;c++){var d=this.$$parameters[c];
"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},I.$$arity=0);a.defn(c,"$curry",E=function(a){function c(){var d=n.call(arguments),f=d.length;f>a&&b.$$is_lambda&&!b.$$is_curried&&b.$raise(v.get("ArgumentError"),"wrong number of arguments ("+f+" for "+a+")");if(f>=a)return b.$call.apply(b,d);f=function(){return c.apply(null,d.concat(n.call(arguments)))};f.$$is_lambda=b.$$is_lambda;f.$$is_curried=!0;return f}var b=this;void 0===a?a=b.length:(a=v.get("Opal")["$coerce_to!"](a,v.get("Integer"),
"to_int"),b.$$is_lambda&&a!==b.length&&b.$raise(v.get("ArgumentError"),"wrong number of arguments ("+a+" for "+b.length+")"));c.$$is_lambda=b.$$is_lambda;c.$$is_curried=!0;return c},E.$$arity=-1);a.defn(c,"$dup",z=function(){var a=this.$$original_proc||this,c=function(){return a.apply(this,arguments)},b;for(b in this)this.hasOwnProperty(b)&&(c[b]=this[b]);return c},z.$$arity=0);return a.alias(c,"clone","dup")}(a.base,Function)};
Opal.modules["corelib/method"]=function(a){var l=a.nil,n=a.slice,e=a.klass;a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(g,$super){function b(){}var c=b=e(g,$super,"Method",b),d=c.$$proto,v=c.$$scope,w,k,p,f,m,q,y;d.method=d.receiver=d.owner=d.name=l;c.$attr_reader("owner","receiver","name");a.defn(c,"$initialize",w=function(a,c,b){this.receiver=a;this.owner=a.$class();this.name=b;return this.method=c},w.$$arity=3);a.defn(c,"$arity",k=function(){return this.method.$arity()},
k.$$arity=0);a.defn(c,"$parameters",p=function(){return this.method.$$parameters},p.$$arity=0);a.defn(c,"$call",f=function(a){var c,b=f.$$p||l,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];f.$$p=null;this.method.$$p=b;return this.method.apply(this.receiver,c)},f.$$arity=-1);a.alias(c,"[]","call");a.defn(c,"$unbind",m=function(){return v.get("UnboundMethod").$new(this.owner,this.method,this.name)},m.$$arity=0);a.defn(c,"$to_proc",q=function(){var a=this,c=function(){return a.$call.apply(a,
n.call(arguments))};c.$$unbound=a.method;c.$$is_lambda=!0;return c},q.$$arity=0);return(a.defn(c,"$inspect",y=function(){return"#<Method: "+this.receiver.$class()+"#"+this.name+">"},y.$$arity=0),l)&&"inspect"})(a.base,null);return function(g,$super){function b(){}var c=b=e(g,$super,"UnboundMethod",b),d=c.$$proto,n=c.$$scope,w,k,p,f,m;d.method=d.name=d.owner=l;c.$attr_reader("owner","name");a.defn(c,"$initialize",w=function(a,c,b){this.owner=a;this.method=c;return this.name=b},w.$$arity=3);a.defn(c,
"$arity",k=function(){return this.method.$arity()},k.$$arity=0);a.defn(c,"$parameters",p=function(){return this.method.$$parameters},p.$$arity=0);a.defn(c,"$bind",f=function(a){return n.get("Method").$new(a,this.method,this.name)},f.$$arity=1);return(a.defn(c,"$inspect",m=function(){return"#<UnboundMethod: "+this.owner.$name()+"#"+this.name+">"},m.$$arity=0),l)&&"inspect"}(a.base,null)};
Opal.modules["corelib/variables"]=function(a){var l=a.nil,n=a.gvars,e=a.hash2;a.add_stubs(["$new"]);n["&"]=n["~"]=n["`"]=n["'"]=l;n.LOADED_FEATURES=n['"']=a.loaded_features;n.LOAD_PATH=n[":"]=[];n["/"]="\n";n[","]=l;a.cdecl(a,"ARGV",[]);a.cdecl(a,"ARGF",a.get("Object").$new());a.cdecl(a,"ENV",e([],{}));n.VERBOSE=!1;n.DEBUG=!1;return n.SAFE=0};
Opal.modules["opal/regexp_anchors"]=function(a){var l=a.nil,n=a.module;a.add_stubs(["$==","$new"]);n=n(a.base,"Opal").$$scope;a.cdecl(n,"REGEXP_START",n.get("RUBY_ENGINE")["$=="]("opal")?"^":l);a.cdecl(n,"REGEXP_END",n.get("RUBY_ENGINE")["$=="]("opal")?"$":l);a.cdecl(n,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.cdecl(n,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
a.cdecl(n,"INLINE_IDENTIFIER_REGEXP",n.get("Regexp").$new("[^"+n.get("FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n.get("FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.cdecl(n,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.cdecl(n,"CONST_NAME_REGEXP",n.get("Regexp").$new(""+n.get("REGEXP_START")+"(::)?[A-Z][^"+n.get("FORBIDDEN_CONST_NAME_CHARS")+"]*"+n.get("REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var l=a.top;a.add_stubs(["$require"]);l.$require("opal/base");l.$require("corelib/nil");l.$require("corelib/boolean");l.$require("corelib/string");l.$require("corelib/comparable");l.$require("corelib/enumerable");l.$require("corelib/enumerator");l.$require("corelib/array");l.$require("corelib/hash");l.$require("corelib/number");l.$require("corelib/range");l.$require("corelib/proc");l.$require("corelib/method");l.$require("corelib/regexp");l.$require("corelib/variables");
return l.$require("opal/regexp_anchors")};
Opal.modules["corelib/string/inheritance"]=function(a){var l=a.top,n=a.nil,e=a.klass,g=a.gvars;a.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));l.$require("corelib/string");(function(g,$super){function c(){}var d=c=e(g,$super,"String",c),l=d.$$scope,w;return(a.defs(d,"$inherited",w=function(a){var c=n,c=l.get("Class").$new(l.get("String").$$scope.get("Wrapper"));a.$$proto=c.$$proto;
a.$$proto.$$class=a;a.$$alloc=c.$$alloc;a.$$parent=l.get("String").$$scope.get("Wrapper");a.$allocate=c.$allocate;a.$new=c.$new},w.$$arity=1),n)&&"inherited"})(a.base,null);return function(h,$super){function c(){}var d=c=e(h,$super,"Wrapper",c),l=d.$$proto,w,k,p,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r;l.literal=n;l.$$is_string=!0;a.defs(d,"$allocate",w=function(d){var f,e=n;null==d&&(d="");w.$$p=null;e=(f=a.find_super_dispatcher(this,"allocate",w,!1,c),f.$$p=null,f).call(this);e.literal=d;return e},w.$$arity=
-1);a.defs(d,"$new",k=function(c){var d,f,e,g=k.$$p||n,h=n,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var m=0;m<h;m++)e[m-0]=arguments[m];k.$$p=null;h=this.$allocate();(d=(f=h).$initialize,d.$$p=g.$to_proc(),d).apply(f,a.to_a(e));return h},k.$$arity=-1);a.defs(d,"$[]",p=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];return this.$allocate(c)},p.$$arity=-1);a.defn(d,"$initialize",f=function(a){null==a&&(a="");return this.literal=a},f.$$arity=
-1);a.defn(d,"$method_missing",m=function(c){var d,f,e,g=m.$$p||n,h=n,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var k=0;k<h;k++)e[k-0]=arguments[k];m.$$p=null;h=(d=(f=this.literal).$__send__,d.$$p=g.$to_proc(),d).apply(f,a.to_a(e));return(d=null!=h.$$is_string)===n||null==d||d.$$is_boolean&&1!=d?h:(d=h==this.literal)===n||null==d||d.$$is_boolean&&1!=d?this.$class().$allocate(h):this},m.$$arity=-1);a.defn(d,"$initialize_copy",q=function(a){return this.literal=a.literal.$clone()},q.$$arity=
1);a.defn(d,"$respond_to?",y=function(c,d){var f,e,g=y.$$p,h=n,k=n;y.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return!1!==(f=(e=a.find_super_dispatcher(this,"respond_to?",y,!1),e.$$p=g,e).apply(this,h))&&f!==n&&null!=f?f:this.literal["$respond_to?"](c)},y.$$arity=-2);a.defn(d,"$==",I=function(a){return this.literal["$=="](a)},I.$$arity=1);a.alias(d,"eql?","==");a.alias(d,"===","==");a.defn(d,"$to_s",E=function(){return this.literal},E.$$arity=0);a.alias(d,"to_str","to_s");a.defn(d,
"$inspect",z=function(){return this.literal.$inspect()},z.$$arity=0);a.defn(d,"$+",u=function(a){var c=this.literal;return"number"===typeof c&&"number"===typeof a?c+a:c["$+"](a)},u.$$arity=1);a.defn(d,"$*",H=function(a){var c=this.literal;a="number"===typeof c&&"number"===typeof a?c*a:c["$*"](a);return a.$$is_string?this.$class().$allocate(a):a},H.$$arity=1);a.defn(d,"$split",L=function(a,c){var d,f,e;return(d=(f=this.literal.$split(a,c)).$map,d.$$p=(e=function(a){var c=e.$$s||this;null==a&&(a=n);
return c.$class().$allocate(a)},e.$$s=this,e.$$arity=1,e),d).call(f)},L.$$arity=-1);a.defn(d,"$replace",J=function(a){return this.literal=a},J.$$arity=1);a.defn(d,"$each_line",N=function(c){var d,f,e,h=N.$$p||n;null==g["/"]&&(g["/"]=n);null==c&&(c=g["/"]);N.$$p=null;return h===n?this.$enum_for("each_line",c):(d=(f=this.literal).$each_line,d.$$p=(e=function(c){var d=e.$$s||this;null==c&&(c=n);return a.yield1(h,d.$class().$allocate(c))},e.$$s=this,e.$$arity=1,e),d).call(f,c)},N.$$arity=-1);a.defn(d,
"$lines",Q=function(a){var c,d=Q.$$p||n,f=n;null==g["/"]&&(g["/"]=n);null==a&&(a=g["/"]);Q.$$p=null;f=(c=this.$each_line,c.$$p=d.$to_proc(),c).call(this,a);return!1!==d&&d!==n&&null!=d?this:f.$to_a()},Q.$$arity=-1);a.defn(d,"$%",A=function(a){return this.literal["$%"](a)},A.$$arity=1);return(a.defn(d,"$instance_variables",r=function(){var c,d=r.$$p,f=n,e=n;r.$$p=null;f=[];for(e=0;e<arguments.length;e++)f[e]=arguments[e];d=(c=a.find_super_dispatcher(this,"instance_variables",r,!1),c.$$p=d,c).apply(this,
f);c=["@literal"];return"number"===typeof d&&"number"===typeof c?d-c:d["$-"](c)},r.$$arity=0),n)&&"instance_variables"}(a.get("String"),null)};
Opal.modules["corelib/string/encoding"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var n,e,g,h,b,c,d,v=a.top,w=a.nil,k=a.klass,p=a.hash2;a.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));v.$require("corelib/string");
(function(c,$super){function b(){}var d=b=k(c,$super,"Encoding",b),e=d.$$proto,g=d.$$scope,h,u,n,v,J,N,Q,A,r,P;e.ascii=e.dummy=e.name=w;a.defs(d,"$register",h=function(a,c){var b,d,f,e,k=h.$$p||w,u=w,n=w;null==c&&(c=p([],{}));h.$$p=null;u=l([a],!1!==(b=c["$[]"]("aliases"))&&b!==w&&null!=b?b:[]);n=(b=(d=g.get("Class")).$new,b.$$p=k.$to_proc(),b).call(d,this).$new(a,u,!1!==(b=c["$[]"]("ascii"))&&b!==w&&null!=b?b:!1,!1!==(b=c["$[]"]("dummy"))&&b!==w&&null!=b?b:!1);return(b=(f=u).$each,b.$$p=(e=function(a){var c=
e.$$s||this;null==a&&(a=w);return c.$const_set(a.$sub("-","_"),n)},e.$$s=this,e.$$arity=1,e),b).call(f)},h.$$arity=-2);a.defs(d,"$find",u=function(c){try{var b,d,f,e=w,e=c.$upcase();(b=(d=this.$constants()).$each,b.$$p=(f=function(c){var b=f.$$s||this,d,h,k=w;null==c&&(c=w);k=b.$const_get(c);if((d=g.get("Encoding")["$==="](k))===w||null==d||d.$$is_boolean&&1!=d||(d=!1!==(h=k.$name()["$=="](e))&&h!==w&&null!=h?h:k.$names()["$include?"](e))===w||null==d||d.$$is_boolean&&1!=d)return w;a.ret(k)},f.$$s=
this,f.$$arity=1,f),b).call(d);return this.$raise(g.get("ArgumentError"),"unknown encoding name - "+c)}catch(h){if(h===a.returner)return h.$v;throw h;}},u.$$arity=1);(function(a){return a.$attr_accessor("default_external")})(a.get_singleton_class(d));d.$attr_reader("name","names");a.defn(d,"$initialize",n=function(a,c,b,d){this.name=a;this.names=c;this.ascii=b;return this.dummy=d},n.$$arity=4);a.defn(d,"$ascii_compatible?",v=function(){return this.ascii},v.$$arity=0);a.defn(d,"$dummy?",J=function(){return this.dummy},
J.$$arity=0);a.defn(d,"$to_s",N=function(){return this.name},N.$$arity=0);a.defn(d,"$inspect",Q=function(){var a;return"#<Encoding:"+this.name+((a=this.dummy)===w||null==a||a.$$is_boolean&&1!=a?w:" (dummy)")+">"},Q.$$arity=0);a.defn(d,"$each_byte",A=function(a){return this.$raise(g.get("NotImplementedError"))},A.$$arity=-1);a.defn(d,"$getbyte",r=function(a){return this.$raise(g.get("NotImplementedError"))},r.$$arity=-1);a.defn(d,"$bytesize",P=function(a){return this.$raise(g.get("NotImplementedError"))},
P.$$arity=-1);(function(a,$super){function c(){}c=k(a,$super,"EncodingError",c);return w})(g.base,g.get("StandardError"));return function(a,$super){function c(){}c=k(a,$super,"CompatibilityError",c);return w}(g.base,g.get("EncodingError"))})(a.base,null);(n=(e=a.get("Encoding")).$register,n.$$p=(g=function(){var c=g.$$s||this,b,d;a.def(c,"$each_byte",b=function(c){var d=b.$$p||w;b.$$p=null;for(var f=0,e=c.length;f<e;f++){var g=c.charCodeAt(f);if(127>=g)a.yield1(d,g);else for(var g=encodeURIComponent(c.charAt(f)).substr(1).split("%"),
h=0,k=g.length;h<k;h++)a.yield1(d,parseInt(g[h],16))}},b.$$arity=1);return(a.def(c,"$bytesize",d=function(){return this.$bytes().$length()},d.$$arity=0),w)&&"bytesize"},g.$$s=v,g.$$arity=0,g),n).call(e,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(n=(h=a.get("Encoding")).$register,n.$$p=(b=function(){var c=b.$$s||this,d,e;a.def(c,"$each_byte",d=function(c){var b=d.$$p||w;d.$$p=null;for(var f=0,e=c.length;f<e;f++){var g=c.charCodeAt(f);a.yield1(b,g&255);a.yield1(b,g>>8)}},d.$$arity=
1);return(a.def(c,"$bytesize",e=function(){return this.$bytes().$length()},e.$$arity=0),w)&&"bytesize"},b.$$s=v,b.$$arity=0,b),n).call(h,"UTF-16LE");(n=(c=a.get("Encoding")).$register,n.$$p=(d=function(){var c=d.$$s||this,b,e;a.def(c,"$each_byte",b=function(c){var d=b.$$p||w;b.$$p=null;for(var f=0,e=c.length;f<e;f++)a.yield1(d,c.charCodeAt(f)&255)},b.$$arity=1);return(a.def(c,"$bytesize",e=function(){return this.$bytes().$length()},e.$$arity=0),w)&&"bytesize"},d.$$s=v,d.$$arity=0,d),n).call(c,"ASCII-8BIT",
p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(c,$super){function b(){}var d=b=k(c,$super,"String",b),e=d.$$scope,g,h,l,p,n,v,N;d.$$proto.encoding=w;String.prototype.encoding=e.get("Encoding").$$scope.get("UTF_16LE");a.defn(d,"$bytes",g=function(){return this.$each_byte().$to_a()},g.$$arity=0);a.defn(d,"$bytesize",h=function(){return this.encoding.$bytesize(this)},h.$$arity=0);a.defn(d,"$each_byte",l=function(){var a,c,b=l.$$p||w;l.$$p=null;if(b===w)return this.$enum_for("each_byte");
(a=(c=this.encoding).$each_byte,a.$$p=b.$to_proc(),a).call(c,this);return this},l.$$arity=0);a.defn(d,"$encode",p=function(a){return this.$dup().$force_encoding(a)},p.$$arity=1);a.defn(d,"$encoding",n=function(){return this.encoding},n.$$arity=0);a.defn(d,"$force_encoding",v=function(a){var c;a=e.get("Opal")["$coerce_to!"](a,e.get("String"),"to_str");a=e.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(c=a["$nil?"]())===w||null==c||c.$$is_boolean&&1!=c||this.$raise(e.get("ArgumentError"),
"unknown encoding name - "+a);c=new String(this);c.encoding=a;return c},v.$$arity=1);return(a.defn(d,"$getbyte",N=function(a){return this.encoding.$getbyte(this,a)},N.$$arity=1),w)&&"getbyte"}(a.base,null)};
Opal.modules["corelib/math"]=function(a){var l=a.nil,n=a.module;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(e){e=n(e,"Math");var g=e.$$scope,h,b,c,d,v,w,k,p,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O;a.cdecl(g,"E",Math.E);a.cdecl(g,"PI",Math.PI);a.cdecl(g,"DomainError",g.get("Class").$new(g.get("StandardError")));a.defs(e,"$checked",h=function(a,c){var b,d=arguments.length;b=d-1;0>b&&(b=
0);b=Array(b);for(var f=1;f<d;f++)b[f-1]=arguments[f];if(isNaN(b[0])||2==b.length&&isNaN(b[1]))return NaN;d=Math[a].apply(null,b);isNaN(d)&&this.$raise(g.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return d},h.$$arity=-2);a.defs(e,"$float!",b=function(c){try{return this.$Float(c)}catch(b){if(a.rescue(b,[g.get("ArgumentError")]))try{return this.$raise(g.get("Opal").$type_error(c,g.get("Float")))}finally{a.pop_exception()}else throw b;}},b.$$arity=1);a.defs(e,"$integer!",c=function(c){try{return this.$Integer(c)}catch(b){if(a.rescue(b,
[g.get("ArgumentError")]))try{return this.$raise(g.get("Opal").$type_error(c,g.get("Integer")))}finally{a.pop_exception()}else throw b;}},c.$$arity=1);e.$module_function();a.defn(e,"$acos",d=function(a){return g.get("Math").$checked("acos",g.get("Math")["$float!"](a))},d.$$arity=1);if((v="undefined"!==typeof Math.acosh)===l||null==v||v.$$is_boolean&&1!=v)Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};a.defn(e,"$acosh",w=function(a){return g.get("Math").$checked("acosh",g.get("Math")["$float!"](a))},
w.$$arity=1);a.defn(e,"$asin",k=function(a){return g.get("Math").$checked("asin",g.get("Math")["$float!"](a))},k.$$arity=1);if((v="undefined"!==typeof Math.asinh)===l||null==v||v.$$is_boolean&&1!=v)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};a.defn(e,"$asinh",p=function(a){return g.get("Math").$checked("asinh",g.get("Math")["$float!"](a))},p.$$arity=1);a.defn(e,"$atan",f=function(a){return g.get("Math").$checked("atan",g.get("Math")["$float!"](a))},f.$$arity=1);a.defn(e,"$atan2",m=
function(a,c){return g.get("Math").$checked("atan2",g.get("Math")["$float!"](a),g.get("Math")["$float!"](c))},m.$$arity=2);if((v="undefined"!==typeof Math.atanh)===l||null==v||v.$$is_boolean&&1!=v)Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))};a.defn(e,"$atanh",q=function(a){return g.get("Math").$checked("atanh",g.get("Math")["$float!"](a))},q.$$arity=1);if((v="undefined"!==typeof Math.cbrt)===l||null==v||v.$$is_boolean&&1!=v)Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);
for(var c=a,b=0;.125>c;)c*=8,b--;for(;1<c;)c*=.125,b++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>b;)c*=.5,b++;for(;0<b;)c*=2,b--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)};a.defn(e,"$cbrt",y=function(a){return g.get("Math").$checked("cbrt",g.get("Math")["$float!"](a))},y.$$arity=1);a.defn(e,"$cos",I=function(a){return g.get("Math").$checked("cos",g.get("Math")["$float!"](a))},I.$$arity=1);if((v="undefined"!==typeof Math.cosh)===l||null==v||v.$$is_boolean&&
1!=v)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};a.defn(e,"$cosh",E=function(a){return g.get("Math").$checked("cosh",g.get("Math")["$float!"](a))},E.$$arity=1);if((v="undefined"!==typeof Math.erf)===l||null==v||v.$$is_boolean&&1!=v)Math.erf=function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return c*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*b+.254829592)*b*Math.exp(-a*a))};a.defn(e,"$erf",z=function(a){return g.get("Math").$checked("erf",g.get("Math")["$float!"](a))},
z.$$arity=1);if((v="undefined"!==typeof Math.erfc)===l||null==v||v.$$is_boolean&&1!=v)Math.erfc=function(a){var c=Math.abs(a),b=1/(.5*c+1),c=b*Math.exp(-c*c-1.26551223+b*(b*(b*(b*(b*(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c};a.defn(e,"$erfc",u=function(a){return g.get("Math").$checked("erfc",g.get("Math")["$float!"](a))},u.$$arity=1);a.defn(e,"$exp",H=function(a){return g.get("Math").$checked("exp",g.get("Math")["$float!"](a))},
H.$$arity=1);a.defn(e,"$frexp",L=function(a){a=g.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]},L.$$arity=1);a.defn(e,"$gamma",J=function(a){a=g.get("Math")["$float!"](a);var c,b,d,f;d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,
8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(g.get("DomainError"),'Numerical argument is out of domain - "gamma"');if(g.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;b=a-2;for(--a;1<b;)a*=b,b--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*g.get("Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;
if(85<a)return b=a*a,c=b*a,d=c*a,f=d*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*b)-139/(51840*c)-571/(2488320*d)+163879/(209018880*f)+5246819/(75246796800*f*a));--a;b=d[0];for(c=1;c<d.length;++c)b+=d[c]/(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*b},J.$$arity=1);if((v="undefined"!==typeof Math.hypot)===l||null==v||v.$$is_boolean&&1!=v)Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)};a.defn(e,"$hypot",N=function(a,c){return g.get("Math").$checked("hypot",
g.get("Math")["$float!"](a),g.get("Math")["$float!"](c))},N.$$arity=2);a.defn(e,"$ldexp",Q=function(a,c){a=g.get("Math")["$float!"](a);c=g.get("Math")["$integer!"](c);isNaN(c)&&this.$raise(g.get("RangeError"),"float NaN out of range of integer");return a*Math.pow(2,c)},Q.$$arity=2);a.defn(e,"$lgamma",A=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(g.get("Math").$gamma(a))),0>g.get("Math").$gamma(a)?-1:1]},A.$$arity=1);a.defn(e,"$log",r=function(a,c){var b;(b=g.get("String")["$==="](a))===
l||null==b||b.$$is_boolean&&1!=b||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));if((b=null==c)===l||null==b||b.$$is_boolean&&1!=b){(b=g.get("String")["$==="](c))===l||null==b||b.$$is_boolean&&1!=b||this.$raise(g.get("Opal").$type_error(c,g.get("Float")));b=g.get("Math").$checked("log",g.get("Math")["$float!"](a));var d=g.get("Math").$checked("log",g.get("Math")["$float!"](c));return"number"===typeof b&&"number"===typeof d?b/d:b["$/"](d)}return g.get("Math").$checked("log",g.get("Math")["$float!"](a))},
r.$$arity=-2);if((v="undefined"!==typeof Math.log10)===l||null==v||v.$$is_boolean&&1!=v)Math.log10=function(a){return Math.log(a)/Math.LN10};a.defn(e,"$log10",P=function(a){var c;(c=g.get("String")["$==="](a))===l||null==c||c.$$is_boolean&&1!=c||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));return g.get("Math").$checked("log10",g.get("Math")["$float!"](a))},P.$$arity=1);if((v="undefined"!==typeof Math.log2)===l||null==v||v.$$is_boolean&&1!=v)Math.log2=function(a){return Math.log(a)/Math.LN2};
a.defn(e,"$log2",S=function(a){var c;(c=g.get("String")["$==="](a))===l||null==c||c.$$is_boolean&&1!=c||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));return g.get("Math").$checked("log2",g.get("Math")["$float!"](a))},S.$$arity=1);a.defn(e,"$sin",R=function(a){return g.get("Math").$checked("sin",g.get("Math")["$float!"](a))},R.$$arity=1);if((v="undefined"!==typeof Math.sinh)===l||null==v||v.$$is_boolean&&1!=v)Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2};a.defn(e,"$sinh",Z=function(a){return g.get("Math").$checked("sinh",
g.get("Math")["$float!"](a))},Z.$$arity=1);a.defn(e,"$sqrt",aa=function(a){return g.get("Math").$checked("sqrt",g.get("Math")["$float!"](a))},aa.$$arity=1);a.defn(e,"$tan",V=function(a){var c;a=g.get("Math")["$float!"](a);return(c=a["$infinite?"]())===l||null==c||c.$$is_boolean&&1!=c?g.get("Math").$checked("tan",g.get("Math")["$float!"](a)):g.get("Float").$$scope.get("NAN")},V.$$arity=1);if((v="undefined"!==typeof Math.tanh)===l||null==v||v.$$is_boolean&&1!=v)Math.tanh=function(a){return Infinity==
a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};a.defn(e,"$tanh",O=function(a){return g.get("Math").$checked("tanh",g.get("Math")["$float!"](a))},O.$$arity=1)}(a.base)};
Opal.modules["corelib/complex"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var h=a.top,b=a.nil,c=a.klass,d=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
h.$require("corelib/numeric");(function(d,$super){function h(){}var p=h=c(d,$super,"Complex",h),f=p.$$proto,m=p.$$scope,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa;f.real=f.imag=b;a.defs(p,"$rect",q=function(a,c){var d,f,e,g;null==c&&(c=0);((d=(f=(e=(g=m.get("Numeric")["$==="](a),!1!==g&&g!==b&&null!=g?a["$real?"]():g),!1!==e&&e!==b&&null!=e?m.get("Numeric")["$==="](c):e),!1!==f&&f!==b&&null!=f?c["$real?"]():f))===b||null==d||d.$$is_boolean&&1!=d)&&this.$raise(m.get("TypeError"),
"not a real");return this.$new(a,c)},q.$$arity=-2);(function(c){return a.alias(c,"rectangular","rect")})(a.get_singleton_class(p));a.defs(p,"$polar",y=function(a,c){var d,f,e,g;null==c&&(c=0);((d=(f=(e=(g=m.get("Numeric")["$==="](a),!1!==g&&g!==b&&null!=g?a["$real?"]():g),!1!==e&&e!==b&&null!=e?m.get("Numeric")["$==="](c):e),!1!==f&&f!==b&&null!=f?c["$real?"]():f))===b||null==d||d.$$is_boolean&&1!=d)&&this.$raise(m.get("TypeError"),"not a real");return this.$new(l(a,m.get("Math").$cos(c)),l(a,m.get("Math").$sin(c)))},
y.$$arity=-2);p.$attr_reader("real","imag");a.defn(p,"$initialize",I=function(a,c){null==c&&(c=0);this.real=a;return this.imag=c},I.$$arity=-2);a.defn(p,"$coerce",E=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$raise(m.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[m.get("Complex").$new(a,0),this]:[a,this]},E.$$arity=
1);a.defn(p,"$==",z=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?a["$=="](this):this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real())},z.$$arity=1);a.defn(p,"$-@",u=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},u.$$arity=0);a.defn(p,
"$+",H=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("+",a):this.$Complex(n(this.real,a),this.imag):this.$Complex(n(this.real,a.$real()),n(this.imag,a.$imag()))},H.$$arity=1);a.defn(p,"$-",L=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&
d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("-",a):this.$Complex(e(this.real,a),this.imag):this.$Complex(e(this.real,a.$real()),e(this.imag,a.$imag()))},L.$$arity=1);a.defn(p,"$*",J=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("*",a):this.$Complex(l(this.real,a),l(this.imag,a)):this.$Complex(e(l(this.real,
a.$real()),l(this.imag,a.$imag())),n(l(this.real,a.$imag()),l(this.imag,a.$real())))},J.$$arity=1);a.defn(p,"$/",N=function(a){var c,d,f,e,h;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(c=!1!==(d=!1!==(f=!1!==(e=(h=m.get("Number")["$==="](this.real),!1!==h&&h!==b&&null!=h?this.real["$nan?"]():
h))&&e!==b&&null!=e?e:(h=m.get("Number")["$==="](this.imag),!1!==h&&h!==b&&null!=h?this.imag["$nan?"]():h))&&f!==b&&null!=f?f:(e=m.get("Number")["$==="](a.$real()),!1!==e&&e!==b&&null!=e?a.$real()["$nan?"]():e))&&d!==b&&null!=d?d:(f=m.get("Number")["$==="](a.$imag()),!1!==f&&f!==b&&null!=f?a.$imag()["$nan?"]():f))===b||null==c||c.$$is_boolean&&1!=c?g(l(this,a.$conj()),a.$abs2()):m.get("Complex").$new(m.get("Float").$$scope.get("NAN"),m.get("Float").$$scope.get("NAN"))},N.$$arity=1);a.defn(p,"$**",
Q=function(c){var d,f,h,k,p,u=b,r=b,A=b,q=b,z=b,q=A=r=u=z=u=b;if(c["$=="](0))return m.get("Complex").$new(1,0);if((d=m.get("Complex")["$==="](c))===b||null==d||d.$$is_boolean&&1!=d){if((d=m.get("Integer")["$==="](c))===b||null==d||d.$$is_boolean&&1!=d){if((d=!1!==(f=m.get("Float")["$==="](c))&&f!==b&&null!=f?f:m.get("Rational")["$==="](c))===b||null==d||d.$$is_boolean&&1!=d)return this.$__coerced__("**",c);f=this.$polar();d=a.to_ary(f);u=null==d[0]?b:d[0];r=null==d[1]?b:d[1];f;return m.get("Complex").$polar(u["$**"](c),
l(r,c))}if((d="number"===typeof c?0<c:c["$>"](0))===b||null==d||d.$$is_boolean&&1!=d)return g(m.get("Rational").$new(1,1),this)["$**"](c["$-@"]());u=z=this;for(r=e(c,1);(f=r["$!="](0))!==b&&null!=f&&(!f.$$is_boolean||1==f);){for(;(h=(p=r.$divmod(2),k=a.to_ary(p),A=null==k[0]?b:k[0],q=null==k[1]?b:k[1],p,q["$=="](0)))!==b&&null!=h&&(!h.$$is_boolean||1==h);)z=this.$Complex(e(l(z.$real(),z.$real()),l(z.$imag(),z.$imag())),l(l(2,z.$real()),z.$imag())),r=A;u=l(u,z);r=e(r,1)}return u}f=this.$polar();d=
a.to_ary(f);u=null==d[0]?b:d[0];r=null==d[1]?b:d[1];f;A=c.$real();q=c.$imag();z=m.get("Math").$exp(e(l(A,m.get("Math").$log(u)),l(q,r)));u=n(l(r,A),l(q,m.get("Math").$log(u)));return m.get("Complex").$polar(z,u)},Q.$$arity=1);a.defn(p,"$abs",A=function(){return m.get("Math").$hypot(this.real,this.imag)},A.$$arity=0);a.defn(p,"$abs2",r=function(){return n(l(this.real,this.real),l(this.imag,this.imag))},r.$$arity=0);a.defn(p,"$angle",P=function(){return m.get("Math").$atan2(this.imag,this.real)},P.$$arity=
0);a.alias(p,"arg","angle");a.defn(p,"$conj",S=function(){return this.$Complex(this.real,this.imag["$-@"]())},S.$$arity=0);a.alias(p,"conjugate","conj");a.defn(p,"$denominator",R=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},R.$$arity=0);a.alias(p,"divide","/");a.defn(p,"$eql?",Z=function(a){var c,d;return c=(d=m.get("Complex")["$==="](a),!1!==d&&d!==b&&null!=d?this.real.$class()["$=="](this.imag.$class()):d),!1!==c&&c!==b&&null!=c?this["$=="](a):c},Z.$$arity=1);a.defn(p,
"$fdiv",aa=function(a){var c;((c=m.get("Numeric")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c)&&this.$raise(m.get("TypeError"),""+a.$class()+" can't be coerced into Complex");return g(this,a)},aa.$$arity=1);a.defn(p,"$hash",V=function(){return"Complex:"+this.real+":"+this.imag},V.$$arity=0);a.alias(p,"imaginary","imag");a.defn(p,"$inspect",O=function(){return"("+this.$to_s()+")"},O.$$arity=0);a.alias(p,"magnitude","abs");a.defn(p,"$numerator",T=function(){var a=b,a=this.$denominator();return this.$Complex(l(this.real.$numerator(),
g(a,this.real.$denominator())),l(this.imag.$numerator(),g(a,this.imag.$denominator())))},T.$$arity=0);a.alias(p,"phase","arg");a.defn(p,"$polar",Y=function(){return[this.$abs(),this.$arg()]},Y.$$arity=0);a.alias(p,"quo","/");a.defn(p,"$rationalize",X=function(a){var c;1<arguments.length&&this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(c=this.imag["$!="](0))===b||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("RangeError"),"can't' convert "+this+" into Rational");
return this.$real().$rationalize(a)},X.$$arity=-1);a.defn(p,"$real?",ea=function(){return!1},ea.$$arity=0);a.defn(p,"$rect",ha=function(){return[this.real,this.imag]},ha.$$arity=0);a.alias(p,"rectangular","rect");a.defn(p,"$to_f",ia=function(){this.imag["$=="](0)||this.$raise(m.get("RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},ia.$$arity=0);a.defn(p,"$to_i",ka=function(){this.imag["$=="](0)||this.$raise(m.get("RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},
ka.$$arity=0);a.defn(p,"$to_r",la=function(){this.imag["$=="](0)||this.$raise(m.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},la.$$arity=0);a.defn(p,"$to_s",fa=function(){var a,c,d,f=b,f=this.real.$inspect(),f=(a=!1!==(c=(d=m.get("Number")["$==="](this.imag),!1!==d&&d!==b&&null!=d?this.imag["$nan?"]():d))&&c!==b&&null!=c?c:this.imag["$positive?"]())===b||null==a||a.$$is_boolean&&1!=a?n(f,"-"):n(f,"+"),f=n(f,this.imag.$abs().$inspect());(a=(c=m.get("Number")["$==="](this.imag),
!1!==c&&c!==b&&null!=c?!1!==(d=this.imag["$nan?"]())&&d!==b&&null!=d?d:this.imag["$infinite?"]():c))===b||null==a||a.$$is_boolean&&1!=a||(f=n(f,"*"));return n(f,"i")},fa.$$arity=0);return a.cdecl(m,"I",p.$new(0,1))})(a.base,a.get("Numeric"));return function(c){c=d(c,"Kernel");var e=c.$$scope,g;a.defn(c,"$Complex",g=function(a,c){null==c&&(c=b);return!1!==c&&c!==b&&null!=c?e.get("Complex").$new(a,c):e.get("Complex").$new(a,0)},g.$$arity=-2)}(a.base)};
Opal.modules["corelib/rational"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var b=a.top,c=a.nil,d=a.klass,v=a.module;a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));
b.$require("corelib/numeric");(function(b,$super){function p(){}var f=p=d(b,$super,"Rational",p),m=f.$$proto,q=f.$$scope,v,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka;m.num=m.den=c;a.defs(f,"$reduce",v=function(a,b){var d,f=c;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(q.get("ZeroDivisionError"),"divided by 0");else if((d=l(b,0))!==c&&null!=d&&(!d.$$is_boolean||1==d))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);f=a.$gcd(b);return this.$new(n(a,f),n(b,f))},
v.$$arity=2);a.defs(f,"$convert",I=function(a,b){var d,f,e;(d=!1!==(f=a["$nil?"]())&&f!==c&&null!=f?f:b["$nil?"]())===c||null==d||d.$$is_boolean&&1!=d||this.$raise(q.get("TypeError"),"cannot convert nil into Rational");if((d=(f=q.get("Integer")["$==="](a),!1!==f&&f!==c&&null!=f?q.get("Integer")["$==="](b):f))!==c&&null!=d&&(!d.$$is_boolean||1==d))return this.$reduce(a,b);(d=!1!==(f=!1!==(e=q.get("Float")["$==="](a))&&e!==c&&null!=e?e:q.get("String")["$==="](a))&&f!==c&&null!=f?f:q.get("Complex")["$==="](a))===
c||null==d||d.$$is_boolean&&1!=d||(a=a.$to_r());(d=!1!==(f=!1!==(e=q.get("Float")["$==="](b))&&e!==c&&null!=e?e:q.get("String")["$==="](b))&&f!==c&&null!=f?f:q.get("Complex")["$==="](b))===c||null==d||d.$$is_boolean&&1!=d||(b=b.$to_r());return(d=(f=b["$equal?"](1),!1!==f&&f!==c&&null!=f?q.get("Integer")["$==="](a)["$!"]():f))===c||null==d||d.$$is_boolean&&1!=d?(d=(f=q.get("Numeric")["$==="](a),!1!==f&&f!==c&&null!=f?q.get("Numeric")["$==="](b):f))===c||null==d||d.$$is_boolean&&1!=d?this.$reduce(a,
b):n(a,b):q.get("Opal")["$coerce_to!"](a,q.get("Rational"),"to_r")},I.$$arity=2);f.$attr_reader("numerator","denominator");a.defn(f,"$initialize",E=function(a,c){this.num=a;return this.den=c},E.$$arity=2);a.defn(f,"$numerator",z=function(){return this.num},z.$$arity=0);a.defn(f,"$denominator",u=function(){return this.den},u.$$arity=0);a.defn(f,"$coerce",H=function(a){var b=c,b=a;return q.get("Rational")["$==="](b)?[a,this]:q.get("Integer")["$==="](b)?[a.$to_r(),this]:q.get("Float")["$==="](b)?[a,
this.$to_f()]:c},H.$$arity=1);a.defn(f,"$==",L=function(a){var b=c,b=a;return q.get("Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):q.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):q.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)},L.$$arity=1);a.defn(f,"$<=>",J=function(a){var b=c,b=a;return q.get("Rational")["$==="](b)?e(g(this.num,a.$denominator()),g(this.den,a.$numerator()))["$<=>"](0):
q.get("Integer")["$==="](b)?e(this.num,g(this.den,a))["$<=>"](0):q.get("Float")["$==="](b)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},J.$$arity=1);a.defn(f,"$+",N=function(a){var b=c,d=b=c;b=a;q.get("Rational")["$==="](b)?(b=h(g(this.num,a.$denominator()),g(this.den,a.$numerator())),d=g(this.den,a.$denominator()),a=this.$Rational(b,d)):a=q.get("Integer")["$==="](b)?this.$Rational(h(this.num,g(a,this.den)),this.den):q.get("Float")["$==="](b)?h(this.$to_f(),a):this.$__coerced__("+",a);return a},
N.$$arity=1);a.defn(f,"$-",Q=function(a){var b=c,d=b=c;b=a;q.get("Rational")["$==="](b)?(b=e(g(this.num,a.$denominator()),g(this.den,a.$numerator())),d=g(this.den,a.$denominator()),a=this.$Rational(b,d)):a=q.get("Integer")["$==="](b)?this.$Rational(e(this.num,g(a,this.den)),this.den):q.get("Float")["$==="](b)?e(this.$to_f(),a):this.$__coerced__("-",a);return a},Q.$$arity=1);a.defn(f,"$*",A=function(a){var b=c,d=b=c;b=a;q.get("Rational")["$==="](b)?(b=g(this.num,a.$numerator()),d=g(this.den,a.$denominator()),
a=this.$Rational(b,d)):a=q.get("Integer")["$==="](b)?this.$Rational(g(this.num,a),this.den):q.get("Float")["$==="](b)?g(this.$to_f(),a):this.$__coerced__("*",a);return a},A.$$arity=1);a.defn(f,"$/",r=function(a){var b=c,d=b=c;b=a;q.get("Rational")["$==="](b)?(b=g(this.num,a.$denominator()),d=g(this.den,a.$numerator()),a=this.$Rational(b,d)):a=q.get("Integer")["$==="](b)?a["$=="](0)?n(this.$to_f(),0):this.$Rational(this.num,g(this.den,a)):q.get("Float")["$==="](b)?n(this.$to_f(),a):this.$__coerced__("/",
a);return a},r.$$arity=1);a.defn(f,"$**",P=function(a){var b,d=c,d=a;return q.get("Integer")["$==="](d)?(b=this["$=="](0)?l(a,0):this["$=="](0))===c||null==b||b.$$is_boolean&&1!=b?(b="number"===typeof a?0<a:a["$>"](0))===c||null==b||b.$$is_boolean&&1!=b?(b=l(a,0))===c||null==b||b.$$is_boolean&&1!=b?this.$Rational(1,1):this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(this.num["$**"](a),this.den["$**"](a)):q.get("Float").$$scope.get("INFINITY"):q.get("Float")["$==="](d)?
this.$to_f()["$**"](a):q.get("Rational")["$==="](d)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?(b=l(a,0))===c||null==b||b.$$is_boolean&&1!=b?this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):(b=this["$=="](0)?l(a,0):this["$=="](0))===c||null==b||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(q.get("ZeroDivisionError"),"divided by 0"):this.$__coerced__("**",
a)},P.$$arity=1);a.defn(f,"$abs",S=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},S.$$arity=0);a.defn(f,"$ceil",R=function(a){null==a&&(a=0);return a["$=="](0)?n(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},R.$$arity=-1);a.alias(f,"divide","/");a.defn(f,"$floor",Z=function(a){null==a&&(a=0);return a["$=="](0)?n(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},Z.$$arity=-1);a.defn(f,"$hash",aa=function(){return"Rational:"+
this.num+":"+this.den},aa.$$arity=0);a.defn(f,"$inspect",V=function(){return"("+this.$to_s()+")"},V.$$arity=0);a.alias(f,"quo","/");a.defn(f,"$rationalize",O=function(a){1<arguments.length&&this.$raise(q.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var c=a.$abs(),b=e(this,c),c=h(this,c),d=0,f=1,g=1,m=0,l,p,u;;){l=b.$ceil();if("number"===typeof l&&"number"===typeof c?l<=c:l["$<="](c))break;u=l-1;l=u*f+d;p=u*m+g;d=n(1,e(c,u));c=n(1,e(b,
u));b=d;d=f;g=m;f=l;m=p}return this.$Rational(l*f+d,l*m+g)},O.$$arity=-1);a.defn(f,"$round",T=function(a){var b,d=c,f=c,d=c;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;d=h(g(this.num.$abs(),2),this.den);f=g(this.den,2);d=n(d,f).$truncate();return(b=l(this.num,0))===c||null==b||b.$$is_boolean&&1!=b?d:d["$-@"]()},T.$$arity=-1);a.defn(f,"$to_f",Y=function(){return n(this.num,this.den)},Y.$$arity=0);a.defn(f,
"$to_i",X=function(){return this.$truncate()},X.$$arity=0);a.defn(f,"$to_r",ea=function(){return this},ea.$$arity=0);a.defn(f,"$to_s",ha=function(){return""+this.num+"/"+this.den},ha.$$arity=0);a.defn(f,"$truncate",ia=function(a){var b;null==a&&(a=0);return a["$=="](0)?(b=l(this.num,0))===c||null==b||b.$$is_boolean&&1!=b?this.$floor():this.$ceil():this.$with_precision("truncate",a)},ia.$$arity=-1);return(a.defn(f,"$with_precision",ka=function(a,b){var d,f=c,e=c;((d=q.get("Integer")["$==="](b))===
c||null==d||d.$$is_boolean&&1!=d)&&this.$raise(q.get("TypeError"),"not an Integer");f=10["$**"](b);e=g(this,f);return(d=l(b,1))===c||null==d||d.$$is_boolean&&1!=d?this.$Rational(e.$send(a),f):n(e.$send(a),f).$to_i()},ka.$$arity=2),c)&&"with_precision"})(a.base,a.get("Numeric"));return function(c){c=v(c,"Kernel");var b=c.$$scope,d;a.defn(c,"$Rational",d=function(a,c){null==c&&(c=1);return b.get("Rational").$convert(a,c)},d.$$arity=-2)}(a.base)};
Opal.modules["corelib/time"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var h=a.top,b=a.nil,c=a.slice,d=a.klass,v=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
h.$require("corelib/comparable");return function(h,$super){function p(){}function f(a,c,d,f,e,g){a=a.$$is_string?parseInt(a,10):q.get("Opal")["$coerce_to!"](a,q.get("Integer"),"to_int");if(c===b)c=1;else if(!c.$$is_number)if(c["$respond_to?"]("to_str"))switch(c=c.$to_str(),c.toLowerCase()){case "jan":c=1;break;case "feb":c=2;break;case "mar":c=3;break;case "apr":c=4;break;case "may":c=5;break;case "jun":c=6;break;case "jul":c=7;break;case "aug":c=8;break;case "sep":c=9;break;case "oct":c=10;break;
case "nov":c=11;break;case "dec":c=12;break;default:c=c.$to_i()}else c=q.get("Opal")["$coerce_to!"](c,q.get("Integer"),"to_int");(1>c||12<c)&&m.$raise(q.get("ArgumentError"),"month out of range: "+c);--c;d=d===b?1:d.$$is_string?parseInt(d,10):q.get("Opal")["$coerce_to!"](d,q.get("Integer"),"to_int");(1>d||31<d)&&m.$raise(q.get("ArgumentError"),"day out of range: "+d);f=f===b?0:f.$$is_string?parseInt(f,10):q.get("Opal")["$coerce_to!"](f,q.get("Integer"),"to_int");(0>f||24<f)&&m.$raise(q.get("ArgumentError"),
"hour out of range: "+f);e=e===b?0:e.$$is_string?parseInt(e,10):q.get("Opal")["$coerce_to!"](e,q.get("Integer"),"to_int");(0>e||59<e)&&m.$raise(q.get("ArgumentError"),"min out of range: "+e);g===b?g=0:g.$$is_number||(g=g.$$is_string?parseInt(g,10):q.get("Opal")["$coerce_to!"](g,q.get("Integer"),"to_int"));(0>g||60<g)&&m.$raise(q.get("ArgumentError"),"sec out of range: "+g);return[a,c,d,f,e,g]}var m=p=d(h,$super,"Time",p),q=m.$$scope,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,
F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta;m.$include(q.get("Comparable"));var va="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ua="Sun Mon Tue Wed Thu Fri Sat".split(" "),ja="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),t="January February March April May June July August September October November December".split(" ");a.defs(m,"$at",y=function(a,c){var b;if(q.get("Time")["$==="](a))return void 0!==c&&this.$raise(q.get("TypeError"),"can't convert Time into an exact number"),
b=new Date(a.getTime()),b.is_utc=a.is_utc,b;a.$$is_number||(a=q.get("Opal")["$coerce_to!"](a,q.get("Integer"),"to_int"));if(void 0===c)return new Date(1E3*a);c.$$is_number||(c=q.get("Opal")["$coerce_to!"](c,q.get("Integer"),"to_int"));return new Date(1E3*a+c/1E3)},y.$$arity=-2);a.defs(m,"$new",I=function(a,c,d,e,g,h,t){null==c&&(c=b);null==d&&(d=b);null==e&&(e=b);null==g&&(g=b);null==h&&(h=b);null==t&&(t=b);if(void 0===a)return new Date;t!==b&&this.$raise(q.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");
h=f(a,c,d,e,g,h);a=h[0];c=h[1];d=h[2];e=h[3];g=h[4];h=h[5];c=new Date(a,c,d,e,g,0,1E3*h);100>a&&c.setFullYear(a);return c},I.$$arity=-1);a.defs(m,"$local",E=function(a,d,e,g,h,t,m,l,p,M){null==d&&(d=b);null==e&&(e=b);null==g&&(g=b);null==h&&(h=b);null==t&&(t=b);null==m&&(m=b);null==l&&(l=b);null==p&&(p=b);null==M&&(M=b);var C;10===arguments.length&&(C=c.call(arguments),a=C[5],d=C[4],e=C[3],g=C[2],h=C[1],t=C[0]);C=f(a,d,e,g,h,t);a=C[0];d=C[1];e=C[2];g=C[3];h=C[4];t=C[5];C=new Date(a,d,e,g,h,0,1E3*
t);100>a&&C.setFullYear(a);return C},E.$$arity=-2);a.defs(m,"$gm",z=function(a,d,e,g,h,t,m,l,p,M){null==d&&(d=b);null==e&&(e=b);null==g&&(g=b);null==h&&(h=b);null==t&&(t=b);null==m&&(m=b);null==l&&(l=b);null==p&&(p=b);null==M&&(M=b);var C;10===arguments.length&&(C=c.call(arguments),a=C[5],d=C[4],e=C[3],g=C[2],h=C[1],t=C[0]);C=f(a,d,e,g,h,t);a=C[0];d=C[1];e=C[2];g=C[3];h=C[4];t=C[5];C=new Date(Date.UTC(a,d,e,g,h,0,1E3*t));100>a&&C.setUTCFullYear(a);C.is_utc=!0;return C},z.$$arity=-2);(function(c){a.alias(c,
"mktime","local");return a.alias(c,"utc","gm")})(a.get_singleton_class(m));a.defs(m,"$now",u=function(){return this.$new()},u.$$arity=0);a.defn(m,"$+",H=function(a){var c;(c=q.get("Time")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c||this.$raise(q.get("TypeError"),"time + time?");a.$$is_number||(a=q.get("Opal")["$coerce_to!"](a,q.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},H.$$arity=1);a.defn(m,"$-",L=function(a){var c;if((c=q.get("Time")["$==="](a))!==
b&&null!=c&&(!c.$$is_boolean||1==c))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=q.get("Opal")["$coerce_to!"](a,q.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},L.$$arity=1);a.defn(m,"$<=>",J=function(a){var c,d=b;return(c=q.get("Time")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(d=a["$<=>"](this),(c=d["$nil?"]())===b||null==c||c.$$is_boolean&&1!=c?(c="number"===typeof d?0<d:d["$>"](0))===b||null==c||c.$$is_boolean&&1!=c?(c="number"===typeof d?
0>d:d["$<"](0))===b||null==c||c.$$is_boolean&&1!=c?0:1:-1:b):this.$to_f()["$<=>"](a.$to_f())},J.$$arity=1);a.defn(m,"$==",N=function(a){return this.$to_f()===a.$to_f()},N.$$arity=1);a.defn(m,"$asctime",Q=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},Q.$$arity=0);a.alias(m,"ctime","asctime");a.defn(m,"$day",A=function(){return this.is_utc?this.getUTCDate():this.getDate()},A.$$arity=0);a.defn(m,"$yday",r=function(){var a=b,c=b,d=b,a=q.get("Time").$new(this.$year()).$to_i(),c=q.get("Time").$new(this.$year(),
this.$month(),this.$day()).$to_i(),d=86400;return l(n(e(c,a),d).$round(),1)},r.$$arity=0);a.defn(m,"$isdst",P=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())},P.$$arity=0);a.alias(m,"dst?","isdst");a.defn(m,"$dup",S=function(){var a=b,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},S.$$arity=0);a.defn(m,"$eql?",R=function(a){var c;
return c=a["$is_a?"](q.get("Time")),!1!==c&&c!==b&&null!=c?this["$<=>"](a)["$zero?"]():c},R.$$arity=1);a.defn(m,"$friday?",Z=function(){return 5==this.$wday()},Z.$$arity=0);a.defn(m,"$hash",aa=function(){return"Time:"+this.getTime()},aa.$$arity=0);a.defn(m,"$hour",V=function(){return this.is_utc?this.getUTCHours():this.getHours()},V.$$arity=0);a.defn(m,"$inspect",O=function(){var a;return(a=this["$utc?"]())===b||null==a||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):this.$strftime("%Y-%m-%d %H:%M:%S UTC")},
O.$$arity=0);a.alias(m,"mday","day");a.defn(m,"$min",T=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},T.$$arity=0);a.defn(m,"$mon",Y=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},Y.$$arity=0);a.defn(m,"$monday?",X=function(){return 1==this.$wday()},X.$$arity=0);a.alias(m,"month","mon");a.defn(m,"$saturday?",ea=function(){return 6==this.$wday()},ea.$$arity=0);a.defn(m,"$sec",ha=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},ha.$$arity=
0);a.defn(m,"$succ",ia=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},ia.$$arity=0);a.defn(m,"$usec",ka=function(){return 1E3*this.getMilliseconds()},ka.$$arity=0);a.defn(m,"$zone",la=function(){var a=this.toString(),c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c},la.$$arity=0);a.defn(m,"$getgm",fa=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},fa.$$arity=
0);a.alias(m,"getutc","getgm");a.defn(m,"$gmtime",da=function(){this.is_utc=!0;return this},da.$$arity=0);a.alias(m,"utc","gmtime");a.defn(m,"$gmt?",F=function(){return!0===this.is_utc},F.$$arity=0);a.defn(m,"$gmt_offset",ba=function(){return 60*-this.getTimezoneOffset()},ba.$$arity=0);a.defn(m,"$strftime",x=function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,d,f,e){f="";var g=-1!==b.indexOf("0"),h=-1===b.indexOf("-"),m=-1!==b.indexOf("_"),C=-1!==b.indexOf("^"),
G=-1!==b.indexOf("#"),D=(b.match(":")||[]).length;d=parseInt(d,10);g&&m&&(b.indexOf("0")<b.indexOf("_")?g=!1:m=!1);switch(e){case "Y":f+=c.$year();break;case "C":g=!m;f+=Math.round(c.$year()/100);break;case "y":g=!m;f+=c.$year()%100;break;case "m":g=!m;f+=c.$mon();break;case "B":f+=t[c.$mon()-1];break;case "b":case "h":m=!g;f+=ja[c.$mon()-1];break;case "d":g=!m;f+=c.$day();break;case "e":m=!g;f+=c.$day();break;case "j":f+=c.$yday();break;case "H":g=!m;f+=c.$hour();break;case "k":m=!g;f+=c.$hour();
break;case "I":g=!m;f+=c.$hour()%12||12;break;case "l":m=!g;f+=c.$hour()%12||12;break;case "P":f+=12<=c.$hour()?"pm":"am";break;case "p":f+=12<=c.$hour()?"PM":"AM";break;case "M":g=!m;f+=c.$min();break;case "S":g=!m;f+=c.$sec();break;case "L":g=!m;d=isNaN(d)?3:d;f+=c.getMilliseconds();break;case "N":d=isNaN(d)?9:d;f+=c.getMilliseconds().toString().$rjust(3,"0");f=f.$ljust(d,"0");break;case "z":a=c.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);e=Math.abs(a)%60;f=f+(0>a?"+":"-")+(10>b?"0":"");f+=
b;0<D&&(f+=":");f+=10>e?"0":"";f+=e;1<D&&(f+=":00");break;case "Z":f+=c.$zone();break;case "A":f+=va[c.$wday()];break;case "a":f+=ua[c.$wday()];break;case "u":f+=c.$wday()+1;break;case "w":f+=c.$wday();break;case "V":f+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":f+=c.$cweek_cyear()["$[]"](1);break;case "g":f+=c.$cweek_cyear()["$[]"](1)["$[]"](v(-2,-1,!1));break;case "s":f+=c.$to_i();break;case "n":f+="\n";break;case "t":f+="\t";break;case "%":f+="%";break;case "c":f+=c.$strftime("%a %b %e %T %Y");
break;case "D":case "x":f+=c.$strftime("%m/%d/%y");break;case "F":f+=c.$strftime("%Y-%m-%d");break;case "v":f+=c.$strftime("%e-%^b-%4Y");break;case "r":f+=c.$strftime("%I:%M:%S %p");break;case "R":f+=c.$strftime("%H:%M");break;case "T":case "X":f+=c.$strftime("%H:%M:%S");break;default:return a}C&&(f=f.toUpperCase());G&&(f=f.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));h&&(g||m)&&(f=f.$rjust(isNaN(d)?2:d,m?" ":"0"));return f})},x.$$arity=1);a.defn(m,
"$sunday?",ca=function(){return 0==this.$wday()},ca.$$arity=0);a.defn(m,"$thursday?",B=function(){return 4==this.$wday()},B.$$arity=0);a.defn(m,"$to_a",W=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},W.$$arity=0);a.defn(m,"$to_f",ma=function(){return this.getTime()/1E3},ma.$$arity=0);a.defn(m,"$to_i",na=function(){return parseInt(this.getTime()/1E3,10)},na.$$arity=0);a.alias(m,"to_s","inspect");
a.defn(m,"$tuesday?",pa=function(){return 2==this.$wday()},pa.$$arity=0);a.alias(m,"tv_sec","sec");a.alias(m,"tv_usec","usec");a.alias(m,"utc?","gmt?");a.alias(m,"gmtoff","gmt_offset");a.alias(m,"utc_offset","gmt_offset");a.defn(m,"$wday",ra=function(){return this.is_utc?this.getUTCDay():this.getDay()},ra.$$arity=0);a.defn(m,"$wednesday?",K=function(){return 3==this.$wday()},K.$$arity=0);a.defn(m,"$year",sa=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},sa.$$arity=0);return(a.defn(m,
"$cweek_cyear",ta=function(){var a,c,d=b,f=b,h=f=f=d=b,h=b,d=q.get("Time").$new(this.$year(),1,1),f=d.$wday(),d=this.$year();(a=(c=g(f,4),!1!==c&&c!==b&&null!=c?f["$!="](0):c))===b||null==a||a.$$is_boolean&&1!=a?(f=e(e(f,7),1),f["$=="](-8)&&(f=-1)):f=e(f,1);f=n(l(this.$yday(),f),7).$ceil();if((a=g(f,0))!==b&&null!=a&&(!a.$$is_boolean||1==a))return q.get("Time").$new(e(this.$year(),1),12,31).$cweek_cyear();f["$=="](53)&&(h=q.get("Time").$new(this.$year(),12,31),h=h.$wday(),(a=(c=g(h,3),!1!==c&&c!==
b&&null!=c?h["$!="](0):c))===b||null==a||a.$$is_boolean&&1!=a||(f=1,d=l(d,1)));return[f,d]},ta.$$arity=0),b)&&"cweek_cyear"}(a.base,Date)};
Opal.modules["corelib/struct"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var h=a.top,b=a.nil,c=a.klass,d=a.hash2;a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $> $length $class $each_with_index $[]= $[] $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $join $inspect $each_pair $inject $flatten $to_a $values_at".split(" "));
h.$require("corelib/enumerable");return function(h,$super){function k(){}var p=k=c(h,$super,"Struct",k),f=p.$$scope,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa;p.$include(f.get("Enumerable"));a.defs(p,"$new",m=function(c,d){var e,g,h,k,l,p,u=m.$$p||b,n=b,n=arguments.length,r=n-1;0>r&&(r=0);p=Array(r);for(r=1;r<n;r++)p[r-1]=arguments[r];m.$$p=null;if(!1!==c&&c!==b&&null!=c)try{c=f.get("Opal")["$const_name!"](c)}catch(A){if(a.rescue(A,[f.get("TypeError"),f.get("NameError")]))try{p.$unshift(c),c=b}finally{a.pop_exception()}else throw A;
}(e=p.$map,e.$$p=(g=function(a){null==a&&(a=b);return f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str")},g.$$s=this,g.$$arity=1,g),e).call(p);n=(e=(h=f.get("Class")).$new,e.$$p=(k=function(){var c=k.$$s||this,d,f;(d=p.$each,d.$$p=(f=function(a){var c=f.$$s||this;null==a&&(a=b);return c.$define_struct_attribute(a)},f.$$s=c,f.$$arity=1,f),d).call(p);return function(c){var d;a.defn(c,"$new",d=function(c){var d,f,e=b,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];
e=this.$allocate();e.$$data={};(d=e).$initialize.apply(d,a.to_a(f));return e},d.$$arity=-1);return a.alias(c,"[]","new")}(a.get_singleton_class(c))},k.$$s=this,k.$$arity=0,k),e).call(h,this);!1!==u&&u!==b&&null!=u&&(e=(l=n).$module_eval,e.$$p=u.$to_proc(),e).call(l);!1!==c&&c!==b&&null!=c&&f.get("Struct").$const_set(c,n);return n},m.$$arity=-2);a.defs(p,"$define_struct_attribute",q=function(a){var c,d,e;this["$=="](f.get("Struct"))&&this.$raise(f.get("ArgumentError"),"you cannot define attributes to the Struct class");
this.$members()["$<<"](a);(c=this.$define_method,c.$$p=(d=function(){return(d.$$s||this).$$data[a]},d.$$s=this,d.$$arity=0,d),c).call(this,a);return(c=this.$define_method,c.$$p=(e=function(c){var d=e.$$s||this;null==c&&(c=b);return d.$$data[a]=c},e.$$s=this,e.$$arity=1,e),c).call(this,""+a+"=")},q.$$arity=1);a.defs(p,"$members",y=function(){var a;null==this.members&&(this.members=b);this["$=="](f.get("Struct"))&&this.$raise(f.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&
a!==b&&null!=a?a:this.members=[]},y.$$arity=0);a.defs(p,"$inherited",I=function(a){var c,d,f=b;null==this.members&&(this.members=b);f=this.members;return(c=a.$instance_eval,c.$$p=(d=function(){return(d.$$s||this).members=f},d.$$s=this,d.$$arity=0,d),c).call(a)},I.$$arity=1);a.defn(p,"$initialize",E=function(a){var c,d,e,g,h=arguments.length,k=h-0;0>k&&(k=0);g=Array(k);for(k=0;k<h;k++)g[k-0]=arguments[k];(c=l(g.$length(),this.$class().$members().$length()))===b||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),
"struct size differs");return(c=(d=this.$class().$members()).$each_with_index,c.$$p=(e=function(a,c){var d=e.$$s||this;null==a&&(a=b);null==c&&(c=b);return d["$[]="](a,g["$[]"](c))},e.$$s=this,e.$$arity=2,e),c).call(d)},E.$$arity=-1);a.defn(p,"$members",z=function(){return this.$class().$members()},z.$$arity=0);a.defn(p,"$hash",u=function(){return f.get("Hash").$new(this.$$data).$hash()},u.$$arity=0);a.defn(p,"$[]",H=function(a){var c;(c=f.get("Integer")["$==="](a))===b||null==c||c.$$is_boolean&&
1!=c?(c=f.get("String")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?this.$raise(f.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):this.$$data.hasOwnProperty(a)||this.$raise(f.get("NameError").$new("no member '"+a+"' in struct",a)):((c=n(a,this.$class().$members().$size()["$-@"]()))===b||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),(c=e(a,this.$class().$members().$size()))===
b||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a));a=f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str");return this.$$data[a]},H.$$arity=1);a.defn(p,"$[]=",L=function(a,c){var d;(d=f.get("Integer")["$==="](a))===b||null==d||d.$$is_boolean&&1!=d?(d=f.get("String")["$==="](a))===b||null==d||d.$$is_boolean&&1!=d?this.$raise(f.get("TypeError"),"no implicit conversion of "+
a.$class()+" into Integer"):((d=this.$class().$members()["$include?"](a.$to_sym()))===b||null==d||d.$$is_boolean&&1!=d)&&this.$raise(f.get("NameError").$new("no member '"+a+"' in struct",a)):((d=n(a,this.$class().$members().$size()["$-@"]()))===b||null==d||d.$$is_boolean&&1!=d||this.$raise(f.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),(d=e(a,this.$class().$members().$size()))===b||null==d||d.$$is_boolean&&1!=d||this.$raise(f.get("IndexError"),
"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a));a=f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str");return this.$$data[a]=c},L.$$arity=2);a.defn(p,"$==",J=function(a){function c(a,b){var d,h,k;e[a.$__id__()]=!0;g[b.$__id__()]=!0;for(d in a.$$data)if(h=a.$$data[d],k=b.$$data[d],f.get("Struct")["$==="](h)){if(!(e.hasOwnProperty(h.$__id__())&&g.hasOwnProperty(k.$__id__())||c(h,k)))return!1}else if(!h["$=="](k))return!1;return!0}
var d;if((d=a["$instance_of?"](this.$class()))===b||null==d||d.$$is_boolean&&1!=d)return!1;var e={},g={};return c(this,a)},J.$$arity=1);a.defn(p,"$eql?",N=function(a){function c(a,b){var d,h,k;e[a.$__id__()]=!0;g[b.$__id__()]=!0;for(d in a.$$data)if(h=a.$$data[d],k=b.$$data[d],f.get("Struct")["$==="](h)){if(!(e.hasOwnProperty(h.$__id__())&&g.hasOwnProperty(k.$__id__())||c(h,k)))return!1}else if(!h["$eql?"](k))return!1;return!0}var d;if((d=a["$instance_of?"](this.$class()))===b||null==d||d.$$is_boolean&&
1!=d)return!1;var e={},g={};return c(this,a)},N.$$arity=1);a.defn(p,"$each",Q=function(){var c,d,f,e,g=Q.$$p||b;Q.$$p=null;if(g===b)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),c).call(this,"each");(c=(f=this.$class().$members()).$each,c.$$p=(e=function(c){var d=e.$$s||this;null==c&&(c=b);return a.yield1(g,d["$[]"](c))},e.$$s=this,e.$$arity=1,e),c).call(f);return this},Q.$$arity=0);a.defn(p,"$each_pair",A=function(){var c,d,f,e,g=A.$$p||b;A.$$p=
null;if(g===b)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),c).call(this,"each_pair");(c=(f=this.$class().$members()).$each,c.$$p=(e=function(c){var d=e.$$s||this;null==c&&(c=b);return a.yield1(g,[c,d["$[]"](c)])},e.$$s=this,e.$$arity=1,e),c).call(f);return this},A.$$arity=0);a.defn(p,"$length",r=function(){return this.$class().$members().$length()},r.$$arity=0);a.alias(p,"size","length");a.defn(p,"$to_a",P=function(){var a,c,d;return(a=(c=this.$class().$members()).$map,
a.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=b);return c["$[]"](a)},d.$$s=this,d.$$arity=1,d),a).call(c)},P.$$arity=0);a.alias(p,"values","to_a");a.defn(p,"$inspect",S=function(){var a,c,d,e=b,e="#<struct ";(a=(c=f.get("Struct")["$==="](this),!1!==c&&c!==b&&null!=c?this.$class().$name():c))===b||null==a||a.$$is_boolean&&1!=a||(e=g(e,""+this.$class()+" "));e=g(e,(a=(c=this.$each_pair()).$map,a.$$p=(d=function(a,c){null==a&&(a=b);null==c&&(c=b);return""+a+"="+c.$inspect()},d.$$s=this,d.$$arity=
2,d),a).call(c).$join(", "));return e=g(e,">")},S.$$arity=0);a.alias(p,"to_s","inspect");a.defn(p,"$to_h",R=function(){var a,c,f;return(a=(c=this.$class().$members()).$inject,a.$$p=(f=function(a,c){var d=f.$$s||this;null==a&&(a=b);null==c&&(c=b);a["$[]="](c,d["$[]"](c));return a},f.$$s=this,f.$$arity=2,f),a).call(c,d([],{}))},R.$$arity=0);a.defn(p,"$values_at",Z=function(a){var c,d,e,g,h=arguments.length;g=h-0;0>g&&(g=0);g=Array(g);for(var k=0;k<h;k++)g[k-0]=arguments[k];g=(c=(d=g).$map,c.$$p=(e=
function(a){null==a&&(a=b);return a.$$is_range?a.$to_a():a},e.$$s=this,e.$$arity=1,e),c).call(d).$flatten();c=[];d=0;for(e=g.length;d<e;d++)g[d].$$is_number||this.$raise(f.get("TypeError"),"no implicit conversion of "+g[d].$class()+" into Integer"),c.push(this["$[]"](g[d]));return c},Z.$$arity=-1);return(a.defs(p,"$_load",aa=function(c){var d=b,d=c.$values_at.apply(c,a.to_a(this.$members()));return this.$new.apply(this,a.to_a(d))},aa.$$arity=1),b)&&"_load"}(a.base,null)};
Opal.modules["corelib/io"]=function(a){var l,n,e=a.nil,g=a.klass,h=a.module,b=a.gvars;a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(c,$super){function l(){}var n=l=g(c,$super,"IO",l),k=n.$$proto,p=n.$$scope,f,m,q,y;k.tty=k.closed=e;a.cdecl(p,"SEEK_SET",0);a.cdecl(p,"SEEK_CUR",1);a.cdecl(p,"SEEK_END",2);a.defn(n,"$tty?",f=function(){return this.tty},f.$$arity=0);a.defn(n,"$closed?",m=function(){return this.closed},
m.$$arity=0);n.$attr_accessor("write_proc");a.defn(n,"$write",q=function(a){this.write_proc(a);return a.$size()},q.$$arity=1);n.$attr_accessor("sync","tty");a.defn(n,"$flush",y=function(){return e},y.$$arity=0);(function(c){c=h(c,"Writable");var f,g,k;a.defn(c,"$<<",f=function(a){this.$write(a);return this},f.$$arity=1);a.defn(c,"$print",g=function(a){var c,f,g;null==b[","]&&(b[","]=e);var h=arguments.length;g=h-0;0>g&&(g=0);g=Array(g);for(var k=0;k<h;k++)g[k-0]=arguments[k];this.$write((c=g.$map,
c.$$p=(f=function(a){var c=f.$$s||this;null==a&&(a=e);return c.$String(a)},f.$$s=this,f.$$arity=1,f),c).call(g).$join(b[","]));return e},g.$$arity=-1);a.defn(c,"$puts",k=function(a){var c,f,g,h=e;null==b["/"]&&(b["/"]=e);h=arguments.length;g=h-0;0>g&&(g=0);g=Array(g);for(var k=0;k<h;k++)g[k-0]=arguments[k];h=b["/"];(c=g["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c?this.$write((c=g.$map,c.$$p=(f=function(a){var c=f.$$s||this;null==a&&(a=e);return c.$String(a).$chomp()},f.$$s=this,f.$$arity=1,f),
c).call(g).$concat([e]).$join(h)):this.$write(b["/"]);return e},k.$$arity=-1)})(p.base);return function(c){c=h(c,"Readable");var f=c.$$scope,g,k,m,l;a.defn(c,"$readbyte",g=function(){return this.$getbyte()},g.$$arity=0);a.defn(c,"$readchar",k=function(){return this.$getc()},k.$$arity=0);a.defn(c,"$readline",m=function(a){null==b["/"]&&(b["/"]=e);return this.$raise(f.get("NotImplementedError"))},m.$$arity=-1);a.defn(c,"$readpartial",l=function(a,c){return this.$raise(f.get("NotImplementedError"))},
l.$$arity=-2)}(p.base)})(a.base,null);a.cdecl(a,"STDERR",b.stderr=a.get("IO").$new());a.cdecl(a,"STDIN",b.stdin=a.get("IO").$new());a.cdecl(a,"STDOUT",b.stdout=a.get("IO").$new());l=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];n=a.get("STDOUT");n["$write_proc="].apply(n,l);l[l.length-1];l=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];n=a.get("STDERR");n["$write_proc="].apply(n,l);l[l.length-1];a.get("STDOUT").$extend(a.get("IO").$$scope.get("Writable"));
return a.get("STDERR").$extend(a.get("IO").$$scope.get("Writable"))};Opal.modules["corelib/main"]=function(a){var l,n,e=a.top,g=a.nil;a.add_stubs(["$include"]);a.defs(e,"$to_s",l=function(){return"main"},l.$$arity=0);return(a.defs(e,"$include",n=function(e){return a.get("Object").$include(e)},n.$$arity=1),g)&&"include"};
Opal.modules["corelib/dir"]=function(a){var l=a.nil,n=a.klass;a.add_stubs(["$[]"]);return function(e,$super){function h(){}var b=h=n(e,$super,"Dir",h);return function(c){var b=c.$$scope,e,h,k;a.defn(c,"$chdir",e=function(c){var b=e.$$p||l,d=l;e.$$p=null;try{return d=a.current_dir,a.current_dir=c,a.yieldX(b,[])}finally{a.current_dir=d}},e.$$arity=1);a.defn(c,"$pwd",h=function(){return a.current_dir||"."},h.$$arity=0);a.alias(c,"getwd","pwd");return(a.defn(c,"$home",k=function(){var a;return!1!==(a=
b.get("ENV")["$[]"]("HOME"))&&a!==l&&null!=a?a:"."},k.$$arity=0),l)&&"home"}(a.get_singleton_class(b))}(a.base,null)};
Opal.modules["corelib/file"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var e=a.nil,g=a.klass,h=a.range;a.add_stubs("$join $compact $split $== $first $[]= $home $pwd $each $pop $<< $raise $respond_to? $to_path $class $nil? $is_a? $basename $empty? $rindex $[] $+ $- $length $gsub $find $=~".split(" "));return function(b,$super){function d(){}var v=d=g(b,$super,"File",d),w=v.$$scope;
a.cdecl(w,"Separator",a.cdecl(w,"SEPARATOR","/"));a.cdecl(w,"ALT_SEPARATOR",e);a.cdecl(w,"PATH_SEPARATOR",":");a.cdecl(w,"FNM_SYSCASE",0);return function(b){function d(a){return a.substring(1,a.length)}function f(a){for(var b,f;0<a.length;)if(g(a)){b=a;for(a=d(a);0<a.length&&g(a);)a=d(a);if(!a)break;f=b}else a=d(a);return f}function g(a){return a.charAt(0)===v.get("SEPARATOR")}function q(a,b){return 0==a.length?b.length:b.indexOf(a)}var v=b.$$scope,w,E,z,u,H,L,J,N;a.defn(b,"$expand_path",w=function(a,
b){var d,f,g,h=e,k=e;null==b&&(b=e);a=[b,a].$compact().$join(v.get("SEPARATOR"));h=a.$split(v.get("SEPARATOR"));k=[];if(h.$first()["$=="]("~"))h["$[]="](0,v.get("Dir").$home());if(h.$first()["$=="]("."))h["$[]="](0,v.get("Dir").$pwd());(d=(f=h).$each,d.$$p=(g=function(a){null==a&&(a=e);return a["$=="]("..")?k.$pop():k["$<<"](a)},g.$$s=this,g.$$arity=1,g),d).call(f);return k.$join(v.get("SEPARATOR"))},w.$$arity=-2);a.alias(b,"realpath","expand_path");a.defn(b,"$dirname",E=function(a){a===e&&this.$raise(v.get("TypeError"),
"no implicit conversion of nil into String");a["$respond_to?"]("to_path")&&(a=a.$to_path());a.$$is_string||this.$raise(v.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");var b,h;for(b=a;0<b.length&&g(b);)b=d(b);0==b.length?a=a.substring(a.length-1,a.length):0>b.length-a.length&&(a=a.substring(a.indexOf(b)-1,a.length));(h=f(b))||(h=b);return h===a?".":a.substring(0,a.length-h.length)},E.$$arity=1);a.defn(b,"$basename",z=function(a,b){null==b&&(b=e);var h,k,l;k=0;var n=-1,u;
a===e&&this.$raise(v.get("TypeError"),"no implicit conversion of nil into String");a["$respond_to?"]("to_path")&&(a=a.$to_path());a.$$is_string||this.$raise(v.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");b===e||b.$$is_string||this.$raise(v.get("TypeError"),"no implicit conversion of "+b.$class()+" into String");if(0==a.length)return a;for(u=a;g(a);)h=a,a=d(a);if(a){if(h=f(a))for(;g(h);)h=d(h);else h=a;a:for(n=h;0<n.length;)if(g(n)){k=n;for(n=n.substring(1,n.length);0<n.length&&
g(n);)n=d(n);if(0==n.length){n=k;break a}}else n=d(n);n=q(n,h);for(k=h;q(k,h)<n&&"."===k.charAt(0);k=d(k));for(l=null;q(k,h)<n;k=d(k))"."===k.charAt(0)&&(l=k);k=l?q(l,h):n}else k=1;a:{l=a;if(0<=n&&(b===e?k=n:(k=".*"===b?"\\.\\w+":b.replace(/\?/g,"\\?"),k=(k=(new RegExp(k+v.get("Separator")+"*$")).exec(h))?k.index:n),k===u.length)){u=l;break a}u=h.substring(0,k)}return u},z.$$arity=-2);a.defn(b,"$extname",u=function(a){var b,d,f=e,g=e;(b=a["$nil?"]())===e||null==b||b.$$is_boolean&&1!=b||this.$raise(v.get("TypeError"),
"no implicit conversion of nil into String");(b=a["$respond_to?"]("to_path"))===e||null==b||b.$$is_boolean&&1!=b||(a=a.$to_path());((b=a["$is_a?"](v.get("String")))===e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(v.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");f=this.$basename(a);if((b=f["$empty?"]())!==e&&null!=b&&(!b.$$is_boolean||1==b))return"";g=f["$[]"](h(1,-1,!1)).$rindex(".");return(b=!1!==(d=g["$nil?"]())&&d!==e&&null!=d?d:l(g,1)["$=="](n(f.$length(),1)))===e||
null==b||b.$$is_boolean&&1!=b?f["$[]"](h(l(g,1),-1,!1)):""},u.$$arity=1);a.defn(b,"$exist?",H=function(b){return null!=a.modules[b]},H.$$arity=1);a.alias(b,"exists?","exist?");a.defn(b,"$directory?",L=function(b){var d,f,g,h=e,h=e,h=[],k;for(k in a.modules)h.push(k);b=b.$gsub(new RegExp("(^."+v.get("SEPARATOR")+"+|"+v.get("SEPARATOR")+"+$)"));return h=(d=(f=h).$find,d.$$p=(g=function(a){null==a&&(a=e);return a["$=~"](new RegExp("^"+b))},g.$$s=this,g.$$arity=1,g),d).call(f)},L.$$arity=1);a.defn(b,
"$join",J=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];return b.$join(v.get("SEPARATOR")).$gsub(new RegExp(""+v.get("SEPARATOR")+"+"),v.get("SEPARATOR"))},J.$$arity=-1);return(a.defn(b,"$split",N=function(a){return a.$split(v.get("SEPARATOR"))},N.$$arity=1),e)&&"split"}(a.get_singleton_class(v))}(a.base,a.get("IO"))};
Opal.modules["corelib/process"]=function(a){var l=a.nil,n=a.klass;a.add_stubs(["$to_f","$now","$new"]);(function(e,$super){function h(){}var b=h=n(e,$super,"Process",h),c=b.$$scope,d,v,w;a.cdecl(c,"CLOCK_REALTIME",0);a.cdecl(c,"CLOCK_MONOTONIC",1);a.defs(b,"$pid",d=function(){return 0},d.$$arity=0);a.defs(b,"$times",v=function(){var a=l,a=c.get("Time").$now().$to_f();return c.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)},v.$$arity=0);return(a.defs(b,"$clock_gettime",w=function(a,b){return c.get("Time").$now().$to_f()},
w.$$arity=-2),l)&&"clock_gettime"})(a.base,null);(function(e,$super){function h(){}var b=h=n(e,$super,"Signal",h),c;return(a.defs(b,"$trap",c=function(a){return l},c.$$arity=-1),l)&&"trap"})(a.base,null);return function(e,$super){function h(){}var b=h=n(e,$super,"GC",h),c;return(a.defs(b,"$start",c=function(){return l},c.$$arity=0),l)&&"start"}(a.base,null)};
Opal.modules["corelib/unsupported"]=function(a){function l(c){switch(a.config.unsupported_features_severity){case "error":h.get("Kernel").$raise(h.get("NotImplementedError"),c);break;case "warning":v[c]||(v[c]=!0,g.$warn(c))}}var n,e,g=a.top,h=a,b=a.nil,c=a.klass,d=a.module;a.add_stubs(["$raise","$warn","$%"]);var v={};(function(d,$super){function e(){}var f=e=c(d,$super,"String",e),g=f.$$scope,h,l,n,v,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa;a.defn(f,"$<<",h=function(a){return this.$raise(g.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},h.$$arity=-1);a.defn(f,"$capitalize!",l=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},l.$$arity=-1);a.defn(f,"$chomp!",n=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},n.$$arity=-1);a.defn(f,
"$chop!",v=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},v.$$arity=-1);a.defn(f,"$downcase!",z=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},z.$$arity=-1);a.defn(f,"$gsub!",u=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},
u.$$arity=-1);a.defn(f,"$lstrip!",H=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},H.$$arity=-1);a.defn(f,"$next!",L=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},L.$$arity=-1);a.defn(f,"$reverse!",J=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},
J.$$arity=-1);a.defn(f,"$slice!",N=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},N.$$arity=-1);a.defn(f,"$squeeze!",Q=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},Q.$$arity=-1);a.defn(f,"$strip!",A=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
A.$$arity=-1);a.defn(f,"$sub!",r=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},r.$$arity=-1);a.defn(f,"$succ!",P=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},P.$$arity=-1);a.defn(f,"$swapcase!",S=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},
S.$$arity=-1);a.defn(f,"$tr!",R=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},R.$$arity=-1);a.defn(f,"$tr_s!",Z=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},Z.$$arity=-1);return(a.defn(f,"$upcase!",aa=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},
aa.$$arity=-1),b)&&"upcase!"})(h.base,null);(function(c){c=d(c,"Kernel");var b,e;a.defn(c,"$freeze",b=function(){l("Object freezing is not supported by Opal");return this},b.$$arity=0);a.defn(c,"$frozen?",e=function(){l("Object freezing is not supported by Opal");return!1},e.$$arity=0)})(h.base);(function(c){c=d(c,"Kernel");var b,e,f;a.defn(c,"$taint",b=function(){l("Object tainting is not supported by Opal");return this},b.$$arity=0);a.defn(c,"$untaint",e=function(){l("Object tainting is not supported by Opal");
return this},e.$$arity=0);a.defn(c,"$tainted?",f=function(){l("Object tainting is not supported by Opal");return!1},f.$$arity=0)})(h.base);(function(d,$super){function e(){}var f=e=c(d,$super,"Module",e),g,h,l,n;a.defn(f,"$public",g=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];0===c.length&&(this.$$module_function=!1);return b},g.$$arity=-1);a.alias(f,"private","public");a.alias(f,"protected","public");a.alias(f,"nesting","public");a.defn(f,
"$private_class_method",h=function(a){return this},h.$$arity=-1);a.alias(f,"public_class_method","private_class_method");a.defn(f,"$private_method_defined?",l=function(a){return!1},l.$$arity=1);a.defn(f,"$private_constant",n=function(a){return b},n.$$arity=-1);a.alias(f,"protected_method_defined?","private_method_defined?");a.alias(f,"public_instance_methods","instance_methods");return a.alias(f,"public_method_defined?","method_defined?")})(h.base,null);(function(c){c=d(c,"Kernel");var b;a.defn(c,
"$private_methods",b=function(a){return[]},b.$$arity=-1);a.alias(c,"private_instance_methods","private_methods")})(h.base);(function(c){c=d(c,"Kernel");var b=c.$$scope,e;a.defn(c,"$eval",e=function(a){return this.$raise(b.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},e.$$arity=-1)})(h.base);a.defs(g,"$public",n=function(a){return b},n.$$arity=-1);
return(a.defs(g,"$private",e=function(a){return b},e.$$arity=-1),b)&&"private"};
(function(a){var l=a.top;a.add_stubs(["$require"]);l.$require("opal/base");l.$require("opal/mini");l.$require("corelib/string/inheritance");l.$require("corelib/string/encoding");l.$require("corelib/math");l.$require("corelib/complex");l.$require("corelib/rational");l.$require("corelib/time");l.$require("corelib/struct");l.$require("corelib/io");l.$require("corelib/main");l.$require("corelib/dir");l.$require("corelib/file");l.$require("corelib/process");return l.$require("corelib/unsupported")})(Opal);
Opal.modules.set=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var e=a.nil,g=a.klass,h=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(b,$super){function d(){}var h=d=g(b,$super,"Set",d),w=h.$$scope,k,p,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea;h.$$proto.hash=e;h.$include(w.get("Enumerable"));a.defs(h,"$[]",k=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];return this.$new(b)},k.$$arity=-1);a.defn(h,"$initialize",p=function(a){var b,d,f,g=p.$$p||e;null==a&&(a=e);p.$$p=null;this.hash=w.get("Hash").$new();if((b=a["$nil?"]())!==e&&null!=b&&(!b.$$is_boolean||
1==b))return e;((b=w.get("Enumerable")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(w.get("ArgumentError"),"value must be enumerable");return!1!==g&&g!==e&&null!=g?(b=(d=a).$each,b.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=e);return b.$add(g.$call(a))},f.$$s=this,f.$$arity=1,f),b).call(d):this.$merge(a)},p.$$arity=-1);a.defn(h,"$dup",f=function(){var a=e,a=this.$class().$new();return a.$merge(this)},f.$$arity=0);a.defn(h,"$-",m=function(a){var b;((b=a["$respond_to?"]("each"))===
e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(w.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},m.$$arity=1);a.alias(h,"difference","-");a.defn(h,"$inspect",q=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},q.$$arity=0);a.defn(h,"$==",y=function(a){var b,d,f;return(b=this["$equal?"](a))===e||null==b||b.$$is_boolean&&1!=b?(b=a["$instance_of?"](this.$class()))===e||null==b||b.$$is_boolean&&1!=b?(b=(d=a["$is_a?"](w.get("Set")),!1!==d&&d!==e&&null!=d?this.$size()["$=="](a.$size()):
d))===e||null==b||b.$$is_boolean&&1!=b?!1:(b=(d=a)["$all?"],b.$$p=(f=function(a){var b=f.$$s||this;null==b.hash&&(b.hash=e);null==a&&(a=e);return b.hash["$include?"](a)},f.$$s=this,f.$$arity=1,f),b).call(d):this.hash["$=="](a.$instance_variable_get("@hash")):!0},y.$$arity=1);a.defn(h,"$add",I=function(a){this.hash["$[]="](a,!0);return this},I.$$arity=1);a.alias(h,"<<","add");a.defn(h,"$classify",E=function(){var b,d,f,g,h=E.$$p||e,k=e;E.$$p=null;if(h===e)return this.$enum_for("classify");k=(b=(d=
w.get("Hash")).$new,b.$$p=(f=function(a,b){var d=f.$$s||this;null==a&&(a=e);null==b&&(b=e);return a["$[]="](b,d.$class().$new())},f.$$s=this,f.$$arity=2,f),b).call(d);(b=this.$each,b.$$p=(g=function(b){null==b&&(b=e);return k["$[]"](a.yield1(h,b)).$add(b)},g.$$s=this,g.$$arity=1,g),b).call(this);return k},E.$$arity=0);a.defn(h,"$collect!",z=function(){var b,d,f=z.$$p||e,g=e;z.$$p=null;if(f===e)return this.$enum_for("collect!");g=this.$class().$new();(b=this.$each,b.$$p=(d=function(b){null==b&&(b=
e);return g["$<<"](a.yield1(f,b))},d.$$s=this,d.$$arity=1,d),b).call(this);return this.$replace(g)},z.$$arity=0);a.alias(h,"map!","collect!");a.defn(h,"$delete",u=function(a){this.hash.$delete(a);return this},u.$$arity=1);a.defn(h,"$delete?",H=function(a){var b;if((b=this["$include?"](a))===e||null==b||b.$$is_boolean&&1!=b)return e;this.$delete(a);return this},H.$$arity=1);a.defn(h,"$delete_if",L=function(){try{var b,d,f,g,h,k=L.$$p||e;L.$$p=null;!1!==(b=k!==e)&&b!==e&&null!=b?b:a.ret(this.$enum_for("delete_if"));
(b=(d=(g=this.$select,g.$$p=(h=function(b){null==b&&(b=e);return a.yield1(k,b)},h.$$s=this,h.$$arity=1,h),g).call(this)).$each,b.$$p=(f=function(a){var b=f.$$s||this;null==b.hash&&(b.hash=e);null==a&&(a=e);return b.hash.$delete(a)},f.$$s=this,f.$$arity=1,f),b).call(d);return this}catch(l){if(l===a.returner)return l.$v;throw l;}},L.$$arity=0);a.defn(h,"$add?",J=function(a){var b;return(b=this["$include?"](a))===e||null==b||b.$$is_boolean&&1!=b?this.$add(a):e},J.$$arity=1);a.defn(h,"$each",N=function(){var a,
b,d=N.$$p||e;N.$$p=null;if(d===e)return this.$enum_for("each");(a=(b=this.hash).$each_key,a.$$p=d.$to_proc(),a).call(b);return this},N.$$arity=0);a.defn(h,"$empty?",Q=function(){return this.hash["$empty?"]()},Q.$$arity=0);a.defn(h,"$eql?",A=function(a){var b,d;return this.hash["$eql?"]((b=a.$instance_eval,b.$$p=(d=function(){var a=d.$$s||this;null==a.hash&&(a.hash=e);return a.hash},d.$$s=this,d.$$arity=0,d),b).call(a))},A.$$arity=1);a.defn(h,"$clear",r=function(){this.hash.$clear();return this},r.$$arity=
0);a.defn(h,"$include?",P=function(a){return this.hash["$include?"](a)},P.$$arity=1);a.alias(h,"member?","include?");a.defn(h,"$merge",S=function(a){var b,d;(b=a.$each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b.$add(a)},d.$$s=this,d.$$arity=1,d),b).call(a);return this},S.$$arity=1);a.defn(h,"$replace",R=function(a){this.$clear();this.$merge(a);return this},R.$$arity=1);a.defn(h,"$size",Z=function(){return this.hash.$size()},Z.$$arity=0);a.alias(h,"length","size");a.defn(h,"$subtract",
aa=function(a){var b,d;(b=a.$each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b.$delete(a)},d.$$s=this,d.$$arity=1,d),b).call(a);return this},aa.$$arity=1);a.defn(h,"$|",V=function(a){var b;((b=a["$respond_to?"]("each"))===e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(w.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},V.$$arity=1);a.defn(h,"$superset?",O=function(a){var b,d;!1!==(b=a["$is_a?"](w.get("Set")))&&b!==e&&null!=b?b:this.$raise(w.get("ArgumentError"),
"value must be a set");return(b=l(this.$size(),a.$size()))===e||null==b||b.$$is_boolean&&1!=b?(b=a["$all?"],b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d),b).call(a):!1},O.$$arity=1);a.alias(h,">=","superset?");a.defn(h,"$proper_superset?",T=function(a){var b,d;!1!==(b=a["$is_a?"](w.get("Set")))&&b!==e&&null!=b?b:this.$raise(w.get("ArgumentError"),"value must be a set");return(b=n(this.$size(),a.$size()))===e||null==b||b.$$is_boolean&&1!=
b?(b=a["$all?"],b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d),b).call(a):!1},T.$$arity=1);a.alias(h,">","proper_superset?");a.defn(h,"$subset?",Y=function(a){var b,d;!1!==(b=a["$is_a?"](w.get("Set")))&&b!==e&&null!=b?b:this.$raise(w.get("ArgumentError"),"value must be a set");return(b=l(a.$size(),this.$size()))===e||null==b||b.$$is_boolean&&1!=b?(b=this["$all?"],b.$$p=(d=function(b){null==b&&(b=e);return a["$include?"](b)},d.$$s=this,d.$$arity=
1,d),b).call(this):!1},Y.$$arity=1);a.alias(h,"<=","subset?");a.defn(h,"$proper_subset?",X=function(a){var b,d;!1!==(b=a["$is_a?"](w.get("Set")))&&b!==e&&null!=b?b:this.$raise(w.get("ArgumentError"),"value must be a set");return(b=n(a.$size(),this.$size()))===e||null==b||b.$$is_boolean&&1!=b?(b=this["$all?"],b.$$p=(d=function(b){null==b&&(b=e);return a["$include?"](b)},d.$$s=this,d.$$arity=1,d),b).call(this):!1},X.$$arity=1);a.alias(h,"<","proper_subset?");a.alias(h,"+","|");a.alias(h,"union","|");
return(a.defn(h,"$to_a",ea=function(){return this.hash.$keys()},ea.$$arity=0),e)&&"to_a"})(a.base,null);return function(b){b=h(b,"Enumerable");var c=b.$$scope,d;a.defn(b,"$to_set",d=function(b,g){var h,l,f,m=d.$$p||e;null==b&&(b=c.get("Set"));var n=arguments.length;f=n-1;0>f&&(f=0);f=Array(f);for(var y=1;y<n;y++)f[y-1]=arguments[y];d.$$p=null;return(h=(l=b).$new,h.$$p=m.$to_proc(),h).apply(l,[this].concat(a.to_a(f)))},d.$$arity=-1)}(a.base)};
Opal.modules.strscan=function(a){var l=a.nil,n=a.klass;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(e,$super){function h(){}var b=h=n(e,$super,"StringScanner",h),c=b.$$proto,d,v,w,k,p,f,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z;c.pos=c.string=c.working=c.matched=c.prev_pos=c.match=l;b.$attr_reader("pos");b.$attr_reader("matched");a.defn(b,"$initialize",d=function(a){this.string=a;this.pos=0;this.matched=l;this.working=a;return this.match=
[]},d.$$arity=1);b.$attr_reader("string");a.defn(b,"$beginning_of_line?",v=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},v.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.defn(b,"$scan",w=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=l:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=
this.working.substring(a.length),a):l},w.$$arity=1);a.defn(b,"$scan_until",k=function(a){a=this.$anchor(a);for(var c=this.pos,b=this.working,d;;)if(d=a.exec(b),c+=1,b=b.substr(1),null==d){if(0===b.length)return this.matched=l}else return this.matched=this.string.substr(this.pos,c-this.pos-1+d[0].length),this.prev_pos=c-1,this.pos=c,this.working=b.substr(d[0].length),this.matched},k.$$arity=1);a.defn(b,"$[]",p=function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?l:c[a]},
p.$$arity=1);a.defn(b,"$check",f=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=l:this.matched=a[0]},f.$$arity=1);a.defn(b,"$check_until",m=function(a){var c=this.prev_pos,b=this.pos;a=this.$scan_until(a);a!==l&&(this.matched=a.substr(-1),this.working=this.string.substr(b));this.prev_pos=c;this.pos=b;return a},m.$$arity=1);a.defn(b,"$peek",q=function(a){return this.working.substring(0,a)},q.$$arity=1);a.defn(b,"$eos?",y=function(){return 0===this.working.length},
y.$$arity=0);a.defn(b,"$exist?",I=function(a){a=a.exec(this.working);return null==a?l:0==a.index?0:a.index+1},I.$$arity=1);a.defn(b,"$skip",E=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=l;a=a[0];var c=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c},E.$$arity=1);a.defn(b,"$skip_until",z=function(a){a=this.$scan_until(a);if(a===l)return l;this.matched=a.substr(-1);return a.length},z.$$arity=1);a.defn(b,
"$get_byte",u=function(){var a=l;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=l;return a},u.$$arity=0);a.alias(b,"getch","get_byte");a.defn(b,"$match?",H=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return l;this.prev_pos=this.pos;return a[0].length},H.$$arity=1);a.defn(b,"$pos=",L=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},
L.$$arity=1);a.defn(b,"$post_match",J=function(){return this.matched===l?l:this.string.substr(this.pos)},J.$$arity=0);a.defn(b,"$pre_match",N=function(){return this.matched===l?l:this.string.substr(0,this.prev_pos)},N.$$arity=0);a.defn(b,"$reset",Q=function(){this.working=this.string;this.matched=l;return this.pos=0},Q.$$arity=0);a.defn(b,"$rest",A=function(){return this.working},A.$$arity=0);a.defn(b,"$rest?",r=function(){return 0!==this.working.length},r.$$arity=0);a.defn(b,"$rest_size",P=function(){return this.$rest().$size()},
P.$$arity=0);a.defn(b,"$terminate",S=function(){var a;this.match=l;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]},S.$$arity=0);a.defn(b,"$unscan",R=function(){this.pos=this.prev_pos;this.match=this.prev_pos=l;return this},R.$$arity=0);b.$private();return(a.defn(b,"$anchor",Z=function(a){return new RegExp("^(?:"+a.toString().substr(1,a.toString().length-2)+")")},Z.$$arity=1),l)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){var l=a.nil,n=a.module,e=a.klass,g=a.gvars;a.add_stubs("$new $attr_reader $== $read $size $to_enum $chomp $each_line $readlines $split $===".split(" "));(function(e){e=n(e,"Kernel");var b=e.$$scope,c;a.defn(e,"$open",c=function(d,e){var g,h,n=c.$$p||l,f=l,f=arguments.length;h=f-1;0>h&&(h=0);h=Array(h);for(var m=1;m<f;m++)h[m-1]=arguments[m];c.$$p=null;f=(g=b.get("File")).$new.apply(g,[d].concat(a.to_a(h)));return n!==l?a.yield1(n,f):f},c.$$arity=
-2)})(a.base);(function(h,$super){function c(){}var d=c=e(h,$super,"File",c),n=d.$$proto,w=d.$$scope,k,p,f,m,q,y,I,E;n.eof=n.path=l;a.cdecl(w,"SEPARATOR","/");a.cdecl(w,"ALT_SEPARATOR",l);d.$attr_reader("eof");d.$attr_reader("lineno");d.$attr_reader("path");a.defn(d,"$initialize",k=function(a,c){null==c&&(c="r");this.path=a;this.contents=l;this.eof=!1;this.lineno=0;return w.get("JAVASCRIPT_PLATFORM")["$=="]("node")?this.fd=require("fs").openSync(a,c):l},k.$$arity=-2);a.defn(d,"$read",p=function(){var a,
c=l;return(a=this.eof)===l||null==a||a.$$is_boolean&&1!=a?(c=w.get("File").$read(this.path),this.eof=!0,this.lineno=c.$size(),c):""},p.$$arity=0);a.defn(d,"$each_line",f=function(c){var d,e=f.$$p||l,h=l;null==g["/"]&&(g["/"]=l);null==c&&(c=g["/"]);f.$$p=null;if((d=this.eof)!==l&&null!=d&&(!d.$$is_boolean||1==d))return e!==l?this:[].$to_enum();if(e!==l){h=w.get("File").$read(this.path);this.eof=!1;this.lineno=0;d=h.$chomp();h=h.length!=d.length;d=d.split(c);for(var k=0,m=d.length;k<m;k++)this.lineno+=
1,k<m-1||h?a.yield1(e,d[k]+c):a.yield1(e,d[k]);this.eof=!0;return this}return this.$read().$each_line()},f.$$arity=-1);a.defn(d,"$readlines",m=function(){return w.get("File").$readlines(this.path)},m.$$arity=0);a.defs(d,"$readlines",q=function(a,c){var d=l;null==g["/"]&&(g["/"]=l);null==c&&(c=g["/"]);d=w.get("File").$read(a);return d.$split(c)},q.$$arity=-2);a.defs(d,"$file?",y=function(a){return!0},y.$$arity=1);a.defs(d,"$readable?",I=function(a){return!0},I.$$arity=1);return(a.defs(d,"$read",E=
function(a){var c=l;return function(){c=w.get("JAVASCRIPT_PLATFORM");if("node"["$==="](c))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](c)){var d=Java.type("java.nio.file.Paths"),f=[];Java.type("java.nio.file.Files").readAllLines(d.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){f.push(a)});return f.join("\n")}if("browser"["$==="](c)){var f="",e=-1;try{d=new XMLHttpRequest,d.open("GET",a,!1),d.addEventListener("load",function(){e=this.status;
if(0==e||200==e)f=this.responseText}),d.overrideMimeType("text/plain"),d.send()}catch(g){e=0}if(404==e||0==e&&""==f)throw w.get("IOError").$new("No such file or directory: "+a);return f}return"standalone"["$==="](c)?read(a):""}()},E.$$arity=1),l)&&"read"})(a.base,null);return function(g,$super){function c(){}var d=c=e(g,$super,"IO",c),n=d.$$scope,w;return(a.defs(d,"$read",w=function(a){return n.get("File").$read(a)},w.$$arity=1),l)&&"read"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){var l=a.nil,n=a.klass;a.add_stubs(["$[]="]);return function(e,$super){function h(){}var b=h=n(e,$super,"MatchData",h),c;b.$$proto.matches=l;return(a.defn(b,"$[]=",c=function(a,c){return this.matches["$[]="](a,c)},c.$$arity=2),l)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){var l=a.nil,n=a.module;return function(e){e=n(e,"Kernel");var g;a.defn(e,"$freeze",g=function(){return l},g.$$arity=0)}(a.base)};
Opal.modules["asciidoctor/opal_ext/thread_safe"]=function(a){var l=a.nil,n=a.module,e=a.klass;n(a.base,"ThreadSafe");l;return function(a,$super){function b(){}b=e(a,$super,"Cache",b);return l}(a.base,a.get("Hash"))};
Opal.modules["asciidoctor/converter/base"]=function(a){var l=a.nil,n=a.module,e=a.klass,g=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(h){h=n(h,"Asciidoctor").$$scope;n(h.base,"Converter");l;(function(a,$super){function d(){}var g=d=e(a,$super,"Base",d);return g.$include(g.$$scope.get("Converter"))})(h.get("Converter"),null);(function(b,$super){function d(){}var h=d=e(b,$super,"BuiltIn",d),n,k,p,f;a.defn(h,"$initialize",n=function(a,b){null==b&&g([],
{});return l},n.$$arity=-2);a.defn(h,"$convert",k=function(a,b,d){var f;null==b&&(b=l);null==d&&(d=g([],{}));!1!==(f=b)&&f!==l&&null!=f?f:b=a.$node_name();return(f=d["$empty?"]())===l||null==f||f.$$is_boolean&&1!=f?this.$send(b,a,d):this.$send(b,a)},k.$$arity=-2);a.alias(h,"handles?","respond_to?");a.defn(h,"$content",p=function(a){return a.$content()},p.$$arity=1);a.alias(h,"pass","content");return(a.defn(h,"$skip",f=function(a){return l},f.$$arity=1),l)&&"skip"})(h.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){var l=a.nil,n=a.module,e=a.klass,g=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $=== $key?".split(" "));return function(h){(function(b){(function(c,$super){function b(){}var h=b=e(c,$super,"Factory",b),k=h.$$proto,n=h.$$scope,f,m,q,y,I;k.converters=k.star_converter=l;h.__default__=l;(function(c){var b,f,e,h,k,m;a.defn(c,"$default",b=function(c){var b,
f;null==this.__default__&&(this.__default__=l);null==c&&(c=!0);if(!1===c||c===l||null==c)c=!1!==(b=this.__default__)&&b!==l&&null!=b?b:this.$new();else{if(!1===(b=this.__default__)||b===l||null==b){var e;a:{try{((f=null==a.Object.$$scope.ThreadSafe?l:"constant")===l||null==f||f.$$is_boolean&&1!=f)&&this.$require("thread_safe".$to_s());e=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(g){if(a.rescue(g,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
e=this.$new();break a}finally{a.pop_exception()}else throw g;}e=void 0}b=this.__default__=e}c=b}return c},b.$$arity=-1);a.defn(c,"$register",f=function(a,c){null==c&&(c=["*"]);return this.$default().$register(a,c)},f.$$arity=-2);a.defn(c,"$resolve",e=function(a){return this.$default().$resolve(a)},e.$$arity=1);a.defn(c,"$create",h=function(a,c){null==c&&(c=g([],{}));return this.$default().$create(a,c)},h.$$arity=-2);a.defn(c,"$converters",k=function(){return this.$default().$converters()},k.$$arity=
0);return(a.defn(c,"$unregister_all",m=function(){return this.$default().$unregister_all()},m.$$arity=0),l)&&"unregister_all"})(a.get_singleton_class(h));h.$attr_reader("converters");a.defn(h,"$initialize",f=function(a){var c;null==a&&(a=l);this.converters=!1!==(c=a)&&c!==l&&null!=c?c:g([],{});return this.star_converter=l},f.$$arity=-1);a.defn(h,"$register",m=function(a,c){var b,f,e;null==c&&(c=["*"]);(b=(f=c).$each,b.$$p=(e=function(c){var b=e.$$s||this;null==b.converters&&(b.converters=l);null==
c&&(c=l);b.converters["$[]="](c,a);return c["$=="]("*")?b.star_converter=a:l},e.$$s=this,e.$$arity=1,e),b).call(f);return l},m.$$arity=-2);a.defn(h,"$resolve",q=function(a){var c,b;return c=this.converters,!1!==c&&c!==l&&null!=c?!1!==(b=this.converters["$[]"](a))&&b!==l&&null!=b?b:this.star_converter:c},q.$$arity=1);a.defn(h,"$unregister_all",y=function(){this.converters.$clear();return this.star_converter=l},y.$$arity=0);return(a.defn(h,"$create",I=function(c,b){var f,e=this,h=l,k=h=l,m=l;null==
b&&(b=g([],{}));if((f=h=e.$resolve(c))!==l&&null!=f&&(!f.$$is_boolean||1==f))return(f=a.get("Class")["$==="](h))===l||null==f||f.$$is_boolean&&1!=f?h:h.$new(c,b);h=function(){k=c;if("html5"["$==="](k)){var g;try{g=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":l}catch(h){if(h.$$class===a.NameError)g=l;else throw h;}((f=g)===l||null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/html5".$to_s());return n.get("Html5Converter").$new(c,b)}if("docbook5"["$==="](k)){var m;
try{m=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":l}catch(h){if(h.$$class===a.NameError)m=l;else throw h;}((f=m)===l||null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/docbook5".$to_s());return n.get("DocBook5Converter").$new(c,b)}if("docbook45"["$==="](k)){var q;try{q=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":l}catch(h){if(h.$$class===a.NameError)q=l;else throw h;}((f=q)===l||
null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/docbook45".$to_s());return n.get("DocBook45Converter").$new(c,b)}if("manpage"["$==="](k)){var A;try{A=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":l}catch(h){if(h.$$class===a.NameError)A=l;else throw h;}((f=A)===l||null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/manpage".$to_s());return n.get("ManPageConverter").$new(c,b)}return l}();if((f=b["$key?"]("template_dirs"))===
l||null==f||f.$$is_boolean&&1!=f)return h;var q;try{q=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":l}catch(r){if(r.$$class===a.NameError)q=l;else throw r;}((f=q)===l||null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/template".$to_s());var A;try{A=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":l}catch(r){if(r.$$class===a.NameError)A=l;else throw r;}((f=A)===l||null==f||f.$$is_boolean&&
1!=f)&&e.$require("asciidoctor/converter/composite".$to_s());m=n.get("TemplateConverter").$new(c,b["$[]"]("template_dirs"),b);return n.get("CompositeConverter").$new(c,m,h)},I.$$arity=-2),l)&&"create"})(n(b,"Converter").$$scope.base,null)})(n(h,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){var l=a.top,n=a.nil,e=a.module,g=a.range,h=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(b){b=e(b,"Asciidoctor").$$scope;(function(c){c=e(c,"Converter");var b=c.$$scope,l,w;(function(c){c=e(c,"Config");var b=c.$$scope,d;a.defn(c,"$register_for",d=function(c){var d,f,e,g,h,k,l=n,l=arguments.length,v=l-
0;0>v&&(v=0);k=Array(v);for(v=0;v<l;v++)k[v-0]=arguments[v];b.get("Factory").$register(this,k);l=function(a){return a}(a.get_singleton_class(this));k["$=="](["*"])?(d=(f=l).$send,d.$$p=(e=function(a){return!0},e.$$s=this,e.$$arity=1,e),d).call(f,"define_method","converts?"):(d=(g=l).$send,d.$$p=(h=function(a){null==a&&(a=n);return k["$include?"](a)},h.$$s=this,h.$$arity=1,h),d).call(g,"define_method","converts?");return n},d.$$arity=-1)})(b.base);(function(c){c=e(c,"BackendInfo");var b=c.$$scope,
d,l,q,v,w,E;a.defn(c,"$backend_info",d=function(){var a;null==this.backend_info&&(this.backend_info=n);return!1!==(a=this.backend_info)&&a!==n&&null!=a?a:this.backend_info=this.$setup_backend_info()},d.$$arity=0);a.defn(c,"$setup_backend_info",l=function(){var c,d=n,f=n,e=n,k=n;null==this.backend&&(this.backend=n);((c=this.backend)===n||null==c||c.$$is_boolean&&1!=c)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());d=this.backend.$sub(b.get("TrailingDigitsRx"),
"");(c=f=b.get("DEFAULT_EXTENSIONS")["$[]"](d))===n||null==c||c.$$is_boolean&&1!=c?(d="html",f=".html",k=e="html"):e=f["$[]"](g(1,-1,!1));return h(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:d,outfilesuffix:f,filetype:e,htmlsyntax:k})},l.$$arity=0);a.defn(c,"$filetype",q=function(a){null==a&&(a=n);return!1!==a&&a!==n&&null!=a?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")},q.$$arity=-1);a.defn(c,"$basebackend",v=function(a){null==a&&(a=
n);return!1!==a&&a!==n&&null!=a?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")},v.$$arity=-1);a.defn(c,"$outfilesuffix",w=function(a){null==a&&(a=n);return!1!==a&&a!==n&&null!=a?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")},w.$$arity=-1);a.defn(c,"$htmlsyntax",E=function(a){null==a&&(a=n);return!1!==a&&a!==n&&null!=a?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")},E.$$arity=
-1)})(b.base);(function(c){var b=c.$$scope,d;return(a.defn(c,"$included",d=function(a){return a.$extend(b.get("Config"))},d.$$arity=1),n)&&"included"})(a.get_singleton_class(c));c.$include(b.get("Config"));c.$include(b.get("BackendInfo"));a.defn(c,"$initialize",l=function(a,c){null==c&&h([],{});this.backend=a;return this.$setup_backend_info()},l.$$arity=-2);a.defn(c,"$convert",w=function(c,b,d){null==d&&h([],{});return this.$raise(a.get("NotImplementedError"))},w.$$arity=-2);a.alias(c,"convert_with_options",
"convert")})(b.base);(function(c){c=e(c,"Writer");var b=c.$$scope,g;a.defn(c,"$write",g=function(c,e){var g,f,h;(g=e["$respond_to?"]("write"))===n||null==g||g.$$is_boolean&&1!=g?(g=(f=a.get("File")).$open,g.$$p=(h=function(a){null==a&&(a=n);return a.$write(c)},h.$$s=this,h.$$arity=1,h),g).call(f,e,"w"):(e.$write(c.$chomp()),e.$write(b.get("EOL")));return n},g.$$arity=2)})(b.base);(function(c){c=e(c,"VoidWriter");var b;c.$include(c.$$scope.get("Writer"));a.defn(c,"$write",b=function(a,c){return n},
b.$$arity=2)})(b.base)})(a.base);l.$require("asciidoctor/converter/base");return l.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/composite"]=function(a){var l=a.nil,n=a.module,e=a.klass,g=a.hash2;a.add_stubs("$attr_reader $each $respond_to? $composed $compact $flatten $node_name $convert $converter_for $[] $[]= $find_converter $handles? $raise".split(" "));return function(h){h=n(h,"Asciidoctor").$$scope;(function(b,$super){function d(){}var h=d=e(b,$super,"CompositeConverter",d),n=h.$$proto,k,p,f,m;n.converter_map=n.converters=l;h.$attr_reader("converters");a.defn(h,"$initialize",k=function(a,
b){var d,f,e,h,k=arguments.length;h=k-1;0>h&&(h=0);h=Array(h);for(var m=1;m<k;m++)h[m-1]=arguments[m];this.backend=a;(d=(f=this.converters=h.$flatten().$compact()).$each,d.$$p=(e=function(a){var b=e.$$s||this,d;null==a&&(a=l);return(d=a["$respond_to?"]("composed"))===l||null==d||d.$$is_boolean&&1!=d?l:a.$composed(b)},e.$$s=this,e.$$arity=1,e),d).call(f);return this.converter_map=g([],{})},k.$$arity=-2);a.defn(h,"$convert",p=function(a,b,d){var f;null==b&&(b=l);null==d&&(d=g([],{}));!1!==(f=b)&&f!==
l&&null!=f?f:b=a.$node_name();return this.$converter_for(b).$convert(a,b,d)},p.$$arity=-2);a.alias(h,"convert_with_options","convert");a.defn(h,"$converter_for",f=function(a){var b,d;return b=this.converter_map,!1!==(d=b["$[]"](a))&&d!==l&&null!=d?d:b["$[]="](a,this.$find_converter(a))},f.$$arity=1);return(a.defn(h,"$find_converter",m=function(b){try{var d,f,e;(d=(f=this.converters).$each,d.$$p=(e=function(d){var f;null==d&&(d=l);if((f=d["$handles?"](b))===l||null==f||f.$$is_boolean&&1!=f)return l;
a.ret(d)},e.$$s=this,e.$$arity=1,e),d).call(f);return this.$raise("Could not find a converter to handle transform: "+b)}catch(g){if(g===a.returner)return g.$v;throw g;}},m.$$arity=1),l)&&"find_converter"})(h.get("Converter"),h.get("Converter").$$scope.get("Base"))}(a.base)};
Opal.modules["asciidoctor/converter/html5"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function b(a,c){return"number"===typeof a&&"number"===
typeof c?a+c:a["$+"](c)}var c=a.nil,d=a.module,v=a.klass,w=a.hash2,k=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match $length".split(" "));
return function(p){p=d(p,"Asciidoctor").$$scope;(function(d,$super){function p(){}var y=p=v(d,$super,"Html5Converter",p),I=y.$$proto,E=y.$$scope,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta,va,ua;I.xml_mode=I.void_element_slash=I.stylesheets=c;I=[[c,c,c]];z=a.cdecl(E,"QUOTE_TAGS",w("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>",
"</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));z["$default="].apply(z,I);I[I.length-1];a.cdecl(E,"SvgPreambleRx",/\A.*?(?=<svg\b)/m);a.cdecl(E,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(E,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(y,"$initialize",u=function(a,b){var d;null==b&&(b=w([],{}));this.xml_mode=
b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(d=this.xml_mode)===c||null==d||d.$$is_boolean&&1!=d?c:"/";return this.stylesheets=E.get("Stylesheets").$instance()},u.$$arity=-2);a.defn(y,"$document",H=function(a){var b,d,f,g,h,p,x=c,F=c,u=c,r=c,M=c,C=c,G=c,D=C=G=C=G=r=G=r=G=c,F=F=C=C=G=c,x=[],F=this.void_element_slash,u="<br"+F+">";if((b=(r=a.$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b)r=""+r+":";M=""+r+"//cdnjs.cloudflare.com/ajax/libs";C=!1!==
(b=l(a.$safe(),E.get("SafeMode").$$scope.get("SECURE")))&&b!==c&&null!=b?b:a["$attr?"]("linkcss");x["$<<"]("<!DOCTYPE html>");G=(b=a["$attr?"]("nolang"))===c||null==b||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':c;x["$<<"]("<html"+((b=this.xml_mode)===c||null==b||b.$$is_boolean&&1!=b?c:' xmlns="http://www.w3.org/1999/xhtml"')+G+">");x["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+F+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+F+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
F+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+F+">");if((b=a["$attr?"]("app-name"))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+F+">");if((b=a["$attr?"]("description"))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+F+">");if((b=a["$attr?"]("keywords"))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"]('<meta name="keywords" content="'+
a.$attr("keywords")+'"'+F+">");if((b=a["$attr?"]("authors"))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+F+">");if((b=a["$attr?"]("copyright"))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+F+">");x["$<<"]("<title>"+a.$doctitle(w(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=E.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==c&&
null!=b&&(!b.$$is_boolean||1==b)){if((b=G=a.$attr("webfonts"))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"]('<link rel="stylesheet" href="'+r+"//fonts.googleapis.com/css?family="+((b=G["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b?G:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+F+">");if(!1!==C&&C!==c&&null!=C)x["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(E.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",
""),!1)+'"'+F+">");else x["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==c&&null!=b&&(!b.$$is_boolean||1==b))if(!1!==C&&C!==c&&null!=C)x["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+F+">");else x["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),w(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((b=a["$attr?"]("icons","font"))!==
c&&null!=b&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===c||null==b||b.$$is_boolean&&1!=b)r=""+a.$attr("iconfont-name","font-awesome")+".css",x["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(r,a.$attr("stylesdir",""),!1)+'"'+F+">");else x["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+M+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+F+">");G=r=a.$attr("source-highlighter");if("coderay"["$==="](G)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==
C&&C!==c&&null!=C)x["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+F+">");else x["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](G)&&a.$attr("pygments-css","class")["$=="]("class"))if(G=a.$attr("pygments-style"),!1!==C&&C!==c&&null!=C)x["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(G),a.$attr("stylesdir",""),!1)+'"'+F+">");
else x["$<<"](this.stylesheets.$embed_pygments_stylesheet(G));if((b=(C=a.$docinfo())["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b)x["$<<"](C);x["$<<"]("</head>");G=[];if((b=a.$id())!==c&&null!=b&&(!b.$$is_boolean||1==b))G["$<<"]('id="'+a.$id()+'"');if((b=(d=(f=(g=C=a["$sections?"](),!1!==g&&g!==c&&null!=g?a["$attr?"]("toc-class"):g),!1!==f&&f!==c&&null!=f?a["$attr?"]("toc"):f),!1!==d&&d!==c&&null!=d?a["$attr?"]("toc-placement","auto"):d))===c||null==b||b.$$is_boolean&&1!=b)G["$<<"]('class="'+
a.$doctype()+'"');else G["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==c&&null!=b&&(!b.$$is_boolean||1==b))G["$<<"]('style="max-width: '+a.$attr("max-width")+';"');x["$<<"]("<body "+n(G," ")+">");if((b=a.$noheader())===c||null==b||b.$$is_boolean&&1!=b){x["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){x["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((b=(d=(f=!1!==C&&C!==c&&null!=C)?a["$attr?"]("toc"):
C,!1!==d&&d!==c&&null!=d?a["$attr?"]("toc-placement","auto"):d))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");x["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((b=a["$has_header?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===c||null==b||b.$$is_boolean&&
1!=b)x["$<<"]("<h1>"+a.$header().$title()+"</h1>");D=[];if((b=a["$attr?"]("author"))!==c&&null!=b&&(!b.$$is_boolean||1==b)){D["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+u);if((b=a["$attr?"]("email"))!==c&&null!=b&&(!b.$$is_boolean||1==b))D["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+u);(b=e(G=a.$attr("authorcount").$to_i(),1))===c||null==b||b.$$is_boolean&&1!=b||(b=(d=k(2,G,!1)).$each,b.$$p=(h=function(b){var d;null==b&&(b=c);D["$<<"]('<span id="author'+
b+'" class="author">'+a.$attr("author_"+b)+"</span>"+u);return(d=a["$attr?"]("email_"+b))===c||null==d||d.$$is_boolean&&1!=d?c:D["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+u)},h.$$s=this,h.$$arity=1,h),b).call(d)}if((b=a["$attr?"]("revnumber"))!==c&&null!=b&&(!b.$$is_boolean||1==b))D["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==c&&null!=b?b:"").$downcase()+" "+a.$attr("revnumber")+((b=a["$attr?"]("revdate"))===c||null==b||b.$$is_boolean&&
1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==c&&null!=b&&(!b.$$is_boolean||1==b))D["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==c&&null!=b&&(!b.$$is_boolean||1==b))D["$<<"](""+u+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=D["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b)x["$<<"]('<div class="details">'),x.$concat(D),x["$<<"]("</div>")}if((b=(f=(g=!1!==C&&C!==c&&null!=C)?a["$attr?"]("toc"):C,!1!==f&&f!==c&&null!=f?a["$attr?"]("toc-placement",
"auto"):f))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}x["$<<"]("</div>")}x["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(b=(f=a["$footnotes?"](),!1!==f&&f!==c&&null!=f?a["$attr?"]("nofootnotes")["$!"]():f))===c||null==b||b.$$is_boolean&&1!=b||(x["$<<"]('<div id="footnotes">\n<hr'+F+">"),(b=(f=a.$footnotes()).$each,b.$$p=(p=function(a){null==a&&(a=
c);return x["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},p.$$s=this,p.$$arity=1,p),b).call(f),x["$<<"]("</div>"));if((b=a.$nofooter())===c||null==b||b.$$is_boolean&&1!=b){x["$<<"]('<div id="footer">');x["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+u);if((b=(g=a["$attr?"]("last-update-label"),
!1!==g&&g!==c&&null!=g?a["$attr?"]("reproducible")["$!"]():g))!==c&&null!=b&&(!b.$$is_boolean||1==b))x["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));x["$<<"]("</div>");x["$<<"]("</div>")}if((b=(C=a.$docinfo("footer"))["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b)x["$<<"](C);G=r;"highlightjs"["$==="](G)||"highlight.js"["$==="](G)?(C=a.$attr("highlightjsdir",""+M+"/highlight.js/8.9.1"),x["$<<"]('<link rel="stylesheet" href="'+C+"/styles/"+a.$attr("highlightjs-theme","github")+
'.min.css"'+F+">"),x["$<<"]('<script src="'+C+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](G)&&(C=a.$attr("prettifydir",""+M+"/prettify/r298"),x["$<<"]('<link rel="stylesheet" href="'+C+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+F+">"),x["$<<"]('<script src="'+C+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===c||null==b||b.$$is_boolean&&1!=b||(F=a.$attr("eqnums","none"),(b=F["$empty?"]())===
c||null==b||b.$$is_boolean&&1!=b||(F="AMS"),F=' equationNumbers: { autoNumber: "'+F+'" } ',x["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+E.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+E.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+E.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+
'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+F+'}\n});\n\x3c/script>\n<script src="'+M+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));x["$<<"]("</body>");x["$<<"]("</html>");return n(x,E.get("EOL"))},H.$$arity=1);a.defn(y,"$embedded",L=function(a){var b,d,f,e,g,h=c,k=c,l=c,h=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===c||null==b||b.$$is_boolean&&1!=b)k=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h["$<<"]("<h1"+k+">"+
a.$doctitle()+" Manual Page</h1>");h["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(b=(d=a["$has_header?"](),!1!==d&&d!==c&&null!=d?a.$notitle()["$!"]():d))===c||null==b||b.$$is_boolean&&1!=b||(k=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h["$<<"]("<h1"+k+">"+a.$header().$title()+"</h1>"));if((b=(d=(f=(e=a["$sections?"](),!1!==e&&e!==c&&null!=e?a["$attr?"]("toc"):e),!1!==f&&
f!==c&&null!=f?(l=a.$attr("toc-placement"))["$!="]("macro"):f),!1!==d&&d!==c&&null!=d?l["$!="]("preamble"):d))!==c&&null!=b&&(!b.$$is_boolean||1==b))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");h["$<<"](a.$content());(b=(d=a["$footnotes?"](),!1!==d&&d!==c&&null!=d?a["$attr?"]("nofootnotes")["$!"]():d))===c||null==b||b.$$is_boolean&&1!=b||(h["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(b=(d=a.$footnotes()).$each,
b.$$p=(g=function(a){null==a&&(a=c);return h["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g),b).call(d),h["$<<"]("</div>"));return n(h,E.get("EOL"))},L.$$arity=1);a.defn(y,"$outline",J=function(a,b){var d,f,e,k=c,l=c,x=c,p=c,F=c,u=c;null==b&&(b=w([],{}));if((d=a["$sections?"]())===c||null==d||d.$$is_boolean&&1!=d)return c;k=!1!==(d=b["$[]"]("sectnumlevels"))&&d!==c&&null!=d?
d:a.$document().$attr("sectnumlevels",3).$to_i();l=!1!==(d=b["$[]"]("toclevels"))&&d!==c&&null!=d?d:a.$document().$attr("toclevels",2).$to_i();x=[];p=a.$sections();F=(u=p["$[]"](0)).$level();(d=(f=F["$=="](0))?u.$special():F["$=="](0))===c||null==d||d.$$is_boolean&&1!=d||(F=1);x["$<<"]('<ul class="sectlevel'+F+'">');(d=(f=p).$each,d.$$p=(e=function(a){var b=e.$$s||this,d,f,t,n=c,p=c;null==a&&(a=c);n=(d=(f=(t=a.$numbered(),!1!==t&&t!==c&&null!=t?a.$caption()["$!"]():t),!1!==f&&f!==c&&null!=f?g(a.$level(),
k):f))===c||null==d||d.$$is_boolean&&1!=d?c:""+a.$sectnum()+" ";if((d=(f=h(a.$level(),l),!1!==f&&f!==c&&null!=f?p=b.$outline(a,w(["toclevels","secnumlevels"],{toclevels:l,secnumlevels:k})):f))===c||null==d||d.$$is_boolean&&1!=d)return x["$<<"]('<li><a href="#'+a.$id()+'">'+n+a.$captioned_title()+"</a></li>");x["$<<"]('<li><a href="#'+a.$id()+'">'+n+a.$captioned_title()+"</a>");x["$<<"](p);return x["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e),d).call(f);x["$<<"]("</ul>");return n(x,E.get("EOL"))},J.$$arity=
-2);a.defn(y,"$section",N=function(a){var d,f,e,h=c,k=c,l=c,n=c,x=c,p=c,F=c,M=c,C=F=c,M=c,h=a.$level();(d=(f=h["$=="](0))?a.$special():h["$=="](0))===c||null==d||d.$$is_boolean&&1!=d||(h=1);k="h"+b(h,1);l=n=x=p=c;(d=a.$id())===c||null==d||d.$$is_boolean&&1!=d||(l=' id="'+(F=a.$id())+'"',(d=(M=a.$document())["$attr?"]("sectanchors"))===c||null==d||d.$$is_boolean&&1!=d||(n='<a class="anchor" href="#'+F+'"></a>'),(d=M["$attr?"]("sectlinks"))===c||null==d||d.$$is_boolean&&1!=d||(x='<a class="link" href="#'+
F+'">',p="</a>"));if(h["$=="](0))return"<h1"+l+' class="sect0">'+n+x+a.$title()+p+"</h1>\n"+a.$content();F=(d=C=a.$role())===c||null==d||d.$$is_boolean&&1!=d?' class="sect'+h+'"':' class="sect'+h+" "+C+'"';M=(d=(f=(e=a.$numbered(),!1!==e&&e!==c&&null!=e?a.$caption()["$!"]():e),!1!==f&&f!==c&&null!=f?g(h,a.$document().$attr("sectnumlevels",3).$to_i()):f))===c||null==d||d.$$is_boolean&&1!=d?c:""+a.$sectnum()+" ";return"<div"+F+">\n<"+k+l+">"+n+x+M+a.$captioned_title()+p+"</"+k+">\n"+(h["$=="](1)?'<div class="sectionbody">\n'+
a.$content()+"\n</div>":a.$content())+"\n</div>"},N.$$arity=1);a.defn(y,"$admonition",Q=function(a){var b,d,f=c,e=c,g=c,h=c,k=c,f=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=a.$attr("name"),g=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",h=(b=a.$document()["$attr?"]("icons"))===c||null==b||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(d=a.$document()["$attr?"]("icons","font"),!1!==d&&d!==c&&null!=
d?a["$attr?"]("icon")["$!"]():d))===c||null==b||b.$$is_boolean&&1!=b?'<img src="'+a.$icon_uri(e)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+e+'" title="'+a.$caption()+'"></i>';return"<div"+f+' class="admonitionblock '+e+(b=k=a.$role(),!1!==b&&b!==c&&null!=b?" "+k:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},Q.$$arity=1);a.defn(y,"$audio",A=function(a){var b,d=c,f=c,e=c,g=e=c,d=this.xml_mode,
f=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=["audioblock",a.$role()].$compact(),e=' class="'+n(e," ")+'"',g=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+f+e+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===c||null==b||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("autoplay",d))+((b=a["$option?"]("nocontrols"))===c||null==
b||b.$$is_boolean&&1!=b?this.$append_boolean_attribute("controls",d):c)+((b=a["$option?"]("loop"))===c||null==b||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("loop",d))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},A.$$arity=1);a.defn(y,"$colist",r=function(a){var d,f,e,g,h,k=c,l=c,x=c,p=x=c,k=[],l=(d=a.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',x=["colist",a.$style(),a.$role()].$compact(),x=' class="'+n(x," ")+'"';k["$<<"]("<div"+l+x+">");
if((d=a["$title?"]())!==c&&null!=d&&(!d.$$is_boolean||1==d))k["$<<"]('<div class="title">'+a.$title()+"</div>");(d=a.$document()["$attr?"]("icons"))===c||null==d||d.$$is_boolean&&1!=d?(k["$<<"]("<ol>"),(d=(g=a.$items()).$each,d.$$p=(h=function(a){null==a&&(a=c);return k["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},h.$$s=this,h.$$arity=1,h),d).call(g),k["$<<"]("</ol>")):(k["$<<"]("<table>"),p=a.$document()["$attr?"]("icons","font"),(d=(f=a.$items()).$each_with_index,d.$$p=(e=function(d,f){var g=e.$$s||
this,h=c,h=c;null==g.void_element_slash&&(g.void_element_slash=c);null==d&&(d=c);null==f&&(f=c);h=b(f,1);h=!1!==p&&p!==c&&null!=p?'<i class="conum" data-value="'+h+'"></i><b>'+h+"</b>":'<img src="'+a.$icon_uri("callouts/"+h)+'" alt="'+h+'"'+g.void_element_slash+">";return k["$<<"]("<tr>\n<td>"+h+"</td>\n<td>"+d.$text()+"</td>\n</tr>")},e.$$s=this,e.$$arity=2,e),d).call(f),k["$<<"]("</table>"));k["$<<"]("</div>");return n(k,E.get("EOL"))},r.$$arity=1);a.defn(y,"$dlist",P=function(b){var d,f,e,g,h,
k,l,x=c,p=c,F=c,M=F=F=c,C=p=c,x=[],p=(d=b.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',F=b.$style(),F=("qanda"["$==="](F)?["qlist","qanda",b.$role()]:"horizontal"["$==="](F)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),F=' class="'+n(F," ")+'"';x["$<<"]("<div"+p+F+">");if((d=b["$title?"]())!==c&&null!=d&&(!d.$$is_boolean||1==d))x["$<<"]('<div class="title">'+b.$title()+"</div>");F=b.$style();"qanda"["$==="](F)?(x["$<<"]("<ol>"),(d=(f=b.$items()).$each,d.$$p=(e=
function(b,d){var f=e.$$s||this,g,h,k;null==b&&(b=c);null==d&&(d=c);x["$<<"]("<li>");(g=(h=[].concat(a.to_a(b))).$each,g.$$p=(k=function(a){null==a&&(a=c);return x["$<<"]("<p><em>"+a.$text()+"</em></p>")},k.$$s=f,k.$$arity=1,k),g).call(h);if(!1!==d&&d!==c&&null!=d){if((g=d["$text?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g))x["$<<"]("<p>"+d.$text()+"</p>");if((g=d["$blocks?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g))x["$<<"](d.$content())}return x["$<<"]("</li>")},e.$$s=this,e.$$arity=2,e),d).call(f),
x["$<<"]("</ol>")):"horizontal"["$==="](F)?(M=this.void_element_slash,x["$<<"]("<table>"),(d=!1!==(g=b["$attr?"]("labelwidth"))&&g!==c&&null!=g?g:b["$attr?"]("itemwidth"))===c||null==d||d.$$is_boolean&&1!=d||(x["$<<"]("<colgroup>"),p=(d=b["$attr?"]("labelwidth"))===c||null==d||d.$$is_boolean&&1!=d?c:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',x["$<<"]("<col"+p+M+">"),p=(d=b["$attr?"]("itemwidth"))===c||null==d||d.$$is_boolean&&1!=d?c:' style="width: '+b.$attr("itemwidth").$chomp("%")+
'%;"',x["$<<"]("<col"+p+M+">"),x["$<<"]("</colgroup>")),(d=(g=b.$items()).$each,d.$$p=(h=function(d,f){var e=h.$$s||this,g,k,t,C=c,l=c;null==d&&(d=c);null==f&&(f=c);x["$<<"]("<tr>");x["$<<"]('<td class="hdlist1'+((g=b["$option?"]("strong"))===c||null==g||g.$$is_boolean&&1!=g?c:" strong")+'">');C=[].concat(a.to_a(d));l=C["$[]"](-1);(g=(k=C).$each,g.$$p=(t=function(a){var b;null==a&&(a=c);x["$<<"](a.$text());return(b=a["$!="](l))===c||null==b||b.$$is_boolean&&1!=b?c:x["$<<"]("<br"+M+">")},t.$$s=e,t.$$arity=
1,t),g).call(k);x["$<<"]("</td>");x["$<<"]('<td class="hdlist2">');if(!1!==f&&f!==c&&null!=f){if((g=f["$text?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g))x["$<<"]("<p>"+f.$text()+"</p>");if((g=f["$blocks?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g))x["$<<"](f.$content())}x["$<<"]("</td>");return x["$<<"]("</tr>")},h.$$s=this,h.$$arity=2,h),d).call(g),x["$<<"]("</table>")):(x["$<<"]("<dl>"),C=(d=b.$style())===c||null==d||d.$$is_boolean&&1!=d?' class="hdlist1"':c,(d=(k=b.$items()).$each,d.$$p=(l=function(b,
d){var f=l.$$s||this,e,g,h;null==b&&(b=c);null==d&&(d=c);(e=(g=[].concat(a.to_a(b))).$each,e.$$p=(h=function(a){null==a&&(a=c);return x["$<<"]("<dt"+C+">"+a.$text()+"</dt>")},h.$$s=f,h.$$arity=1,h),e).call(g);if(!1!==d&&d!==c&&null!=d){x["$<<"]("<dd>");if((e=d["$text?"]())!==c&&null!=e&&(!e.$$is_boolean||1==e))x["$<<"]("<p>"+d.$text()+"</p>");if((e=d["$blocks?"]())!==c&&null!=e&&(!e.$$is_boolean||1==e))x["$<<"](d.$content());return x["$<<"]("</dd>")}return c},l.$$s=this,l.$$arity=2,l),d).call(k),
x["$<<"]("</dl>"));x["$<<"]("</div>");return n(x,E.get("EOL"))},P.$$arity=1);a.defn(y,"$example",S=function(a){var b,d=c,f=c,e=c,d=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+d+' class="'+((b=e=a.$role())===c||null==b||b.$$is_boolean&&1!=b?"exampleblock":n(["exampleblock",e]," "))+'">\n'+f+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},S.$$arity=
1);a.defn(y,"$floating_title",R=function(a){var d,f=c,e=c,g=c,f="h"+b(a.$level(),1),e=(d=a.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',g=[a.$style(),a.$role()].$compact();return"<"+f+e+' class="'+n(g," ")+'">'+a.$title()+"</"+f+">"},R.$$arity=1);a.defn(y,"$image",Z=function(a){var b,d,f,e,g=c,k=c,l=c,x=c,p=c,F=c,M=c,C=c,M=l=l=k=k=g=c,g=a.$attr("target"),k=(b=a["$attr?"]("width"))===c||null==b||b.$$is_boolean&&1!=b?c:' width="'+a.$attr("width")+'"',l=(b=a["$attr?"]("height"))===
c||null==b||b.$$is_boolean&&1!=b?c:' height="'+a.$attr("height")+'"';(b=(d=(f=!1!==(e=a["$attr?"]("format","svg",!1))&&e!==c&&null!=e?e:g["$include?"](".svg"),!1!==f&&f!==c&&null!=f?h(a.$document().$safe(),E.get("SafeMode").$$scope.get("SECURE")):f),!1!==d&&d!==c&&null!=d?!1!==(f=x=a["$option?"]("inline"))&&f!==c&&null!=f?f:p=a["$option?"]("interactive"):d))===c||null==b||b.$$is_boolean&&1!=b||(!1!==x&&x!==c&&null!=x?F=!1!==(b=this.$read_svg_contents(a,g))&&b!==c&&null!=b?b:'<span class="alt">'+a.$attr("alt")+
"</span>":!1!==p&&p!==c&&null!=p&&(M=(b=a["$attr?"]("fallback"))===c||null==b||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+k+l+this.void_element_slash+">",F='<object type="image/svg+xml" data="'+a.$image_uri(g)+'"'+k+l+">"+M+"</object>"));!1!==(b=F)&&b!==c&&null!=b?b:F='<img src="'+a.$image_uri(g)+'" alt="'+a.$attr("alt")+'"'+k+l+this.void_element_slash+">";(b=C=a.$attr("link"))===c||null==b||b.$$is_boolean&&
1!=b||(F='<a class="image" href="'+C+'">'+F+"</a>");g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';k=["imageblock",a.$role()].$compact();k=' class="'+n(k," ")+'"';l=[];if((b=a["$attr?"]("align"))!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"]("float: "+a.$attr("float"));l=(b=l["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b?' style="'+n(l,";")+'"':c;M=(b=a["$title?"]())===
c||null==b||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+g+k+l+'>\n<div class="content">\n'+F+"\n</div>"+M+"\n</div>"},Z.$$arity=1);a.defn(y,"$listing",aa=function(a){var b,d=c,f=c,e=c,g=c,h=g=d=e=d=c,k=c,d=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c&&null!=b?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(e=(b=f=a.$attr("language",c,!1))===c||null==b||b.$$is_boolean&&1!=b?c:' data-lang="'+f+'"',g=a.$document().$attr("source-highlighter"),
"coderay"["$==="](g)?d=' class="CodeRay highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+'"':"pygments"["$==="](g)?d=' class="pygments highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?(d=' class="highlightjs highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+'"',!1!==f&&f!==c&&null!=f&&(e=' class="language-'+f+'"'+e)):"prettify"["$==="](g)?(d=' class="prettyprint highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+((b=a["$attr?"]("linenums"))===c||null==
b||b.$$is_boolean&&1!=b?c:" linenums")+'"',!1!==f&&f!==c&&null!=f&&(e=' class="language-'+f+'"'+e)):"html-pipeline"["$==="](g)?(d=!1!==f&&f!==c&&null!=f?' lang="'+f+'"':c,e=c):(d=' class="highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+'"',!1!==f&&f!==c&&null!=f&&(e=' class="language-'+f+'"'+e)),e="<pre"+d+"><code"+e+">",d="</code></pre>"):(e="<pre"+(!1!==d&&d!==c&&null!=d?' class="nowrap"':c)+">",d="</pre>");g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';h=(b=a["$title?"]())===
c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+g+' class="listingblock'+(b=k=a.$role(),!1!==b&&b!==c&&null!=b?" "+k:b)+'">\n'+h+'<div class="content">\n'+e+a.$content()+d+"\n</div>\n</div>"},aa.$$arity=1);a.defn(y,"$literal",V=function(a){var b,d=c,f=c,e=c,g=c,d=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",e=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&
b!==c&&null!=b?b:a["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(b=g=a.$role(),!1!==b&&b!==c&&null!=b?" "+g:b)+'">\n'+f+'<div class="content">\n<pre'+(!1!==e&&e!==c&&null!=e?' class="nowrap"':c)+">"+a.$content()+"</pre>\n</div>\n</div>"},V.$$arity=1);a.defn(y,"$stem",O=function(b){var d,f,e=c,g=c,h=c,k=c,l=c,x=c,e=(d=b.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',g=(d=b["$title?"]())===c||null==d||d.$$is_boolean&&1!=d?c:'<div class="title">'+b.$title()+"</div>\n";
f=E.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());d=a.to_ary(f);h=null==d[0]?c:d[0];k=null==d[1]?c:d[1];f;if((d=(f=(l=b.$content())["$start_with?"](h),!1!==f&&f!==c&&null!=f?l["$end_with?"](k):f))===c||null==d||d.$$is_boolean&&1!=d)l=""+h+l+k;return"<div"+e+' class="'+((d=x=b.$role())===c||null==d||d.$$is_boolean&&1!=d?"stemblock":n(["stemblock",x]," "))+'">\n'+g+'<div class="content">\n'+l+"\n</div>\n</div>"},O.$$arity=1);a.defn(y,"$olist",T=function(a){var b,d,f,e=c,g=c,h=c,k=g=h=c,
l=h=c,e=[],g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h=["olist",a.$style(),a.$role()].$compact(),h=' class="'+n(h," ")+'"';e["$<<"]("<div"+g+h+">");if((b=a["$title?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b))e["$<<"]('<div class="title">'+a.$title()+"</div>");g=(b=k=a.$list_marker_keyword())===c||null==b||b.$$is_boolean&&1!=b?c:' type="'+k+'"';h=(b=a["$attr?"]("start"))===c||null==b||b.$$is_boolean&&1!=b?c:' start="'+a.$attr("start")+'"';l=(b=a["$option?"]("reversed"))===
c||null==b||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("reversed",this.xml_mode);e["$<<"]('<ol class="'+a.$style()+'"'+g+h+l+">");(b=(d=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=c);e["$<<"]("<li>");e["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b))e["$<<"](a.$content());return e["$<<"]("</li>")},f.$$s=this,f.$$arity=1,f),b).call(d);e["$<<"]("</ol>");e["$<<"]("</div>");return n(e,E.get("EOL"))},T.$$arity=1);a.defn(y,"$open",Y=function(a){var b,
d,f,g=c,h=c,k=c,l=c;if((g=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===c||null==b||b.$$is_boolean&&1!=b)return h=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n","<div"+h+' class="quoteblock abstract'+(b=l=a.$role(),!1!==b&&b!==c&&null!=b?" "+l:b)+'">\n'+k+"<blockquote>\n"+a.$content()+
"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((b=g["$=="]("partintro")?!1!==(d=!1!==(f=e(a.$level(),0))&&f!==c&&null!=f?f:a.$parent().$context()["$!="]("section"))&&d!==c&&null!=d?d:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro"))===c||null==b||b.$$is_boolean&&1!=b)return h=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=(b=a["$title?"]())===
c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n","<div"+h+' class="openblock'+((b=!1!==g&&g!==c&&null!=g?g["$!="]("open"):g)===c||null==b||b.$$is_boolean&&1!=b?"":" "+g)+(b=l=a.$role(),!1!==b&&b!==c&&null!=b?" "+l:b)+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""},Y.$$arity=1);a.defn(y,"$page_break",
X=function(a){return'<div style="page-break-after: always;"></div>'},X.$$arity=1);a.defn(y,"$paragraph",ea=function(a){var b,d=c,d=c,d=(b=a.$role())===c||null==b||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',d=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?d:'id="'+a.$id()+'" '+d;return(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?"<div "+d+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"},
ea.$$arity=1);a.defn(y,"$preamble",ha=function(a){var b,d,f,e=c,g=c,g=(b=(d=(f=(e=a.$document())["$attr?"]("toc-placement","preamble"),!1!==f&&f!==c&&null!=f?e["$sections?"]():f),!1!==d&&d!==c&&null!=d?e["$attr?"]("toc"):d))===c||null==b||b.$$is_boolean&&1!=b?c:'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$outline(e)+"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},ha.$$arity=
1);a.defn(y,"$quote",ia=function(a){var b,d,f=c,e=c,g=e=c,h=c,k=c,l=c,l=h=c,f=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=["quoteblock",a.$role()].$compact(),e=' class="'+n(e," ")+'"',g=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",h=(b=a["$attr?"]("attribution"))===c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),k=(b=a["$attr?"]("citetitle"))===c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==
(d=h)&&d!==c&&null!=d?d:k)===c||null==b||b.$$is_boolean&&1!=b?l=c:(l=!1!==k&&k!==c&&null!=k?"<cite>"+k+"</cite>":c,h=!1!==h&&h!==c&&null!=h?"&#8212; "+h+(!1!==k&&k!==c&&null!=k?"<br"+this.void_element_slash+">\n":c):c,l='\n<div class="attribution">\n'+h+l+"\n</div>");return"<div"+f+e+">"+g+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+l+"\n</div>"},ia.$$arity=1);a.defn(y,"$thematic_break",ka=function(a){return"<hr"+this.void_element_slash+">"},ka.$$arity=1);a.defn(y,"$sidebar",la=function(a){var b,
d=c,f=c,e=c,d=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n";return"<div"+d+' class="'+((b=e=a.$role())===c||null==b||b.$$is_boolean&&1!=b?"sidebarblock":n(["sidebarblock",e]," "))+'">\n<div class="content">\n'+f+a.$content()+"\n</div>\n</div>"},la.$$arity=1);a.defn(y,"$table",fa=function(a){var b,d,f,g,h,k,l,x,p,F,M=c,C=c,G=c,D=c,u=c,r=D=G=c,B=c,M=[],C=(b=a.$id())===c||null==
b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',G=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],D=[];if((b=(d=a["$option?"]("autowidth"),!1!==d&&d!==c&&null!=d?a["$attr?"]("width",c,!1)["$!"]():d))===c||null==b||b.$$is_boolean&&1!=b)if((b=a["$attr?"]("tablepcwidth",100))===c||null==b||b.$$is_boolean&&1!=b)D["$<<"]("width: "+a.$attr("tablepcwidth")+"%;");else G["$<<"]("spread");if((b=u=a.$role())!==c&&null!=b&&(!b.$$is_boolean||1==b))G["$<<"](u);G=' class="'+n(G," ")+'"';
if((b=a["$attr?"]("float"))!==c&&null!=b&&(!b.$$is_boolean||1==b))D["$<<"]("float: "+a.$attr("float")+";");D=(b=D["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b?' style="'+n(D," ")+'"':c;M["$<<"]("<table"+C+G+D+">");if((b=a["$title?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b))M["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");(b=e(a.$attr("rowcount"),0))===c||null==b||b.$$is_boolean&&1!=b||(r=this.void_element_slash,M["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===c||null==
b||b.$$is_boolean&&1!=b?(b=(g=a.$columns()).$each,b.$$p=(h=function(a){null==a&&(a=c);return M["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+r+">")},h.$$s=this,h.$$arity=1,h),b).call(g):(B="<col"+r+">",(b=(d=a.$columns().$size()).$times,b.$$p=(f=function(){return M["$<<"](B)},f.$$s=this,f.$$arity=0,f),b).call(d)),M["$<<"]("</colgroup>"),(b=(k=(x=(p=["head","foot","body"]).$select,x.$$p=(F=function(b){null==b&&(b=c);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},F.$$s=this,F.$$arity=1,
F),x).call(p)).$each,b.$$p=(l=function(b){var d=l.$$s||this,f,e,g;null==b&&(b=c);M["$<<"]("<t"+b+">");(f=(e=a.$rows()["$[]"](b)).$each,f.$$p=(g=function(d){var f=g.$$s||this,e,h,k;null==d&&(d=c);M["$<<"]("<tr>");(e=(h=d).$each,e.$$p=(k=function(d){var f=k.$$s||this,e,g,h,C,t=c,l=c,G=l=c,D=c,n=c,x=c;null==d&&(d=c);b["$=="]("head")?t=d.$text():(l=d.$style(),"asciidoc"["$==="](l)?t="<div>"+d.$content()+"</div>":"verse"["$==="](l)?t='<div class="verse">'+d.$text()+"</div>":"literal"["$==="](l)?t='<div class="literal"><pre>'+
d.$text()+"</pre></div>":(t="",(e=(g=d.$content()).$each,e.$$p=(h=function(a){null==a&&(a=c);return t=""+t+'<p class="tableblock">'+a+"</p>"},h.$$s=f,h.$$arity=1,h),e).call(g)));l=(e=!1!==(C=b["$=="]("head"))&&C!==c&&null!=C?C:d.$style()["$=="]("header"))===c||null==e||e.$$is_boolean&&1!=e?"td":"th";G=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+'"';D=(e=d.$colspan())===c||null==e||e.$$is_boolean&&1!=e?c:' colspan="'+d.$colspan()+'"';n=(e=d.$rowspan())===c||null==e||
e.$$is_boolean&&1!=e?c:' rowspan="'+d.$rowspan()+'"';x=(e=a.$document()["$attr?"]("cellbgcolor"))===c||null==e||e.$$is_boolean&&1!=e?c:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return M["$<<"]("<"+l+G+D+n+x+">"+t+"</"+l+">")},k.$$s=f,k.$$arity=1,k),e).call(h);return M["$<<"]("</tr>")},g.$$s=d,g.$$arity=1,g),f).call(e);return M["$<<"]("</t"+b+">")},l.$$s=this,l.$$arity=1,l),b).call(k));M["$<<"]("</table>");return n(M,E.get("EOL"))},fa.$$arity=1);a.defn(y,"$toc",da=function(a){var b,
d,f,e=c,g=c,h=c,k=c,l=c,n=c;if((b=(d=(f=(e=a.$document())["$attr?"]("toc-placement","macro"),!1!==f&&f!==c&&null!=f?e["$sections?"]():f),!1!==d&&d!==c&&null!=d?e["$attr?"]("toc"):d))===c||null==b||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?(g=' id="toc"',h=' id="toctitle"'):(g=' id="'+a.$id()+'"',h=' id="'+a.$id()+'title"');k=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?e.$attr("toc-title"):a.$title();l=(b=a["$attr?"]("levels"))===
c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("levels").$to_i();n=(b=a["$role?"]())===c||null==b||b.$$is_boolean&&1!=b?e.$attr("toc-class","toc"):a.$role();return"<div"+g+' class="'+n+'">\n<div'+h+' class="title">'+k+"</div>\n"+this.$outline(e,w(["toclevels"],{toclevels:l}))+"\n</div>"},da.$$arity=1);a.defn(y,"$ulist",F=function(a){var b,d,f,e=c,g=c,h=c,k=c,l=c,x=c,p=c,e=[],g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h=["ulist",a.$style(),a.$role()].$compact(),l=k=c;(b=x=a["$option?"]("checklist"))===
c||null==b||b.$$is_boolean&&1!=b?p=(b=a.$style())===c||null==b||b.$$is_boolean&&1!=b?c:' class="'+a.$style()+'"':(h.$insert(1,"checklist"),p=' class="checklist"',(b=a["$option?"]("interactive"))===c||null==b||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===c||null==b||b.$$is_boolean&&1!=b?(k="&#10003; ",l="&#10063; "):(k='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(b=this.xml_mode)===c||null==b||b.$$is_boolean&&1!=b?(k='<input type="checkbox" data-item-complete="1" checked> ',
l='<input type="checkbox" data-item-complete="0"> '):(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> '));e["$<<"]("<div"+g+' class="'+n(h," ")+'">');if((b=a["$title?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b))e["$<<"]('<div class="title">'+a.$title()+"</div>");e["$<<"]("<ul"+p+">");(b=(d=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=c);e["$<<"]("<li>");if((b=!1!==x&&x!==c&&null!=x?a["$attr?"]("checkbox"):x)===c||
null==b||b.$$is_boolean&&1!=b)e["$<<"]("<p>"+a.$text()+"</p>");else e["$<<"]("<p>"+((b=a["$attr?"]("checked"))===c||null==b||b.$$is_boolean&&1!=b?l:k)+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b))e["$<<"](a.$content());return e["$<<"]("</li>")},f.$$s=this,f.$$arity=1,f),b).call(d);e["$<<"]("</ul>");e["$<<"]("</div>");return n(e,E.get("EOL"))},F.$$arity=1);a.defn(y,"$verse",ba=function(a){var b,d,f=c,e=c,g=e=c,h=c,k=c,l=c,l=h=c,f=(b=a.$id())===c||null==b||b.$$is_boolean&&
1!=b?c:' id="'+a.$id()+'"',e=["verseblock",a.$role()].$compact(),e=' class="'+n(e," ")+'"',g=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",h=(b=a["$attr?"]("attribution"))===c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),k=(b=a["$attr?"]("citetitle"))===c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(d=h)&&d!==c&&null!=d?d:k)===c||null==b||b.$$is_boolean&&1!=b?l=c:(l=!1!==k&&k!==c&&null!=k?"<cite>"+k+"</cite>":c,h=!1!==
h&&h!==c&&null!=h?"&#8212; "+h+(!1!==k&&k!==c&&null!=k?"<br"+this.void_element_slash+">\n":c):c,l='\n<div class="attribution">\n'+h+l+"\n</div>");return"<div"+f+e+">"+g+'\n<pre class="content">'+a.$content()+"</pre>"+l+"\n</div>"},ba.$$arity=1);a.defn(y,"$video",x=function(b){var d,f,e=this,g=c,h=c,k=c,l=c,x=c,p=c,F=c,M=c,C=c,G=c,D=c,u=c,r=c,B=c,q=c,A=c,v=c,ca=c,z=c,ba=c,y=c,w=c,E=c,W=c,K=c,Q=c,X=c,H=c,N=c,S=c,J=c,g=e.xml_mode,h=(d=b.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',
k=["videoblock",b.$role()].$compact(),l=' class="'+n(k," ")+'"',x=(d=b["$title?"]())===c||null==d||d.$$is_boolean&&1!=d?c:'\n<div class="title">'+b.$captioned_title()+"</div>",p=(d=b["$attr?"]("width"))===c||null==d||d.$$is_boolean&&1!=d?c:' width="'+b.$attr("width")+'"',F=(d=b["$attr?"]("height"))===c||null==d||d.$$is_boolean&&1!=d?c:' height="'+b.$attr("height")+'"';return function(){M=b.$attr("poster");if("vimeo"["$==="](M)){if((d=(C=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===
c||null==d||d.$$is_boolean&&1!=d)C=""+C+":";G=(d=b["$attr?"]("start",c,!1))===c||null==d||d.$$is_boolean&&1!=d?c:"#at="+b.$attr("start");D="?";u=(d=b["$option?"]("autoplay"))===c||null==d||d.$$is_boolean&&1!=d?c:""+D+"autoplay=1";!1!==u&&u!==c&&null!=u&&(D="&amp;");r=(d=b["$option?"]("loop"))===c||null==d||d.$$is_boolean&&1!=d?c:""+D+"loop=1";return"<div"+h+l+">"+x+'\n<div class="content">\n<iframe'+p+F+' src="'+C+"//player.vimeo.com/video/"+b.$attr("target")+G+u+r+'" frameborder="0"'+((d=b["$option?"]("nofullscreen"))===
c||null==d||d.$$is_boolean&&1!=d?e.$append_boolean_attribute("allowfullscreen",g):c)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](M)){if((d=(C=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==d||d.$$is_boolean&&1!=d)C=""+C+":";B=(d=b["$option?"]("related"))===c||null==d||d.$$is_boolean&&1!=d?0:1;q=(d=b["$attr?"]("start",c,!1))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;start="+b.$attr("start");A=(d=b["$attr?"]("end",c,!1))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;end="+
b.$attr("end");u=(d=b["$option?"]("autoplay"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;autoplay=1";r=(d=b["$option?"]("loop"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;loop=1";v=(d=b["$option?"]("nocontrols"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;controls=0";(d=b["$option?"]("nofullscreen"))===c||null==d||d.$$is_boolean&&1!=d?(ca=c,z=e.$append_boolean_attribute("allowfullscreen",g)):(ca="&amp;fs=0",z=c);ba=(d=b["$option?"]("modest"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;modestbranding=1";
y=(d=b["$attr?"]("theme",c,!1))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;theme="+b.$attr("theme");w=(d=b["$attr?"]("lang"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;hl="+b.$attr("lang");f=b.$attr("target").$split("/",2);d=a.to_ary(f);E=null==d[0]?c:d[0];W=null==d[1]?c:d[1];f;(d=!1!==(f=W)&&f!==c&&null!=f?f:W=b.$attr("list",c,!1))===c||null==d||d.$$is_boolean&&1!=d?(f=E.$split(",",2),d=a.to_ary(f),E=null==d[0]?c:d[0],Q=null==d[1]?c:d[1],f,K=(d=!1!==(f=Q)&&f!==c&&null!=f?f:Q=b.$attr("playlist",
c,!1))===c||null==d||d.$$is_boolean&&1!=d?!1!==r&&r!==c&&null!=r?"&amp;playlist="+E:c:"&amp;playlist="+Q):K="&amp;list="+W;return"<div"+h+l+">"+x+'\n<div class="content">\n<iframe'+p+F+' src="'+C+"//www.youtube.com/embed/"+E+"?rel="+B+q+A+u+r+v+K+ca+ba+y+w+'" frameborder="0"'+z+"></iframe>\n</div>\n</div>"}X=(d=(""+(H=b.$attr("poster")))["$empty?"]())===c||null==d||d.$$is_boolean&&1!=d?' poster="'+b.$media_uri(H)+'"':c;N=b.$attr("start",c,!1);S=b.$attr("end",c,!1);J=(d=!1!==(f=N)&&f!==c&&null!=f?
f:S)===c||null==d||d.$$is_boolean&&1!=d?c:"#t="+N+(!1!==S&&S!==c&&null!=S?",":c)+S;return"<div"+h+l+">"+x+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+J+'"'+p+F+X+((d=b["$option?"]("autoplay"))===c||null==d||d.$$is_boolean&&1!=d?c:e.$append_boolean_attribute("autoplay",g))+((d=b["$option?"]("nocontrols"))===c||null==d||d.$$is_boolean&&1!=d?e.$append_boolean_attribute("controls",g):c)+((d=b["$option?"]("loop"))===c||null==d||d.$$is_boolean&&1!=d?c:e.$append_boolean_attribute("loop",
g))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},x.$$arity=1);a.defn(y,"$inline_anchor",ca=function(a){var b,d,f=this,e=c,g=c,h=c,k=c,l=c,n=c,e=a.$target();return function(){g=a.$type();if("xref"["$==="](g))return h=!1!==(b=a.$attributes()["$[]"]("refid"))&&b!==c&&null!=b?b:e,k=!1!==(b=a.$text())&&b!==c&&null!=b?b:!1!==(d=a.$document().$references()["$[]"]("ids")["$[]"](h))&&d!==c&&null!=d?d:"["+h+"]",'<a href="'+e+'">'+k+"</a>";if("ref"["$==="](g))return'<a id="'+
e+'"></a>';if("link"["$==="](g)){l=[];if((b=a.$id())!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"](' id="'+a.$id()+'"');if((b=n=a.$role())!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"](' class="'+n+'"');if((b=a["$attr?"]("title",c,!1))!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"](' title="'+a.$attr("title")+'"');if((b=a["$attr?"]("window",c,!1))!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+e+'"'+l.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](g)?
'<a id="'+e+'"></a>['+e+"]":f.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()},ca.$$arity=1);a.defn(y,"$inline_break",B=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},B.$$arity=1);a.defn(y,"$inline_button",W=function(a){return'<b class="button">'+a.$text()+"</b>"},W.$$arity=1);a.defn(y,"$inline_callout",ma=function(a){var b,d=c;if((b=a.$document()["$attr?"]("icons","font"))===c||null==b||b.$$is_boolean&&1!=b){if((b=a.$document()["$attr?"]("icons"))===
c||null==b||b.$$is_boolean&&1!=b)return'<b class="conum">('+a.$text()+")</b>";d=a.$icon_uri("callouts/"+a.$text());return'<img src="'+d+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"},ma.$$arity=1);a.defn(y,"$inline_footnote",na=function(a){var b,d=c,f=c;if((b=d=a.$attr("index"))===c||null==b||b.$$is_boolean&&1!=b)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+
a.$text()+"]</sup>":c;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</sup>";f=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+f+'>[<a id="_footnoteref_'+d+'" class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</sup>"},na.$$arity=1);a.defn(y,"$inline_image",pa=function(a){var b,d,f,e,g,k,l,n,x=c,p=c,M=c,C=d=M=c,G=c,D=c,F=c,u=
d=c,x=c;(b=(d=(x=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(x=a.$type())["$=="]("icon"))===c||null==b||b.$$is_boolean&&1!=b?(b=(f=x["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():x["$=="]("icon"))===c||null==b||b.$$is_boolean&&1!=b?(d=a.$target(),C=(b=(f=["width","height","title"]).$map,b.$$p=(e=function(b){var d;null==b&&(b=c);return(d=a["$attr?"](b))===c||null==d||d.$$is_boolean&&1!=d?c:" "+b+'="'+a.$attr(b)+'"'},e.$$s=this,e.$$arity=1,e),b).call(f).$join(),(b=
(g=(k=(l=x["$!="]("icon"),!1!==l&&l!==c&&null!=l?!1!==(n=a["$attr?"]("format","svg",!1))&&n!==c&&null!=n?n:d["$include?"](".svg"):l),!1!==k&&k!==c&&null!=k?h(a.$document().$safe(),E.get("SafeMode").$$scope.get("SECURE")):k),!1!==g&&g!==c&&null!=g?!1!==(k=G=a["$option?"]("inline"))&&k!==c&&null!=k?k:D=a["$option?"]("interactive"):g))===c||null==b||b.$$is_boolean&&1!=b||(!1!==G&&G!==c&&null!=G?M=!1!==(b=this.$read_svg_contents(a,d))&&b!==c&&null!=b?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==
D&&D!==c&&null!=D&&(F=(b=a["$attr?"]("fallback"))===c||null==b||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+C+this.void_element_slash+">",M='<object type="image/svg+xml" data="'+a.$image_uri(d)+'"'+C+">"+F+"</object>")),!1!==(b=M)&&b!==c&&null!=b?b:M='<img src="'+(x["$=="]("icon")?a.$icon_uri(d):a.$image_uri(d))+'" alt="'+a.$attr("alt")+'"'+C+this.void_element_slash+">"):M="["+a.$attr("alt")+"]":(p=
"fa fa-"+a.$target(),(b=(d=w(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(f=function(b,d){var f;null==b&&(b=c);null==d&&(d=c);return(f=a["$attr?"](b))===c||null==f||f.$$is_boolean&&1!=f?c:p=""+p+" "+d+a.$attr(b)},f.$$s=this,f.$$arity=2,f),b).call(d),M=(b=a["$attr?"]("title"))===c||null==b||b.$$is_boolean&&1!=b?c:' title="'+a.$attr("title")+'"',M='<i class="'+p+'"'+M+"></i>");(b=a["$attr?"]("link"))===c||null==b||b.$$is_boolean&&1!=b||(d=(b=a["$attr?"]("window"))===
c||null==b||b.$$is_boolean&&1!=b?c:' target="'+a.$attr("window")+'"',M='<a class="image" href="'+a.$attr("link")+'"'+d+">"+M+"</a>");p=(b=u=a.$role())===c||null==b||b.$$is_boolean&&1!=b?x:""+x+" "+u;x=(b=a["$attr?"]("float"))===c||null==b||b.$$is_boolean&&1!=b?c:' style="float: '+a.$attr("float")+'"';return'<span class="'+p+'"'+x+">"+M+"</span>"},pa.$$arity=1);a.defn(y,"$inline_indexterm",ra=function(a){return a.$type()["$=="]("visible")?a.$text():""},ra.$$arity=1);a.defn(y,"$inline_kbd",K=function(a){var b,
d,f,e=c,e=c;if((e=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+e["$[]"](0)+"</kbd>";e=(b=(d=e).$map,b.$$p=(f=function(a){null==a&&(a=c);return"<kbd>"+a+"</kbd>+"},f.$$s=this,f.$$arity=1,f),b).call(d).$join().$chop();return'<span class="keyseq">'+e+"</span>"},K.$$arity=1);a.defn(y,"$inline_menu",sa=function(a){var b,d,f,e=c,g=c,h=g=c,e=a.$attr("menu");if((b=(g=a.$attr("submenus"))["$empty?"]()["$!"]())===c||null==b||b.$$is_boolean&&1!=b)return(b=h=a.$attr("menuitem"))===c||null==b||b.$$is_boolean&&
1!=b?'<span class="menu">'+e+"</span>":'<span class="menuseq"><span class="menu">'+e+'</span>&#160;&#9656; <span class="menuitem">'+h+"</span></span>";g=(b=(d=g).$map,b.$$p=(f=function(a){null==a&&(a=c);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},f.$$s=this,f.$$arity=1,f),b).call(d).$join().$chop();return'<span class="menuseq"><span class="menu">'+e+"</span>&#160;&#9656; "+g+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"},sa.$$arity=1);a.defn(y,"$inline_quoted",ta=function(b){var d,
f,e=c,g=c,h=c,k=c;f=c;f=E.get("QUOTE_TAGS")["$[]"](b.$type());d=a.to_ary(f);e=null==d[0]?c:d[0];g=null==d[1]?c:d[1];h=null==d[2]?c:d[2];f;f=(d=k=b.$role())===c||null==d||d.$$is_boolean&&1!=d?""+e+b.$text()+g:!1!==h&&h!==c&&null!=h?""+e.$chop()+' class="'+k+'">'+b.$text()+g:'<span class="'+k+'">'+e+b.$text()+g+"</span>";return(d=b.$id())===c||null==d||d.$$is_boolean&&1!=d?f:'<a id="'+b.$id()+'"></a>'+f},ta.$$arity=1);a.defn(y,"$append_boolean_attribute",va=function(a,b){return!1!==b&&b!==c&&null!=
b?" "+a+'="'+a+'"':" "+a},va.$$arity=2);return(a.defn(y,"$read_svg_contents",ua=function(a,b){var d,f,e,g=c,h=c,l=c;if((d=g=a.$read_contents(b,w(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))!==c&&null!=d&&(!d.$$is_boolean||1==d)){if((d=g["$start_with?"]("<svg"))===c||null==d||d.$$is_boolean&&1!=d)g=g.$sub(E.get("SvgPreambleRx"),"");h=l=c;(d=(f=["width","height"]).$each,d.$$p=(e=function(b){var d;null==b&&(b=c);if((d=a["$attr?"](b))===c||null==d||
d.$$is_boolean&&1!=d)return c;if(!1===l||l===c||null==l)l=(h=g.$match(E.get("SvgStartTagRx"))["$[]"](0)).$gsub(E.get("DimensionAttributeRx"),"");return l=""+l.$chop()+" "+b+'="'+a.$attr(b)+'px">'},e.$$s=this,e.$$arity=1,e),d).call(f);!1!==l&&l!==c&&null!=l&&(g=""+l+g["$[]"](k(h.$length(),-1,!1)))}return g},ua.$$arity=2),c)&&"read_svg_contents"})(p.get("Converter"),p.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/opal_ext/string"]=function(a){var l=a.nil,n=a.klass;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice".split(" "));return function(e,$super){function h(){}var b=h=n(e,$super,"String",h),c,d;return(c=b["$method_defined?"]("limit"))===l||null==c||c.$$is_boolean&&1!=c?(a.defn(b,"$limit",d=function(a){var b,c=l,c=this.$bytes().$length();if((b="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c))===l||null==b||b.$$is_boolean&&1!=b)return this.$to_s();c=this.$byteslice(0,
a);return c.$to_s()},d.$$arity=1),l)&&"limit":l}(a.base,null)};Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){var l;l=a.nil;var n=a.gvars;null==n.stdout&&(n.stdout=l);null==n.stderr&&(n.stderr=l);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];l=n.stdout;l["$write_proc="].apply(l,a);a[a.length-1];return a=[function(a){print(a)}],l=n.stderr,l["$write_proc="].apply(l,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext/electron/io"]=function(a){var l;l=a.nil;var n=a.gvars;null==n.stdout&&(n.stdout=l);null==n.stderr&&(n.stderr=l);a.add_stubs(["$write_proc="]);a=[function(a){console.log(a)}];l=n.stdout;l["$write_proc="].apply(l,a);a[a.length-1];return a=[function(a){console.error(a)}],l=n.stderr,l["$write_proc="].apply(l,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){var l=a.top,n=a.nil,e=n;a.add_stubs(["$require","$==="]);var e="undefined"!==typeof module&&module.exports,g="object"===typeof process&&"object"===process.versions&&"string"===process.versions.electron,h="undefined"!==typeof Java&&Java.type,b="undefined"!==typeof java;"undefined"!==typeof window?e="browser":e?(e=g?"node-electron":"node",a.load("nodejs"),a.load("pathname")):e=h?"java-nashorn":b?"java-rhino":"standalone";a.cdecl(a,"JAVASCRIPT_PLATFORM",
e);l.$require("strscan");l.$require("asciidoctor/opal_ext/file");l.$require("asciidoctor/opal_ext/match_data");l.$require("asciidoctor/opal_ext/kernel");l.$require("asciidoctor/opal_ext/thread_safe");l.$require("asciidoctor/converter");l.$require("asciidoctor/converter/composite");l.$require("asciidoctor/converter/html5");l.$require("asciidoctor/opal_ext/string");e=a.get("JAVASCRIPT_PLATFORM");return"java-nashorn"["$==="](e)?l.$require("asciidoctor/opal_ext/nashorn/io"):"node-electron"["$==="](e)?
l.$require("asciidoctor/opal_ext/electron/io"):n};Opal.modules["asciidoctor/version"]=function(a){var l=a.module,l=l(a.base,"Asciidoctor").$$scope;a.cdecl(l,"VERSION","1.5.5")};
Opal.modules["asciidoctor/timings"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=a.nil,h=a.module,b=a.klass,c=a.hash2,d=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(v){(function(h,$super){function p(){}
var f=p=b(h,$super,"Timings",p),m=f.$$proto,q,v,I,E,z,u,H,L;m.timers=m.log=g;a.defn(f,"$initialize",q=function(){this.log=c([],{});return this.timers=c([],{})},q.$$arity=0);a.defn(f,"$start",v=function(b){return this.timers["$[]="](b,a.get("Time").$now())},v.$$arity=1);a.defn(f,"$record",I=function(b){return this.log["$[]="](b,l(a.get("Time").$now(),this.timers.$delete(b)))},I.$$arity=1);a.defn(f,"$read_parse",E=function(){var a,b,c=g;return(a=n(c=e(!1!==(b=this.log["$[]"]("read"))&&b!==g&&null!=
b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==g&&null!=b?b:0),0))===g||null==a||a.$$is_boolean&&1!=a?g:c},E.$$arity=0);a.defn(f,"$convert",z=function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==g&&null!=a?a:0},z.$$arity=0);a.defn(f,"$read_parse_convert",u=function(){var a,b,c=g;return(a=n(c=e(e(!1!==(b=this.log["$[]"]("read"))&&b!==g&&null!=b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==g&&null!=b?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==g&&null!=b?b:0),0))===g||null==a||a.$$is_boolean&&
1!=a?g:c},u.$$arity=0);a.defn(f,"$total",H=function(){var a,b,c=g;return(a=n(c=e(e(e(!1!==(b=this.log["$[]"]("read"))&&b!==g&&null!=b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==g&&null!=b?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==g&&null!=b?b:0),!1!==(b=this.log["$[]"]("write"))&&b!==g&&null!=b?b:0),0))===g||null==a||a.$$is_boolean&&1!=a?g:c},H.$$arity=0);return(a.defn(f,"$print_report",L=function(a,b){null==d.stdout&&(d.stdout=g);null==a&&(a=d.stdout);null==b&&(b=g);!1!==b&&b!==g&&null!=b&&a.$puts("Input file: "+
b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},L.$$arity=-1),g)&&"print_report"})(h(v,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var l=a.nil,n=a.klass;a.add_stubs(["$method_defined?"]);(function(e,$super){function h(){}var b=h=n(e,$super,"NilClass",h),c;return(c=b["$method_defined?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","nil?"):l})(a.base,null);(function(e,$super){function h(){}var b=h=n(e,$super,"String",h),c;return(c=b["$method_defined?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","empty?"):
l})(a.base,null);(function(e,$super){function h(){}var b=h=n(e,$super,"Array",h),c;return(c=b["$method_defined?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","empty?"):l})(a.base,null);(function(e,$super){function h(){}var b=h=n(e,$super,"Hash",h),c;return(c=b["$method_defined?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","empty?"):l})(a.base,null);return function(e,$super){function h(){}var b=h=n(e,$super,"Numeric",h),c;return(c=
b["$method_defined?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","nil?"):l}(a.base,null)};
Opal.modules["asciidoctor/core_ext/string/limit"]=function(a){var l=a.nil,n=a.klass;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(e,$super){function h(){}var b=h=n(e,$super,"String",h),c,d;return(c=b["$method_defined?"]("limit"))===l||null==c||c.$$is_boolean&&1!=c?(a.defn(b,"$limit",d=function(b){var c,d,e=l,e=this.$bytesize();if((c="number"===typeof b&&"number"===typeof e?b<e:b["$<"](e))===l||null==c||c.$$is_boolean&&1!=c)return this;
for(;(d=(e=this.$byteslice(0,b)).$force_encoding(a.get("Encoding").$$scope.get("UTF_8"))["$valid_encoding?"]())===l||null==d||d.$$is_boolean&&1!=d;)b="number"===typeof b?b-1:b["$-"](1);return e},d.$$arity=1),l)&&"limit":l}(a.base,null)};
Opal.modules["asciidoctor/core_ext"]=function(a){var l,n=a.top,e=a.nil;a.add_stubs(["$require","$!="]);n.$require("asciidoctor/core_ext/nil_or_empty");if((l=a.get("RUBY_MIN_VERSION_1_9"))!==e&&null!=l&&(!l.$$is_boolean||1==l))return n.$require("asciidoctor/core_ext/string/limit");if((l=a.get("RUBY_ENGINE")["$!="]("opal"))===e||null==l||l.$$is_boolean&&1!=l)return e};
Opal.modules["asciidoctor/helpers"]=function(a){var l=a.nil,n=a.module,e=a.range,g=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(h){(function(b){b=n(b,"Helpers");
var c=b.$$scope,d,h,w,k,p,f,m,q,y,I;a.defs(b,"$require_library",d=function(b,c,d){var f=l,e=l;null==c&&(c=!0);null==d&&(d="abort");try{return this.$require(b)}catch(g){if(a.rescue(g,[a.get("LoadError")])){f=g;try{if(!1!==c&&c!==l&&null!=c)return c["$=="](!0)&&(c=b),e=d,"abort"["$==="](e)?this.$fail("asciidoctor: FAILED: required gem '"+c+"' is not installed. Processing aborted."):"warn"["$==="](e)?this.$warn("asciidoctor: WARNING: optional gem '"+c+"' is not installed. Functionality disabled."):l;
e=d;return"abort"["$==="](e)?this.$fail("asciidoctor: FAILED: "+f.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](e)?this.$warn("asciidoctor: WARNING: "+f.$message().$chomp(".")+". Functionality disabled."):l}finally{a.pop_exception()}}else throw g;}},d.$$arity=-2);a.defs(b,"$normalize_lines",h=function(b){return b.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)},h.$$arity=1);a.defs(b,"$normalize_lines_array",w=function(b){var d,
f,g,h,k,m,n=l,p=l,r=l,q=l;if((d=b["$empty?"]())!==l&&null!=d&&(!d.$$is_boolean||1==d))return[];n=(p=b["$[]"](0))["$[]"](e(0,2,!1)).$bytes().$to_a();if((d=c.get("COERCE_ENCODING"))===l||null==d||d.$$is_boolean&&1!=d){if(n["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,p["$[]"](e(3,-1,!1)));return(d=b.$map,d.$$p=(m=function(a){null==a&&(a=l);return a.$rstrip()},m.$$s=this,m.$$arity=1,m),d).call(b)}r=a.get("Encoding").$$scope.get("UTF_8");if((q=n["$[]"](e(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE")))return(d=
(f=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(r).$lines()).$map,d.$$p=(g=function(a){null==a&&(a=l);return a.$rstrip()},g.$$s=this,g.$$arity=1,g),d).call(f);if(q["$=="](c.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,p.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](e(1,-1,!1))),(d=b.$map,d.$$p=(h=function(b){null==b&&(b=l);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(r).$rstrip()},h.$$s=this,h.$$arity=
1,h),d).call(b);if(n["$[]"](e(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,p.$force_encoding(r)["$[]"](e(1,-1,!1)));return(d=b.$map,d.$$p=(k=function(a){null==a&&(a=l);return a.$encoding()["$=="](r)?a.$rstrip():a.$force_encoding(r).$rstrip()},k.$$s=this,k.$$arity=1,k),d).call(b)},w.$$arity=1);a.defs(b,"$normalize_lines_from_string",k=function(b){var d,f,g,h=l,k=l,m=l;if((d=b["$nil_or_empty?"]())!==l&&null!=d&&(!d.$$is_boolean||1==d))return[];(d=c.get("COERCE_ENCODING"))===l||null==d||d.$$is_boolean&&
1!=d?b["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](c.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](e(3,-1,!1))):(h=a.get("Encoding").$$scope.get("UTF_8"),k=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(m=k["$[]"](e(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(h):m["$=="](c.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](e(1,-1,!1)).$encode(h):k["$[]"](e(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8"))?
b=b.$encoding()["$=="](h)?b["$[]"](e(1,-1,!1)):b.$force_encoding(h)["$[]"](e(1,-1,!1)):b.$encoding()["$=="](h)||(b=b.$force_encoding(h)));return(d=(f=b.$each_line()).$map,d.$$p=(g=function(a){null==a&&(a=l);return a.$rstrip()},g.$$s=this,g.$$arity=1,g),d).call(f)},k.$$arity=1);a.defs(b,"$uriish?",p=function(a){var b;return b=a["$include?"](":"),!1!==b&&b!==l&&null!=b?a["$=~"](c.get("UriSniffRx")):b},p.$$arity=1);a.defs(b,"$uri_prefix",f=function(a){var b,d;return(b=(d=a["$include?"](":"),!1!==d&&
d!==l&&null!=d?a["$=~"](c.get("UriSniffRx")):d))===l||null==b||b.$$is_boolean&&1!=b?l:(b=g["~"])===l?l:b["$[]"](0)},f.$$arity=1);a.cdecl(c,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(b,"$encode_uri",m=function(a){var b,d;return(b=a.$gsub,b.$$p=(d=function(){var a=d.$$s||this,b,c,f,e;return(b=(c=((e=g["~"])===l?l:e["$[]"](0)).$each_byte()).$map,b.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=l);return b.$sprintf("%%%02X",a)},f.$$s=a,f.$$arity=1,f),b).call(c).$join()},d.$$s=this,
d.$$arity=0,d),b).call(a,c.get("REGEXP_ENCODE_URI_CHARS"))},m.$$arity=1);a.defs(b,"$rootname",q=function(b){var c,d=l;return(c=(d=a.get("File").$extname(b))["$empty?"]())===l||null==c||c.$$is_boolean&&1!=c?b["$[]"](e(0,d.$length()["$-@"](),!0)):b},q.$$arity=1);a.defs(b,"$basename",y=function(b,c){null==c&&(c=!1);return!1!==c&&c!==l&&null!=c?a.get("File").$basename(b,a.get("File").$extname(b)):a.get("File").$basename(b)},y.$$arity=-2);a.defs(b,"$mkdir_p",I=function(b){var c,d,f=l;return(c=a.get("File")["$directory?"](b))===
l||null==c||c.$$is_boolean&&1!=c?(f=a.get("File").$dirname(b),(c=(d=a.get("File")["$directory?"](f=a.get("File").$dirname(b))["$!"](),!1!==d&&d!==l&&null!=d?f["$!="]("."):d))===l||null==c||c.$$is_boolean&&1!=c||this.$mkdir_p(f),a.get("Dir").$mkdir(b)):l},I.$$arity=1)})(n(h,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=a.nil,b=a.slice,c=a.module,d=a.hash2,v=a.gvars,w=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(k){(function(k){k=c(k,"Substitutors");var f=k.$$scope,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa;a.cdecl(f,"SPECIAL_CHARS",d(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(f,"SPECIAL_CHARS_PATTERN",new RegExp("["+f.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(f,"SUBS",d("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),
verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),header:["specialcharacters","attributes"],pass:[]}));a.cdecl(f,"COMPOSITE_SUBS",d(["none","normal","verbatim","specialchars"],{none:[],normal:f.get("SUBS")["$[]"]("normal"),verbatim:f.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(f,"SUB_SYMBOLS",d("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",
r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(f,"SUB_OPTIONS",d(["block","inline"],{block:l(l(f.get("COMPOSITE_SUBS").$keys(),f.get("SUBS")["$[]"]("normal")),["callouts"]),inline:l(f.get("COMPOSITE_SUBS").$keys(),f.get("SUBS")["$[]"]("normal"))}));a.cdecl(f,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(f,"PASS_START","\u0096");a.cdecl(f,"PASS_END","\u0097");a.cdecl(f,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(f,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);
k.$attr_reader("passthroughs");a.defn(k,"$apply_subs",m=function(b,c,d){var e,g,k,m,p,r=h,u=h,q=h,A=h;null==this.passthroughs&&(this.passthroughs=h);null==c&&(c="normal");null==d&&(d=!1);if((e=c["$!"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return b;c["$=="]("normal")?c=f.get("SUBS")["$[]"]("normal"):!1!==d&&d!==h&&null!=d&&((e=a.get("Symbol")["$==="](c))===h||null==e||e.$$is_boolean&&1!=e?(r=[],(e=(g=c).$each,e.$$p=(k=function(a){var b;null==a&&(a=h);return(b=f.get("COMPOSITE_SUBS")["$has_key?"](a))===
h||null==b||b.$$is_boolean&&1!=b?r["$<<"](a):r=l(r,f.get("COMPOSITE_SUBS")["$[]"](a))},k.$$s=this,k.$$arity=1,k),e).call(g),c=r):c=!1!==(e=f.get("COMPOSITE_SUBS")["$[]"](c))&&e!==h&&null!=e?e:[c]);if((e=c["$empty?"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return b;u=(e=q=a.get("Array")["$==="](b))===h||null==e||e.$$is_boolean&&1!=e?b:n(b,f.get("EOL"));(e=A=c["$include?"]("macros"))===h||null==e||e.$$is_boolean&&1!=e||(u=this.$extract_passthroughs(u),(e=this.passthroughs["$empty?"]())===h||null==
e||e.$$is_boolean&&1!=e||(A=!1));(e=(m=c).$each,e.$$p=(p=function(a){var b=p.$$s||this,d,e=h;null==a&&(a=h);e=a;return"specialcharacters"["$==="](e)?u=b.$sub_specialchars(u):"quotes"["$==="](e)?u=b.$sub_quotes(u):"attributes"["$==="](e)?u=n(b.$sub_attributes(u.$split(f.get("EOL"))),f.get("EOL")):"replacements"["$==="](e)?u=b.$sub_replacements(u):"macros"["$==="](e)?u=b.$sub_macros(u):"highlight"["$==="](e)?u=b.$highlight_source(u,c["$include?"]("callouts")):"callouts"["$==="](e)?(d=c["$include?"]("highlight"))===
h||null==d||d.$$is_boolean&&1!=d?u=b.$sub_callouts(u):h:"post_replacements"["$==="](e)?u=b.$sub_post_replacements(u):b.$warn("asciidoctor: WARNING: unknown substitution type "+a)},p.$$s=this,p.$$arity=1,p),e).call(m);!1!==A&&A!==h&&null!=A&&(u=this.$restore_passthroughs(u));return!1!==q&&q!==h&&null!=q?u.$split(f.get("EOL")):u},m.$$arity=-2);a.defn(k,"$apply_normal_subs",q=function(b){var c;return this.$apply_subs((c=a.get("Array")["$==="](b))===h||null==c||c.$$is_boolean&&1!=c?b:n(b,f.get("EOL")))},
q.$$arity=1);a.defn(k,"$apply_title_subs",y=function(a){return this.$apply_subs(a,f.get("SUBS")["$[]"]("title"))},y.$$arity=1);a.defn(k,"$apply_header_subs",I=function(a){return this.$apply_subs(a,f.get("SUBS")["$[]"]("header"))},I.$$arity=1);a.defn(k,"$extract_passthroughs",E=function(b){var c,k,l,m,p,u,r,q,A=h,y=h,X=h,z=h;null==this.document&&(this.document=h);A=this.document.$compat_mode();(c=!1!==(k=!1!==(l=b["$include?"]("++"))&&l!==h&&null!=l?l:b["$include?"]("$$"))&&k!==h&&null!=k?k:b["$include?"]("ss:"))===
h||null==c||c.$$is_boolean&&1!=c||(b=(c=(k=b).$gsub,c.$$p=(m=function(){var b=m.$$s||this,c,k=h,l=h,x=h,p=x=h,F=h,u=h,r=h,k=h;null==b.passthroughs&&(b.passthroughs=h);null==v["~"]&&(v["~"]=h);k=v["~"];l=h;if((c=(x=k["$[]"](4))["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c){if((c=!1!==A&&A!==h&&null!=A?x["$=="]("++"):A)!==h&&null!=c&&(!c.$$is_boolean||1==c))return(c=k["$[]"](2)["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c?""+k["$[]"](1)+"["+k["$[]"](2)+"]"+k["$[]"](3)+"++"+b.$extract_passthroughs(k["$[]"](5))+
"++":""+k["$[]"](1)+k["$[]"](3)+"++"+b.$extract_passthroughs(k["$[]"](5))+"++";p=k["$[]"](2);(c=a.get("RUBY_ENGINE_OPAL"))===h||null==c||c.$$is_boolean&&1!=c||p["$=="]("")&&(p=h);F=k["$[]"](3).$size();u=k["$[]"](5);r=!1;if(!1!==p&&p!==h&&null!=p)if((c=e(F,0))===h||null==c||c.$$is_boolean&&1!=c)k["$[]"](1)["$=="]("\\")?(l="["+p+"]",p=h):((c=x["$=="]("++")?p["$end_with?"]("x-"):x["$=="]("++"))===h||null==c||c.$$is_boolean&&1!=c||(r=!0,p=p["$[]"](w(0,-2,!0))),p=b.$parse_attributes(p));else return""+
k["$[]"](1)+"["+p+"]"+n("\\",g(F,1))+x+k["$[]"](5)+x+")";else if((c=e(F,0))!==h&&null!=c&&(!c.$$is_boolean||1==c))return""+k["$[]"](1)+"["+p+"]"+n("\\",g(F,1))+x+k["$[]"](5)+x;k=x["$=="]("+++")?[]:["specialcharacters"];x=b.passthroughs.$size();if(!1!==p&&p!==h&&null!=p)if(!1!==r&&r!==h&&null!=r)b.passthroughs["$[]="](x,d(["text","subs","type","attributes"],{text:u,subs:f.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:p}));else b.passthroughs["$[]="](x,d(["text","subs","type","attributes"],
{text:u,subs:k,type:"unquoted",attributes:p}));else b.passthroughs["$[]="](x,d(["text","subs"],{text:u,subs:k}))}else{if(k["$[]"](6)["$=="]("\\"))return k["$[]"](0)["$[]"](w(1,-1,!1));b.passthroughs["$[]="](x=b.passthroughs.$size(),d(["text","subs"],{text:b.$unescape_brackets(k["$[]"](8)),subs:(c=k["$[]"](7)["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c?b.$resolve_pass_subs(k["$[]"](7)):[]}))}return""+l+f.get("PASS_START")+x+f.get("PASS_END")},m.$$s=this,m.$$arity=0,m),c).call(k,f.get("PassInlineMacroRx")));
l=f.get("PassInlineRx")["$[]"](A);c=a.to_ary(l);y=null==c[0]?h:c[0];X=null==c[1]?h:c[1];z=null==c[2]?h:c[2];l;(c=!1!==(l=b["$include?"](y))&&l!==h&&null!=l?l:(p=!1!==X&&X!==h&&null!=X)?b["$include?"](X):X)===h||null==c||c.$$is_boolean&&1!=c||(b=(c=(l=b).$gsub,c.$$p=(u=function(){var b=u.$$s||this,c,e=h,g=h,k=h,l=h,m=h,n=h,x=h,m=e=h;null==b.passthroughs&&(b.passthroughs=h);null==v["~"]&&(v["~"]=h);e=v["~"];g=e["$[]"](1);k=e["$[]"](2);l=(c=e["$[]"](3)["$start_with?"]("\\"))===h||null==c||c.$$is_boolean&&
1!=c?h:"\\";m=e["$[]"](4);n=e["$[]"](5);(c=a.get("RUBY_ENGINE_OPAL"))===h||null==c||c.$$is_boolean&&1!=c||k["$=="]("")&&(k=h);!1!==A&&A!==h&&null!=A?x=!0:(c=x=!1!==k&&k!==h&&null!=k?k["$end_with?"]("x-"):k)===h||null==c||c.$$is_boolean&&1!=c||(k=k["$[]"](w(0,-2,!0)));if(!1!==k&&k!==h&&null!=k){if((c=m["$=="]("`")?x["$!"]():m["$=="]("`"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return""+g+"["+k+"]"+l+"`"+b.$extract_passthroughs(n)+"`";if(!1!==l&&l!==h&&null!=l)return""+g+"["+k+"]"+e["$[]"](3)["$[]"](w(1,
-1,!1));g["$=="]("\\")?(g="["+k+"]",k=h):k=b.$parse_attributes(k)}else{if((c=m["$=="]("`")?x["$!"]():m["$=="]("`"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return""+g+l+"`"+b.$extract_passthroughs(n)+"`";if(!1!==l&&l!==h&&null!=l)return""+g+e["$[]"](3)["$[]"](w(1,-1,!1))}e=b.passthroughs.$size();if(!1!==A&&A!==h&&null!=A)b.passthroughs["$[]="](e,d(["text","subs","attributes","type"],{text:n,subs:["specialcharacters"],attributes:k,type:"monospaced"}));else if(!1!==k&&k!==h&&null!=k)if(!1!==x&&x!==h&&
null!=x)m=m["$=="]("`")?["specialcharacters"]:f.get("SUBS")["$[]"]("normal"),b.passthroughs["$[]="](e,d(["text","subs","attributes","type"],{text:n,subs:m,attributes:k,type:"monospaced"}));else b.passthroughs["$[]="](e,d(["text","subs","attributes","type"],{text:n,subs:["specialcharacters"],attributes:k,type:"unquoted"}));else b.passthroughs["$[]="](e,d(["text","subs"],{text:n,subs:["specialcharacters"]}));return""+g+f.get("PASS_START")+e+f.get("PASS_END")},u.$$s=this,u.$$arity=0,u),c).call(l,z));
(c=(p=b["$include?"](":"),!1!==p&&p!==h&&null!=p?!1!==(r=b["$include?"]("stem:"))&&r!==h&&null!=r?r:b["$include?"]("math:"):p))===h||null==c||c.$$is_boolean&&1!=c||(b=(c=(p=b).$gsub,c.$$p=(q=function(){var a=q.$$s||this,b,c=h,e=h,g=h,k=h,l=c=h;null==a.document&&(a.document=h);null==a.passthroughs&&(a.passthroughs=h);null==v["~"]&&(v["~"]=h);c=v["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return c["$[]"](0)["$[]"](w(1,-1,!1));(e=c["$[]"](1).$to_sym())["$=="]("stem")&&
(e=((b=(g=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&1!=b?g:"asciimath").$to_sym());k=a.$unescape_brackets(c["$[]"](3));c=(b=c["$[]"](2)["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&1!=b?a.$resolve_pass_subs(c["$[]"](2)):(b=a.document["$basebackend?"]("html"))===h||null==b||b.$$is_boolean&&1!=b?[]:["specialcharacters"];a.passthroughs["$[]="](l=a.passthroughs.$size(),d(["text","subs","type"],{text:k,subs:c,type:e}));return""+f.get("PASS_START")+
l+f.get("PASS_END")},q.$$s=this,q.$$arity=0,q),c).call(p,f.get("StemInlineMacroRx")));return b},E.$$arity=1);a.defn(k,"$restore_passthroughs",z=function(a,b){var c,e,g,k;null==this.passthroughs&&(this.passthroughs=h);null==b&&(b=!0);try{return(c=(e=!1!==b&&b!==h&&null!=b)?!1!==(g=this.passthroughs["$empty?"]())&&g!==h&&null!=g?g:a["$include?"](f.get("PASS_START"))["$!"]():b)===h||null==c||c.$$is_boolean&&1!=c?(c=(e=a).$gsub,c.$$p=(k=function(){var a=k.$$s||this,b,c=h,e=h,g=h,l=h;null==a.passthroughs&&
(a.passthroughs=h);null==v["~"]&&(v["~"]=h);c=a.passthroughs["$[]"](v["~"]["$[]"](1).$to_i());e=(b=g=c["$[]"]("subs"))===h||null==b||b.$$is_boolean&&1!=b?c["$[]"]("text"):a.$apply_subs(c["$[]"]("text"),g);(b=l=c["$[]"]("type"))===h||null==b||b.$$is_boolean&&1!=b||(e=f.get("Inline").$new(a,"quoted",e,d(["type","attributes"],{type:l,attributes:c["$[]"]("attributes")})).$convert());return(b=e["$include?"](f.get("PASS_START")))===h||null==b||b.$$is_boolean&&1!=b?e:a.$restore_passthroughs(e,!1)},k.$$s=
this,k.$$arity=0,k),c).call(e,f.get("PASS_MATCH")):a}finally{!1!==b&&b!==h&&null!=b&&this.passthroughs.$clear()}},z.$$arity=-2);a.defn(k,"$sub_specialchars",u=function(a){var b,c;return(b=f.get("SUPPORTS_GSUB_RESULT_HASH"))===h||null==b||b.$$is_boolean&&1!=b?(b=a.$gsub,b.$$p=(c=function(){var a;return f.get("SPECIAL_CHARS")["$[]"]((a=v["~"])===h?h:a["$[]"](0))},c.$$s=this,c.$$arity=0,c),b).call(a,f.get("SPECIAL_CHARS_PATTERN")):a.$gsub(f.get("SPECIAL_CHARS_PATTERN"),f.get("SPECIAL_CHARS"))},u.$$arity=
1);a.alias(k,"sub_specialcharacters","sub_specialchars");f.get("RUBY_ENGINE")["$=="]("opal")&&(a.defn(k,"$sub_quotes",H=function(a){var b,c,d;null==this.document&&(this.document=h);(b=(c=f.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,b.$$p=(d=function(b,c,f){var e=d.$$s||this,g,k,l;null==b&&(b=h);null==c&&(c=h);null==f&&(f=h);return a=(g=(k=a).$gsub,g.$$p=(l=function(){var a=l.$$s||this;null==v["~"]&&(v["~"]=h);return a.$convert_quoted_text(v["~"],b,c)},l.$$s=e,l.$$arity=0,l),g).call(k,
f)},d.$$s=this,d.$$arity=3,d),b).call(c);return a},H.$$arity=1),a.defn(k,"$sub_replacements",L=function(a){var b,c,d;(b=(c=f.get("REPLACEMENTS")).$each,b.$$p=(d=function(b,c,f){var e=d.$$s||this,g,k,l;null==b&&(b=h);null==c&&(c=h);null==f&&(f=h);return a=(g=(k=a).$gsub,g.$$p=(l=function(){var a=l.$$s||this;null==v["~"]&&(v["~"]=h);return a.$do_replacement(v["~"],c,f)},l.$$s=e,l.$$arity=0,l),g).call(k,b)},d.$$s=this,d.$$arity=3,d),b).call(c);return a},L.$$arity=1));a.defn(k,"$do_replacement",J=function(a,
b,c){var d,f=h,f=h;(d=(f=a["$[]"](0))["$include?"]("\\"))===h||null==d||d.$$is_boolean&&1!=d?(f=c,a="none"["$==="](f)?b:"leading"["$==="](f)?""+a["$[]"](1)+b:"bounding"["$==="](f)?""+a["$[]"](1)+b+a["$[]"](2):h):a=f.$tr("\\","");return a},J.$$arity=3);a.defn(k,"$sub_attributes",N=function(b,c){var e,g,k,m=h,p=h,u=h,r=h;null==this.document&&(this.document=h);null==c&&(c=d([],{}));if((e=b["$nil_or_empty?"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return b;(e=m=a.get("String")["$==="](b))===h||null==
e||e.$$is_boolean&&1!=e||(b=[b]);p=this.document.$attributes();u=h;r=[];(e=(g=b).$each,e.$$p=(k=function(b){var d=k.$$s||this,e,g,m,n,x=h,q=h;null==b&&(b=h);q=x=!1;(e=b["$include?"]("{"))===h||null==e||e.$$is_boolean&&1!=e||(b=function(){var k=a.new_brk();try{return(e=(g=b).$gsub,e.$$p=(m=function(){var b=m.$$s||this,d,e,g,n=h,r=h,B=h,ga=h,A=h,M=h,C=h,G=h,D=h;null==b.document&&(b.document=h);null==v["~"]&&(v["~"]=h);n=v["~"];if((d=!1!==(e=n["$[]"](1)["$=="]("\\"))&&e!==h&&null!=e?e:n["$[]"](4)["$=="]("\\"))===
h||null==d||d.$$is_boolean&&1!=d){if((d=n["$[]"](3)["$nil_or_empty?"]()["$!"]())===h||null==d||d.$$is_boolean&&1!=d)return(d=p["$key?"](D=n["$[]"](2).$downcase()))===h||null==d||d.$$is_boolean&&1!=d?(d=f.get("INTRINSIC_ATTRIBUTES")["$key?"](D))===h||null==d||d.$$is_boolean&&1!=d?function(){A=!1!==(d=u)&&d!==h&&null!=d?d:u=!1!==(e=c["$[]"]("attribute_missing"))&&e!==h&&null!=e?e:p.$fetch("attribute-missing",f.get("Compliance").$attribute_missing());if("skip"["$==="](A))return n["$[]"](0);if("drop-line"["$==="](A))b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+
D),x=!0,a.brk("",k);else{if("warn"["$==="](A))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+D),n["$[]"](0);q=!0;return""}}():f.get("INTRINSIC_ATTRIBUTES")["$[]"](D):p["$[]"](D);r=l((B=n["$[]"](3)).$length(),1);ga=n["$[]"](2)["$[]"](w(r,-1,!1));return function(){A=B;if("set"["$==="](A))return M=ga.$split(":"),e=f.get("Parser").$store_attribute(M["$[]"](0),!1!==(g=M["$[]"](1))&&g!==h&&null!=g?g:"",b.document),d=a.to_ary(e),C=null==d[1]?h:d[1],e,!1!==C&&C!==h&&null!=
C||!p.$fetch("attribute-undefined",f.get("Compliance").$attribute_undefined())["$=="]("drop-line")||(x=!0,a.brk("",k)),q=!0,"";if("counter"["$==="](A)||"counter2"["$==="](A))return M=ga.$split(":"),G=b.document.$counter(M["$[]"](0),M["$[]"](1)),B["$=="]("counter2")?(q=!0,""):G;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+n["$[]"](3));return n["$[]"](0)}()}return"{"+n["$[]"](2)+"}"},m.$$s=d,m.$$brk=k,m.$$arity=0,m),e).call(g,f.get("AttributeReferenceRx"))}catch(n){if(n===k)return n.$v;
throw n;}}());return(e=!1!==(n=x)&&n!==h&&null!=n?n:!1!==q&&q!==h&&null!=q?b["$empty?"]():q)===h||null==e||e.$$is_boolean&&1!=e?r["$<<"](b):h},k.$$s=this,k.$$arity=1,k),e).call(g);return!1!==m&&m!==h&&null!=m?n(r,f.get("EOL")):r},N.$$arity=-2);a.defn(k,"$sub_macros",Q=function(c){var e,g,k,l,m,n,p,u,r,q,A,y,X,z,Q,H,t,U,qa,oa,E=h,T=h,S=h,O=h,ga=h,ya=h;null==this.document&&(this.document=h);if((e=c["$nil_or_empty?"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return c;E=d([],{});E["$[]="]("square_bracket",
c["$include?"]("["));E["$[]="]("round_bracket",c["$include?"]("("));E["$[]="]("colon",T=c["$include?"](":"));E["$[]="]("macroish",(e=E["$[]"]("square_bracket"),!1!==e&&e!==h&&null!=e?T:e));E["$[]="]("macroish_short_form",(e=(g=E["$[]"]("square_bracket"),!1!==g&&g!==h&&null!=g?T:g),!1!==e&&e!==h&&null!=e?c["$include?"](":["):e));S=this.document.$attributes()["$has_key?"]("linkattrs");O=this.document.$attributes()["$has_key?"]("experimental");ga=""+c;!1!==O&&O!==h&&null!=O&&((e=(g=E["$[]"]("macroish_short_form"),
!1!==g&&g!==h&&null!=g?!1!==(k=ga["$include?"]("kbd:"))&&k!==h&&null!=k?k:ga["$include?"]("btn:"):g))===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=(g=ga).$gsub,e.$$p=(l=function(){var a=l.$$s||this,b,c,e,g=h,k=h,g=g=h;null==v["~"]&&(v["~"]=h);g=v["~"];if((b=(k=g["$[]"](0))["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return k["$[]"](w(1,-1,!1));if((b=k["$start_with?"]("kbd"))===h||null==b||b.$$is_boolean&&1!=b){if((b=k["$start_with?"]("btn"))===h||null==b||b.$$is_boolean&&1!=b)return h;
g=a.$unescape_bracketed_text(g["$[]"](1));return f.get("Inline").$new(a,"button",g).$convert()}g=a.$unescape_bracketed_text(g["$[]"](1));g=g["$=="]("+")?["+"]:(b=(c=g.$split(f.get("KbdDelimiterRx"))).$inject,b.$$p=(e=function(a,b){var c;null==a&&(a=h);null==b&&(b=h);if((c=b["$end_with?"]("++"))===h||null==c||c.$$is_boolean&&1!=c)a["$<<"](b.$strip());else a["$<<"](b["$[]"](w(0,-3,!1)).$strip()),a["$<<"]("+");return a},e.$$s=a,e.$$arity=2,e),b).call(c,[]);return f.get("Inline").$new(a,"kbd",h,d(["attributes"],
{attributes:d(["keys"],{keys:g})})).$convert()},l.$$s=this,l.$$arity=0,l),e).call(g,f.get("KbdBtnInlineMacroRx"))),(e=(k=E["$[]"]("macroish"),!1!==k&&k!==h&&null!=k?ga["$include?"]("menu:"):k))===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=(k=ga).$gsub,e.$$p=(m=function(){var a=m.$$s||this,b,c,e,g=h,k=h,l=g=k=h,l=g=h;null==v["~"]&&(v["~"]=h);g=v["~"];if((b=(k=g["$[]"](0))["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return k["$[]"](w(1,-1,!1));k=g["$[]"](1);g=g["$[]"](2);(b=g["$!"]())===
h||null==b||b.$$is_boolean&&1!=b?(b=l=(c=g["$include?"]("&gt;"))===h||null==c||c.$$is_boolean&&1!=c?(c=g["$include?"](","))===h||null==c||c.$$is_boolean&&1!=c?h:",":"&gt;")===h||null==b||b.$$is_boolean&&1!=b?(l=[],g=g.$rstrip()):(l=(b=(c=g.$split(l)).$map,b.$$p=(e=function(a){null==a&&(a=h);return a.$strip()},e.$$s=a,e.$$arity=1,e),b).call(c),g=l.$pop()):(l=[],g=h);return f.get("Inline").$new(a,"menu",h,d(["attributes"],{attributes:d(["menu","submenus","menuitem"],{menu:k,submenus:l,menuitem:g})})).$convert()},
m.$$s=this,m.$$arity=0,m),e).call(k,f.get("MenuInlineMacroRx"))),(e=(n=ga["$include?"]('"'),!1!==n&&n!==h&&null!=n?ga["$include?"]("&gt;"):n))===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=(n=ga).$gsub,e.$$p=(p=function(){var c=p.$$s||this,e,g,k,l,m,n=h,x=h;g=x=n=n=h;null==v["~"]&&(v["~"]=h);n=v["~"];if((e=(x=n["$[]"](0))["$start_with?"]("\\"))!==h&&null!=e&&(!e.$$is_boolean||1==e))return x["$[]"](w(1,-1,!1));n=n["$[]"](1);g=(k=(l=n.$split("&gt;")).$map,k.$$p=(m=function(a){null==a&&(a=h);return a.$strip()},
m.$$s=c,m.$$arity=1,m),k).call(l);e=a.to_ary(g);n=null==e[0]?h:e[0];x=b.call(e,1);g;g=x.$pop();return f.get("Inline").$new(c,"menu",h,d(["attributes"],{attributes:d(["menu","submenus","menuitem"],{menu:n,submenus:x,menuitem:g})})).$convert()},p.$$s=this,p.$$arity=0,p),e).call(n,f.get("MenuInlineRx"))));(e=(u=ya=this.document.$extensions(),!1!==u&&u!==h&&null!=u?ya["$inline_macros?"]():u))===h||null==e||e.$$is_boolean&&1!=e||(e=(u=ya.$inline_macros()).$each,e.$$p=(r=function(a){var b=r.$$s||this,c,
f,e;null==a&&(a=h);return ga=(c=(f=ga).$gsub,c.$$p=(e=function(){var b=e.$$s||this,c,f=h,g=h,f=h;null==v["~"]&&(v["~"]=h);f=v["~"];if((c=f["$[]"](0)["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return f["$[]"](0)["$[]"](w(1,-1,!1));g=f["$[]"](1);f=a.$config()["$[]"]("format")["$=="]("short")?d([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?b.$parse_attributes(f["$[]"](2),!1!==(c=a.$config()["$[]"]("pos_attrs"))&&c!==h&&null!=c?c:[],d(["sub_input","unescape_input"],
{sub_input:!0,unescape_input:!0})):d(["text"],{text:b.$unescape_bracketed_text(f["$[]"](2))});return a.$process_method()["$[]"](b,g,f)},e.$$s=b,e.$$arity=0,e),c).call(f,a.$instance().$regexp())},r.$$s=this,r.$$arity=1,r),e).call(u);(e=(q=E["$[]"]("macroish"),!1!==q&&q!==h&&null!=q?!1!==(A=ga["$include?"]("image:"))&&A!==h&&null!=A?A:ga["$include?"]("icon:"):q))===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=(q=ga).$gsub,e.$$p=(y=function(){var a=y.$$s||this,b,c,e,g=h,k=c=h,l=h,l=g=h;null==a.document&&
(a.document=h);null==v["~"]&&(v["~"]=h);g=v["~"];if((b=g["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return g["$[]"](0)["$[]"](w(1,-1,!1));c=a.$unescape_bracketed_text(g["$[]"](2));(b=g["$[]"](0)["$start_with?"]("icon:"))===h||null==b||b.$$is_boolean&&1!=b?(k="image",l=["alt","width","height"]):(k="icon",l=["size"]);g=a.$sub_attributes(g["$[]"](1));k["$=="]("icon")||a.document.$register("images",g);l=a.$parse_attributes(c,l);b="alt";c=l;!1!==(e=c["$[]"](b))&&e!==h&&null!=
e?e:c["$[]="](b,f.get("Helpers").$basename(g,!0).$tr("_-"," "));return f.get("Inline").$new(a,"image",h,d(["type","target","attributes"],{type:k,target:g,attributes:l})).$convert()},y.$$s=this,y.$$arity=0,y),e).call(q,f.get("ImageInlineMacroRx")));(e=!1!==(A=E["$[]"]("macroish_short_form"))&&A!==h&&null!=A?A:E["$[]"]("round_bracket"))===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=(A=ga).$gsub,e.$$p=(X=function(){var b=X.$$s||this,c,e,g=h,k=h,l=h,m=h,g=g=h;null==b.document&&(b.document=h);null==v["~"]&&
(v["~"]=h);g=v["~"];if((c=g["$[]"](0)["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return g["$[]"](0)["$[]"](w(1,-1,!1));if((c=a.get("RUBY_ENGINE_OPAL"))!==h&&null!=c&&(!c.$$is_boolean||1==c)&&g["$[]"](1)["$=="](""))g["$[]="](1,h);k=0;l=h;if((c=m=g["$[]"](1))===h||null==c||c.$$is_boolean&&1!=c)l=g["$[]"](3),(c=(e=l["$start_with?"]("("),!1!==e&&e!==h&&null!=e?l["$end_with?"](")"):e))===h||null==c||c.$$is_boolean&&1!=c?k=2:(l=l["$[]"](w(1,-1,!0)),k=3);if((c=!1!==(e=m["$=="]("indexterm"))&&
e!==h&&null!=e?e:k["$=="](3))===h||null==c||c.$$is_boolean&&1!=c)return g=(c=m["$!"]())===h||null==c||c.$$is_boolean&&1!=c?b.$normalize_string(g["$[]"](2),!0):b.$normalize_string(l),b.document.$register("indexterms",[g]),f.get("Inline").$new(b,"indexterm",g,d(["type"],{type:"visible"})).$convert();g=(c=m["$!"]())===h||null==c||c.$$is_boolean&&1!=c?b.$split_simple_csv(b.$normalize_string(g["$[]"](2),!0)):b.$split_simple_csv(b.$normalize_string(l));b.document.$register("indexterms",[].concat(a.to_a(g)));
return f.get("Inline").$new(b,"indexterm",h,d(["attributes"],{attributes:d(["terms"],{terms:g})})).$convert()},X.$$s=this,X.$$arity=0,X),e).call(A,f.get("IndextermInlineMacroRx")));(e=(c=!1!==T&&T!==h&&null!=T)?ga["$include?"]("://"):T)===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=(c=ga).$gsub,e.$$p=(z=function(){var b=z.$$s||this,c,e,g,k,l=h,m=h,n=h,x=h,p=h,u=p=h,l=h;null==b.document&&(b.document=h);null==v["~"]&&(v["~"]=h);l=v["~"];if((c=l["$[]"](2)["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||
1==c))return""+l["$[]"](1)+l["$[]"](2)["$[]"](w(1,-1,!1))+l["$[]"](3);if((c=a.get("RUBY_ENGINE_OPAL"))!==h&&null!=c&&(!c.$$is_boolean||1==c)&&l["$[]"](3)["$=="](""))l["$[]="](3,h);if((c=(e=l["$[]"](1)["$=="]("link:"))?l["$[]"](3)["$!"]():l["$[]"](1)["$=="]("link:"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return l["$[]"](0);m=(c=l["$[]"](1)["$!="]("link:"))===h||null==c||c.$$is_boolean&&1!=c?"":l["$[]"](1);n=l["$[]"](2);x="";if((c=!1!==(e=l["$[]"](3))&&e!==h&&null!=e?e:n["$!~"](f.get("UriTerminator")))===
h||null==c||c.$$is_boolean&&1!=c)p=v["~"]["$[]"](0),")"["$==="](p)?(n=n["$[]"](w(0,-2,!1)),x=")"):";"["$==="](p)?(c=(e=m["$start_with?"]("&lt;"),!1!==e&&e!==h&&null!=e?n["$end_with?"]("&gt;"):e))===h||null==c||c.$$is_boolean&&1!=c?(c=n["$end_with?"](");"))===h||null==c||c.$$is_boolean&&1!=c?(n=n["$[]"](w(0,-2,!1)),x=";"):(n=n["$[]"](w(0,-3,!1)),x=");"):(m=m["$[]"](w(4,-1,!1)),n=n["$[]"](w(0,-5,!1))):":"["$==="](p)&&((c=n["$end_with?"]("):"))===h||null==c||c.$$is_boolean&&1!=c?(n=n["$[]"](w(0,-2,!1)),
x=":"):(n=n["$[]"](w(0,-3,!1)),x="):"));b.document.$register("links",n);p=d(["type","target"],{type:"link",target:n});u=h;if((c=l["$[]"](3)["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c){if((c=!1!==S&&S!==h&&null!=S?!1!==(g=l["$[]"](3)["$start_with?"]('"'))&&g!==h&&null!=g?g:(k=l["$[]"](3)["$include?"](","),!1!==k&&k!==h&&null!=k?l["$[]"](3)["$include?"]("="):k):S)===h||null==c||c.$$is_boolean&&1!=c)l=b.$sub_attributes(l["$[]"](3).$gsub("\\]","]"));else{u=b.$parse_attributes(b.$sub_attributes(l["$[]"](3).$gsub("\\]",
"]")),[]);if((c=u["$has_key?"]("id"))!==h&&null!=c&&(!c.$$is_boolean||1==c))p["$[]="]("id",u.$delete("id"));l=!1!==(c=u["$[]"](1))&&c!==h&&null!=c?c:""}(c=l["$end_with?"]("^"))===h||null==c||c.$$is_boolean&&1!=c||(l=l.$chop(),!1!==u&&u!==h&&null!=u?(c="window",e=u,!1!==(g=e["$[]"](c))&&g!==h&&null!=g?g:e["$[]="](c,"_blank")):u=d(["window"],{window:"_blank"}))}else l="";if((c=l["$empty?"]())!==h&&null!=c&&(!c.$$is_boolean||1==c))if(l=(c=b.document["$attr?"]("hide-uri-scheme"))===h||null==c||c.$$is_boolean&&
1!=c?n:n.$sub(f.get("UriSniffRx"),""),!1!==u&&u!==h&&null!=u)u["$[]="]("role",("bare "+u["$[]"]("role")).$chomp(" "));else u=d(["role"],{role:"bare"});if(!1!==u&&u!==h&&null!=u)p["$[]="]("attributes",u);return""+m+f.get("Inline").$new(b,"anchor",l,p).$convert()+x},z.$$s=this,z.$$arity=0,z),e).call(c,f.get("LinkInlineRx")));(e=!1!==(Q=(H=E["$[]"]("macroish"),!1!==H&&H!==h&&null!=H?ga["$include?"]("link:"):H))&&Q!==h&&null!=Q?Q:ga["$include?"]("mailto:"))===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=
(Q=ga).$gsub,e.$$p=(t=function(){var a=t.$$s||this,b,c,e,g=h,k=h,l=h,m=c=h,n=h,g=h;null==a.document&&(a.document=h);null==v["~"]&&(v["~"]=h);g=v["~"];if((b=g["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return g["$[]"](0)["$[]"](w(1,-1,!1));k=g["$[]"](1);l=g["$[]"](0)["$start_with?"]("mailto:");c=!1!==l&&l!==h&&null!=l?"mailto:"+k:k;m=d(["type","target"],{type:"link",target:c});n=h;if((b=!1!==S&&S!==h&&null!=S?!1!==(e=g["$[]"](2)["$start_with?"]('"'))&&e!==h&&null!=e?e:g["$[]"](2)["$include?"](","):
S)===h||null==b||b.$$is_boolean&&1!=b)g=a.$sub_attributes(g["$[]"](2).$gsub("\\]","]"));else{n=a.$parse_attributes(a.$sub_attributes(g["$[]"](2).$gsub("\\]","]")),[]);if((b=n["$key?"]("id"))!==h&&null!=b&&(!b.$$is_boolean||1==b))m["$[]="]("id",n.$delete("id"));!1===l||l===h||null==l||(b=n["$key?"](2))===h||null==b||b.$$is_boolean&&1!=b||(c=m["$[]="]("target",""+c+"?subject="+f.get("Helpers").$encode_uri(n["$[]"](2))),(b=n["$key?"](3))===h||null==b||b.$$is_boolean&&1!=b||(c=m["$[]="]("target",""+c+
"&amp;body="+f.get("Helpers").$encode_uri(n["$[]"](3)))));g=n["$[]"](1)}a.document.$register("links",c);(b=g["$end_with?"]("^"))===h||null==b||b.$$is_boolean&&1!=b||(g=g.$chop(),!1!==n&&n!==h&&null!=n?(b="window",c=n,!1!==(e=c["$[]"](b))&&e!==h&&null!=e?e:c["$[]="](b,"_blank")):n=d(["window"],{window:"_blank"}));if((b=g["$empty?"]())!==h&&null!=b&&(!b.$$is_boolean||1==b))if(!1!==l&&l!==h&&null!=l)g=k;else if(g=(b=a.document["$attr?"]("hide-uri-scheme"))===h||null==b||b.$$is_boolean&&1!=b?k:k.$sub(f.get("UriSniffRx"),
""),!1!==n&&n!==h&&null!=n)n["$[]="]("role",("bare "+n["$[]"]("role")).$chomp(" "));else n=d(["role"],{role:"bare"});if(!1!==n&&n!==h&&null!=n)m["$[]="]("attributes",n);return f.get("Inline").$new(a,"anchor",g,m).$convert()},t.$$s=this,t.$$arity=0,t),e).call(Q,f.get("LinkInlineMacroRx")));(e=ga["$include?"]("@"))===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=(H=ga).$gsub,e.$$p=(U=function(){var a=U.$$s||this,b,c=h,e=h,c=c=h;null==a.document&&(a.document=h);null==v["~"]&&(v["~"]=h);c=v["~"];e=c["$[]"](0);
if((b=c=c["$[]"](1))!==h&&null!=b&&(!b.$$is_boolean||1==b))return"\\"["$==="](c)?e["$[]"](w(1,-1,!1)):e;c="mailto:"+e;a.document.$register("links",c);return f.get("Inline").$new(a,"anchor",e,d(["type","target"],{type:"link",target:c})).$convert()},U.$$s=this,U.$$arity=0,U),e).call(H,f.get("EmailInlineMacroRx")));(e=(qa=E["$[]"]("macroish_short_form"),!1!==qa&&qa!==h&&null!=qa?ga["$include?"]("footnote"):qa))===h||null==e||e.$$is_boolean&&1!=e||(ga=(e=(qa=ga).$gsub,e.$$p=(oa=function(){var b=oa.$$s||
this,c,e,g,k,l=h,m=h,n=e=l=h,x=h,l=h;null==b.document&&(b.document=h);null==v["~"]&&(v["~"]=h);l=v["~"];if((c=l["$[]"](0)["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return l["$[]"](0)["$[]"](w(1,-1,!1));l["$[]"](1)["$=="]("footnote")?(m=h,l=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(l["$[]"](2),!0))),!1),e=b.document.$counter("footnote-number"),b.document.$register("footnotes",f.get("Document").$$scope.get("Footnote").$new(e,m,l)),x=n=h):
(e=l["$[]"](2).$split(",",2),c=a.to_ary(e),m=null==c[0]?h:c[0],l=null==c[1]?h:c[1],e,m=m.$strip(),(c=l["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c?(l=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(l,!0))),!1),e=b.document.$counter("footnote-number"),b.document.$register("footnotes",f.get("Document").$$scope.get("Footnote").$new(e,m,l)),n="ref",x=h):((c=l=(e=(g=b.document.$references()["$[]"]("footnotes")).$find,e.$$p=(k=function(a){null==a&&(a=h);
return a.$id()["$=="](m)},k.$$s=b,k.$$arity=1,k),e).call(g))===h||null==c||c.$$is_boolean&&1!=c?(e=h,l=m):(e=l.$index(),l=l.$text()),x=m,m=h,n="xref"));return f.get("Inline").$new(b,"footnote",l,d(["attributes","id","target","type"],{attributes:d(["index"],{index:e}),id:m,target:x,type:n})).$convert()},oa.$$s=this,oa.$$arity=0,oa),e).call(qa,f.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(ga,E),E)},Q.$$arity=1);a.defn(k,"$sub_inline_anchors",A=function(b,c){var e,
g,k,l,m,n,p;null==c&&(c=h);(e=(g=!1!==(k=c["$!"]())&&k!==h&&null!=k?k:c["$[]"]("square_bracket"),!1!==g&&g!==h&&null!=g?b["$include?"]("[[["):g))===h||null==e||e.$$is_boolean&&1!=e||(b=(e=(g=b).$gsub,e.$$p=(l=function(){var a=l.$$s||this,b,c=h,e=c=h;null==v["~"]&&(v["~"]=h);c=v["~"];if((b=c["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return c["$[]"](0)["$[]"](w(1,-1,!1));c=e=c["$[]"](1);return f.get("Inline").$new(a,"anchor",e,d(["type","target"],{type:"bibref",target:c})).$convert()},
l.$$s=this,l.$$arity=0,l),e).call(g,f.get("InlineBiblioAnchorRx")));(e=!1!==(k=(m=!1!==(n=c["$!"]())&&n!==h&&null!=n?n:c["$[]"]("square_bracket"),!1!==m&&m!==h&&null!=m?b["$include?"]("[["):m))&&k!==h&&null!=k?k:(m=!1!==(n=c["$!"]())&&n!==h&&null!=n?n:c["$[]"]("macroish"),!1!==m&&m!==h&&null!=m?b["$include?"]("anchor:"):m))===h||null==e||e.$$is_boolean&&1!=e||(b=(e=(k=b).$gsub,e.$$p=(p=function(){var b=p.$$s||this,c,e,g=h,k=h,g=h;null==v["~"]&&(v["~"]=h);g=v["~"];if((c=g["$[]"](0)["$start_with?"]("\\"))!==
h&&null!=c&&(!c.$$is_boolean||1==c))return g["$[]"](0)["$[]"](w(1,-1,!1));if((c=a.get("RUBY_ENGINE_OPAL"))!==h&&null!=c&&(!c.$$is_boolean||1==c)){if(g["$[]"](1)["$=="](""))g["$[]="](1,h);if(g["$[]"](2)["$=="](""))g["$[]="](2,h);if(g["$[]"](4)["$=="](""))g["$[]="](4,h)}k=!1!==(c=g["$[]"](1))&&c!==h&&null!=c?c:g["$[]"](3);g=!1!==(c=!1!==(e=g["$[]"](2))&&e!==h&&null!=e?e:g["$[]"](4))&&c!==h&&null!=c?c:"["+k+"]";return f.get("Inline").$new(b,"anchor",g,d(["type","target"],{type:"ref",target:k})).$convert()},
p.$$s=this,p.$$arity=0,p),e).call(k,f.get("InlineAnchorRx")));return b},A.$$arity=-2);a.defn(k,"$sub_inline_xrefs",r=function(b,c){var e,g,k,l;null==c&&(c=h);(e=!1!==(g=!1!==(k=c["$!"]())&&k!==h&&null!=k?k:c["$[]"]("macroish"))&&g!==h&&null!=g?g:b["$include?"]("&lt;&lt;"))===h||null==e||e.$$is_boolean&&1!=e||(b=(e=(g=b).$gsub,e.$$p=(l=function(){var b=l.$$s||this,c,e,g,k,m,n,x=h,p=h,u=h,r=p=x=h,t=h,r=h;null==b.document&&(b.document=h);null==v["~"]&&(v["~"]=h);x=v["~"];if((c=x["$[]"](0)["$start_with?"]("\\"))!==
h&&null!=c&&(!c.$$is_boolean||1==c))return x["$[]"](0)["$[]"](w(1,-1,!1));if((c=a.get("RUBY_ENGINE_OPAL"))!==h&&null!=c&&(!c.$$is_boolean||1==c)&&x["$[]"](1)["$=="](""))x["$[]="](1,h);if((c=x["$[]"](1))===h||null==c||c.$$is_boolean&&1!=c){if(p=x["$[]"](2),(c=x["$[]"](3)["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c)u=x["$[]"](3)}else e=(g=(k=x["$[]"](1).$split(",",2)).$map,g.$$p=(m=function(a){null==a&&(a=h);return a.$strip()},m.$$s=b,m.$$arity=1,m),g).call(k),c=a.to_ary(e),p=null==c[0]?
h:c[0],u=null==c[1]?h:c[1],e,p=p.$sub(f.get("DoubleQuotedRx"),"\\2"),u=(c=u["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c?u.$sub(f.get("DoubleQuotedMultiRx"),"\\2"):h;(c=p["$include?"]("#"))===h||null==c||c.$$is_boolean&&1!=c?x=h:(e=p.$split("#"),c=a.to_ary(e),x=null==c[0]?h:c[0],p=null==c[1]?h:c[1],e);!1!==x&&x!==h&&null!=x?(x=f.get("Helpers").$rootname(x),(c=!1!==(e=b.document.$attributes()["$[]"]("docname")["$=="](x))&&e!==h&&null!=e?e:b.document.$references()["$[]"]("includes")["$include?"](x))===
h||null==c||c.$$is_boolean&&1!=c?(r=!1!==p&&p!==h&&null!=p?""+x+"#"+p:x,x=""+b.document.$attributes()["$[]"]("relfileprefix")+x+b.document.$attributes().$fetch("outfilesuffix",".html"),t=!1!==p&&p!==h&&null!=p?""+x+"#"+p:x):(r=p,x=h,t="#"+p)):((c=(e=(g=b.document.$references()["$[]"]("ids")["$has_key?"](p)["$!"](),!1!==g&&g!==h&&null!=g?!1!==(n=p["$include?"](" "))&&n!==h&&null!=n?n:p.$downcase()["$!="](p):g),!1!==e&&e!==h&&null!=e?r=(g=f.get("RUBY_MIN_VERSION_1_9"))===h||null==g||g.$$is_boolean&&
1!=g?b.document.$references()["$[]"]("ids").$index(p):b.document.$references()["$[]"]("ids").$key(p):e))===h||null==c||c.$$is_boolean&&1!=c||(p=r),r=p,t="#"+p);return f.get("Inline").$new(b,"anchor",u,d(["type","target","attributes"],{type:"xref",target:t,attributes:d(["path","fragment","refid"],{path:x,fragment:p,refid:r})})).$convert()},l.$$s=this,l.$$arity=0,l),e).call(g,f.get("XrefInlineMacroRx")));return b},r.$$arity=-2);a.defn(k,"$sub_callouts",P=function(b){var c,e,g=h,g=(c=this["$attr?"]("line-comment"))===
h||null==c||c.$$is_boolean&&1!=c?f.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+f.get("CalloutSourceRxt"));return(c=b.$gsub,c.$$p=(e=function(){var a=e.$$s||this,b=h;null==a.document&&(a.document=h);null==v["~"]&&(v["~"]=h);b=v["~"];return b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):f.get("Inline").$new(a,"callout",b["$[]"](3),d(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e.$$s=this,e.$$arity=0,e),c).call(b,g)},P.$$arity=
1);a.defn(k,"$sub_post_replacements",S=function(a){var b,c,e,g,k=h,l=h;null==this.document&&(this.document=h);null==this.attributes&&(this.attributes=h);if((b=!1!==(c=this.document.$attributes()["$has_key?"]("hardbreaks"))&&c!==h&&null!=c?c:this.attributes["$has_key?"]("hardbreaks-option"))===h||null==b||b.$$is_boolean&&1!=b)return(b=a["$include?"]("+"))===h||null==b||b.$$is_boolean&&1!=b?a:(b=a.$gsub,b.$$p=(g=function(){var a=g.$$s||this;null==v["~"]&&(v["~"]=h);return f.get("Inline").$new(a,"break",
v["~"]["$[]"](1),d(["type"],{type:"line"})).$convert()},g.$$s=this,g.$$arity=0,g),b).call(a,f.get("LineBreakRx"));k=a.$split(f.get("EOL"));if(k.$size()["$=="](1))return a;l=k.$pop();return n((b=(c=k).$map,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=h);return f.get("Inline").$new(b,"break",a.$rstrip().$chomp(f.get("LINE_BREAK")),d(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=1,e),b).call(c).$push(l),f.get("EOL"))},S.$$arity=1);a.defn(k,"$convert_quoted_text",R=function(a,b,c){var e,
g=h,k=h,l=g=h,g=h;if((e=a["$[]"](0)["$start_with?"]("\\"))!==h&&null!=e&&(!e.$$is_boolean||1==e)){if((e=c["$=="]("constrained")?(k=a["$[]"](2))["$nil_or_empty?"]()["$!"]():c["$=="]("constrained"))===h||null==e||e.$$is_boolean&&1!=e)return a["$[]"](0)["$[]"](w(1,-1,!1));g="["+k+"]"}if(c["$=="]("constrained")){if(!1!==g&&g!==h&&null!=g)return""+g+f.get("Inline").$new(this,"quoted",a["$[]"](3),d(["type"],{type:b})).$convert();(e=g=this.$parse_quoted_text_attributes(a["$[]"](2)))===h||null==e||e.$$is_boolean&&
1!=e?l=h:(l=g.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+f.get("Inline").$new(this,"quoted",a["$[]"](3),d(["type","id","attributes"],{type:b,id:l,attributes:g})).$convert()}(e=g=this.$parse_quoted_text_attributes(a["$[]"](1)))===h||null==e||e.$$is_boolean&&1!=e?l=h:(l=g.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return f.get("Inline").$new(this,"quoted",a["$[]"](2),d(["type","id","attributes"],{type:b,id:l,attributes:g})).$convert()},R.$$arity=3);a.defn(k,"$parse_quoted_text_attributes",
Z=function(c){var g,k,l,m=h,p=h,u=h,u=m=h;if(!1===c||c===h||null==c)return h;if((g=c["$empty?"]())!==h&&null!=g&&(!g.$$is_boolean||1==g))return d([],{});(g=c["$include?"]("{"))===h||null==g||g.$$is_boolean&&1!=g||(c=this.$sub_attributes(c));c=c.$strip();(g=c["$include?"](","))===h||null==g||g.$$is_boolean&&1!=g||(k=c.$split(",",2),g=a.to_ary(k),c=null==g[0]?h:g[0],k);if((g=c["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g){if((g=(k=!1!==(l=c["$start_with?"]("."))&&l!==h&&null!=l?l:c["$start_with?"]("#"),
!1!==k&&k!==h&&null!=k?f.get("Compliance").$shorthand_property_syntax():k))===h||null==g||g.$$is_boolean&&1!=g)return d(["role"],{role:c});m=c.$split("#",2);(g=e(m.$length(),1))===h||null==g||g.$$is_boolean&&1!=g?(p=h,u=[]):(k=m["$[]"](1).$split("."),g=a.to_ary(k),p=null==g[0]?h:g[0],u=b.call(g,1),k);m=(g=m["$[]"](0)["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g?m["$[]"](0).$split("."):[];(g=e(m.$length(),1))===h||null==g||g.$$is_boolean&&1!=g||m.$shift();(g=e(u.$length(),0))===h||null==g||g.$$is_boolean&&
1!=g||m.$concat(u);u=d([],{});if(!1!==p&&p!==h&&null!=p)u["$[]="]("id",p);if((g=m["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g)u["$[]="]("role",n(m," "));return u}return d([],{})},Z.$$arity=1);a.defn(k,"$parse_attributes",aa=function(a,b,c){var e,g=h,k=h;null==this.document&&(this.document=h);null==b&&(b=["role"]);null==c&&(c=d([],{}));if(!1===a||a===h||null==a)return h;if((e=a["$empty?"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return d([],{});(e=c["$[]"]("sub_input"))===h||null==e||e.$$is_boolean&&
1!=e||(a=this.document.$sub_attributes(a));(e=c["$[]"]("unescape_input"))===h||null==e||e.$$is_boolean&&1!=e||(a=this.$unescape_bracketed_text(a));g=h;(e=c.$fetch("sub_result",!0))===h||null==e||e.$$is_boolean&&1!=e||(g=this);return(e=k=c["$[]"]("into"))===h||null==e||e.$$is_boolean&&1!=e?f.get("AttributeList").$new(a,g).$parse(b):f.get("AttributeList").$new(a,g).$parse_into(k,b)},aa.$$arity=-2);a.defn(k,"$unescape_bracketed_text",V=function(a){var b;return(b=a["$empty?"]())===h||null==b||b.$$is_boolean&&
1!=b?a.$strip().$tr(f.get("EOL")," ").$gsub("\\]","]"):""},V.$$arity=1);a.defn(k,"$normalize_string",O=function(a,b){var c;null==b&&(b=!1);return(c=a["$empty?"]())===h||null==c||c.$$is_boolean&&1!=c?!1!==b&&b!==h&&null!=b?this.$unescape_brackets(a.$strip().$tr(f.get("EOL")," ")):a.$strip().$tr(f.get("EOL")," "):""},O.$$arity=-2);a.defn(k,"$unescape_brackets",T=function(a){var b;return(b=a["$empty?"]())===h||null==b||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""},T.$$arity=1);a.defn(k,"$split_simple_csv",
Y=function(a){var b,c,d,f,e=h,g=h,k=h;(b=a["$empty?"]())===h||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===h||null==b||b.$$is_boolean&&1!=b?e=(b=(d=a.$split(",")).$map,b.$$p=(f=function(a){null==a&&(a=h);return a.$strip()},f.$$s=this,f.$$arity=1,f),b).call(d):(e=[],g=[],k=!1,(b=a.$each_char,b.$$p=(c=function(a){var b=h;null==a&&(a=h);return function(){b=a;if(","["$==="](b)){if(!1!==k&&k!==h&&null!=k)return g.$push(a);e["$<<"](g.$join().$strip());return g=[]}return'"'["$==="](b)?k=k["$!"]():
g.$push(a)}()},c.$$s=this,c.$$arity=1,c),b).call(a),e["$<<"](g.$join().$strip())):e=[];return e},Y.$$arity=1);a.defn(k,"$resolve_subs",X=function(a,b,c,d){var k,m,p,u=h,r=h,q=h,A=h;null==b&&(b="block");null==c&&(c=h);null==d&&(d=h);if((k=a["$nil_or_empty?"]())!==h&&null!=k&&(!k.$$is_boolean||1==k))return[];u=h;r=f.get("SubModifierSniffRx")["$=~"](a);(k=(m=a.$tr(" ","").$split(",")).$each,k.$$p=(p=function(a){var d,e,k,m=h,n=e=e=e=h,m=h;null==a&&(a=h);m=h;!1!==r&&r!==h&&null!=r&&((e=a.$chr())["$=="]("+")?
(m="append",a=a["$[]"](w(1,-1,!1))):e["$=="]("-")?(m="remove",a=a["$[]"](w(1,-1,!1))):(d=a["$end_with?"]("+"))===h||null==d||d.$$is_boolean&&1!=d||(m="prepend",a=a.$chop()));a=a.$to_sym();(d=(e=b["$=="]("inline"))?!1!==(k=a["$=="]("verbatim"))&&k!==h&&null!=k?k:a["$=="]("v"):b["$=="]("inline"))===h||null==d||d.$$is_boolean&&1!=d?(d=f.get("COMPOSITE_SUBS")["$key?"](a))===h||null==d||d.$$is_boolean&&1!=d?(d=(e=b["$=="]("inline")?a.$length()["$=="](1):b["$=="]("inline"),!1!==e&&e!==h&&null!=e?f.get("SUB_SYMBOLS")["$key?"](a):
e))===h||null==d||d.$$is_boolean&&1!=d?e=[a]:(e=f.get("SUB_SYMBOLS")["$[]"](a),e=(d=n=f.get("COMPOSITE_SUBS")["$[]"](e))===h||null==d||d.$$is_boolean&&1!=d?[e]:n):e=f.get("COMPOSITE_SUBS")["$[]"](a):e=["specialcharacters"];if(!1!==m&&m!==h&&null!=m)return!1!==(d=u)&&d!==h&&null!=d?d:u=!1!==c&&c!==h&&null!=c?c.$dup():[],"append"["$==="](m)?u=l(u,e):"prepend"["$==="](m)?u=l(e,u):"remove"["$==="](m)?u=g(u,e):h;!1!==(d=u)&&d!==h&&null!=d?d:u=[];return u=l(u,e)},p.$$s=this,p.$$arity=1,p),k).call(m);q=
u["$&"](f.get("SUB_OPTIONS")["$[]"](b));if((k=g(u,q)["$empty?"]())===h||null==k||k.$$is_boolean&&1!=k)A=g(u,q),this.$warn("asciidoctor: WARNING: invalid substitution type"+((k=e(A.$size(),1))===h||null==k||k.$$is_boolean&&1!=k?"":"s")+(!1!==d&&d!==h&&null!=d?" for ":h)+d+": "+n(A,", "));return q},X.$$arity=-2);a.defn(k,"$resolve_block_subs",ea=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},ea.$$arity=3);a.defn(k,"$resolve_pass_subs",ha=function(a){return this.$resolve_subs(a,"inline",h,
"passthrough macro")},ha.$$arity=1);a.defn(k,"$highlight_source",ia=function(b,c,e){var g,k,m,p,u,r=h,q=h,A=h,y=h,X=h,z=h,Q=h,E=q=h,H=h,t=r=h,U=h;null==this.document&&(this.document=h);null==this.passthroughs&&(this.passthroughs=h);null==e&&(e=h);r=!1!==(g=e)&&g!==h&&null!=g?g:e=this.document.$attributes()["$[]"]("source-highlighter");if("coderay"["$==="](r)){if((g=!1!==(k=q=null==a.Object.$$scope.CodeRay?h:"constant")&&k!==h&&null!=k?k:this.document.$attributes()["$[]"]("coderay-unavailable"))===
h||null==g||g.$$is_boolean&&1!=g)(g=f.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===h||null==g||g.$$is_boolean&&1!=g?q=!0:this.document.$set_attr("coderay-unavailable","")}else if("pygments"["$==="](r)){if((g=!1!==(k=q=null==a.Object.$$scope.Pygments?h:"constant")&&k!==h&&null!=k?k:this.document.$attributes()["$[]"]("pygments-unavailable"))===h||null==g||g.$$is_boolean&&1!=g)(g=f.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===h||null==g||g.$$is_boolean&&
1!=g?q=!0:this.document.$set_attr("pygments-unavailable","")}else q=!1;if(!1===q||q===h||null==q)return this.$sub_source(b,c);A=0;y=!1;!1!==c&&c!==h&&null!=c?(X=d([],{}),z=-1,Q=(g=this["$attr?"]("line-comment"))===h||null==g||g.$$is_boolean&&1!=g?f.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+f.get("CalloutExtractRxt")),b=n((g=(k=b.$split(f.get("EOL"))).$map,g.$$p=(m=function(a){var b=m.$$s||this,c,d,f;null==a&&(a=h);A=l(A,1);return(c=(d=a).$gsub,
c.$$p=(f=function(){var a,b,c,d=h;null==v["~"]&&(v["~"]=h);d=v["~"];if(d["$[]"](1)["$=="]("\\"))return d["$[]"](0).$sub("\\","");(a=A,b=X,!1!==(c=b["$[]"](a))&&c!==h&&null!=c?c:b["$[]="](a,[]))["$<<"](d["$[]"](3));z=A;return h},f.$$s=b,f.$$arity=0,f),c).call(d,Q)},m.$$s=this,m.$$arity=1,m),g).call(k),f.get("EOL")),y=z["$=="](A),(g=X["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g||(X=h)):X=h;E=q=h;r=e;if("coderay"["$==="](r))(g=q=(p=this["$attr?"]("linenums"))===h||null==p||p.$$is_boolean&&1!=p?
h:(!1!==(p=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&p!==h&&null!=p?p:"table").$to_sym())===h||null==g||g.$$is_boolean&&1!=g||(g=this["$attr?"]("highlight",h,!1))===h||null==g||g.$$is_boolean&&1!=g||(E=this.$resolve_highlight_lines(this.$attr("highlight",h,!1))),H=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",d(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(g=this.document.$attributes()["$[]"]("coderay-css"))&&
g!==h&&null!=g?g:"class").$to_sym(),line_numbers:q,line_number_anchors:!1,highlight_lines:E,bold_every:!1})).$highlight(b);else if("pygments"["$==="](r)){r=!1!==(g=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",h,!1)))&&g!==h&&null!=g?g:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");t=d(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(g=this.document.$attributes()["$[]"]("pygments-css"))&&g!==h&&null!=g?g:"class")["$=="]("class")||
(t["$[]="]("noclasses",!0),t["$[]="]("style",!1!==(g=this.document.$attributes()["$[]"]("pygments-style"))&&g!==h&&null!=g?g:f.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((g=this["$attr?"]("highlight",h,!1))!==h&&null!=g&&(!g.$$is_boolean||1==g)&&((g=(E=this.$resolve_highlight_lines(this.$attr("highlight",h,!1)))["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g))t["$[]="]("hl_lines",n(E," "));(g=this["$attr?"]("linenums"))===h||null==g||g.$$is_boolean&&1!=g?(t["$[]="]("nowrap",!0),
H=r.$highlight(b,d(["options"],{options:t}))):t["$[]="]("linenos",!1!==(g=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&g!==h&&null!=g?g:"table")["$=="]("table")?(q="table",H=r.$highlight(b,d(["options"],{options:t})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):H=r.$highlight(b,d(["options"],{options:t})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((g=this.passthroughs["$empty?"]())===h||null==g||g.$$is_boolean&&1!=
g)H=H.$gsub(f.get("PASS_MATCH_HI"),""+f.get("PASS_START")+"\\1"+f.get("PASS_END"));if((g=(p=!1!==c&&c!==h&&null!=c)?X:c)===h||null==g||g.$$is_boolean&&1!=g)return H;A=0;U=q["$!="]("table");return n((g=(p=H.$split(f.get("EOL"))).$map,g.$$p=(u=function(a){var b=u.$$s||this,c,e,g,k=h,m=h,p=h,k=h;null==b.document&&(b.document=h);null==a&&(a=h);if(!1===U||U===h||null==U){if((c=a["$include?"]('<td class="code">'))===h||null==c||c.$$is_boolean&&1!=c)return a;U=!0}A=l(A,1);if((c=k=X.$delete(A))===h||null==
c||c.$$is_boolean&&1!=c)return a;m=h;(c=(e=!1!==y&&y!==h&&null!=y)?X["$empty?"]():y)===h||null==c||c.$$is_boolean&&1!=c||((c=p=a.$index("</pre>"))===h||null==c||c.$$is_boolean&&1!=c?a=""+a.$chomp(" ")+" ":(m=a["$[]"](w(p,-1,!1)),a=""+a["$[]"](w(0,p,!0)).$chomp(" ")+" "));if(k.$size()["$=="](1))return""+a+f.get("Inline").$new(b,"callout",k["$[]"](0),d(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()+m;k=n((c=(e=k).$map,c.$$p=(g=function(a){var b=g.$$s||this;null==b.document&&(b.document=
h);null==a&&(a=h);return f.get("Inline").$new(b,"callout",a,d(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},g.$$s=b,g.$$arity=1,g),c).call(e)," ");return""+a+k+m},u.$$s=this,u.$$arity=1,u),g).call(p),f.get("EOL"))},ia.$$arity=-3);a.defn(k,"$resolve_highlight_lines",ka=function(b){var c,d,e,k=h,k=[];(c=(d=b.$delete(" ").$split(f.get("DataDelimiterRx"))).$map,c.$$p=(e=function(b){var c,d=h,f=h,e=h,f=h;null==b&&(b=h);d=!1;(c=b["$start_with?"]("!"))===h||null==c||c.$$is_boolean&&1!=
c||(b=b["$[]"](w(1,-1,!1)),d=!0);if((c=b["$include?"]("-"))===h||null==c||c.$$is_boolean&&1!=c)return!1!==d&&d!==h&&null!=d?k.$delete(b.$to_i()):k["$<<"](b.$to_i());b=b.$split("-",2);c=a.to_ary(b);f=null==c[0]?h:c[0];e=null==c[1]?h:c[1];b;f=w(f.$to_i(),e.$to_i(),!1).$to_a();return!1!==d&&d!==h&&null!=d?k=g(k,f):k.$concat(f)},e.$$s=this,e.$$arity=1,e),c).call(d);return k.$sort().$uniq()},ka.$$arity=1);a.defn(k,"$sub_source",la=function(a,b){return!1!==b&&b!==h&&null!=b?this.$sub_callouts(this.$sub_specialchars(a)):
this.$sub_specialchars(a)},la.$$arity=2);a.defn(k,"$lock_in_subs",fa=function(){var a,b,c,d,e,g=h,k=g=h;null==this.default_subs&&(this.default_subs=h);null==this.content_model&&(this.content_model=h);null==this.context&&(this.context=h);null==this.attributes&&(this.attributes=h);null==this.style&&(this.style=h);null==this.document&&(this.document=h);null==this.subs&&(this.subs=h);if((a=this.default_subs)===h||null==a||a.$$is_boolean&&1!=a)if(g=this.content_model,"simple"["$==="](g))g=f.get("SUBS")["$[]"]("normal");
else if("verbatim"["$==="](g))g=(a=!1!==(b=this.context["$=="]("listing"))&&b!==h&&null!=b?b:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===h||null==a||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?f.get("SUBS")["$[]"]("normal"):f.get("SUBS")["$[]"]("basic"):f.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](g))g=this.context["$=="]("stem")?f.get("SUBS")["$[]"]("basic"):f.get("SUBS")["$[]"]("pass");else return h;else g=this.default_subs;
(a=k=this.attributes["$[]"]("subs"))===h||null==a||a.$$is_boolean&&1!=a?this.subs=g.$dup():this.subs=this.$resolve_block_subs(k,g,this.context);return(a=(b=(c=(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==d&&d!==h&&null!=d?this.attributes["$[]"]("language"):d),!1!==c&&c!==h&&null!=c?this.document["$basebackend?"]("html"):c),!1!==b&&b!==h&&null!=b?f.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===
h||null==a||a.$$is_boolean&&1!=a?h:this.subs=(a=(b=this.subs).$map,a.$$p=(e=function(a){null==a&&(a=h);return a["$=="]("specialcharacters")?"highlight":a},e.$$s=this,e.$$arity=1,e),a).call(b)},fa.$$arity=0)})(c(k,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var e=a.nil,g=a.module,h=a.klass,b=a.hash2,c=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path".split(" "));
return function(d){(function(d,$super){function g(){}var p=g=h(d,$super,"AbstractNode",g),f=p.$$proto,m=p.$$scope,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da;f.document=f.attributes=f.path_resolver=e;p.$include(m.get("Substitutors"));p.$attr_reader("parent");p.$attr_reader("document");p.$attr_reader("context");p.$attr_reader("node_name");p.$attr_accessor("id");p.$attr_reader("attributes");a.defn(p,"$initialize",q=function(a,c,d){var f;null==d&&(d=b([],{}));c["$=="]("document")?
this.document=a:!1!==a&&a!==e&&null!=a?(this.parent=a,this.document=a.$document()):this.document=this.parent=e;this.context=c;this.node_name=c.$to_s();this.attributes=(f=d["$key?"]("attributes"))===e||null==f||f.$$is_boolean&&1!=f?b([],{}):d["$[]"]("attributes").$dup();return this.passthroughs=b([],{})},q.$$arity=-3);a.defn(p,"$parent=",y=function(a){this.parent=a;this.document=a.$document();return e},y.$$arity=1);a.defn(p,"$inline?",I=function(){return this.$raise(a.get("NotImplementedError"))},
I.$$arity=0);a.defn(p,"$block?",E=function(){return this.$raise(a.get("NotImplementedError"))},E.$$arity=0);a.defn(p,"$attr",z=function(b,c,d){var f,g;null==c&&(c=e);null==d&&(d=!0);(f=a.get("Symbol")["$==="](b))===e||null==f||f.$$is_boolean&&1!=f||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return!1!==d&&d!==e&&null!=d?!1!==(f=!1!==(g=this.attributes["$[]"](b))&&g!==e&&null!=g?g:this.document.$attributes()["$[]"](b))&&f!==e&&null!=f?f:c:!1!==(f=this.attributes["$[]"](b))&&f!==e&&null!=f?f:c},
z.$$arity=-2);a.defn(p,"$attr?",u=function(b,c,d){var f;null==c&&(c=e);null==d&&(d=!0);(f=a.get("Symbol")["$==="](b))===e||null==f||f.$$is_boolean&&1!=f||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return(f=c["$nil?"]())===e||null==f||f.$$is_boolean&&1!=f?!1!==d&&d!==e&&null!=d?c["$=="](!1!==(f=this.attributes["$[]"](b))&&f!==e&&null!=f?f:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b)):!1!==(f=this.attributes["$has_key?"](b))&&f!==e&&null!=f?f:!1!==d&&d!==e&&null!=
d?this.document.$attributes()["$has_key?"](b):d},u.$$arity=-2);a.defn(p,"$set_attr",H=function(a,b,c){var d;null==c&&(c=!0);return(d=c["$=="](!1)?this.attributes["$key?"](a):c["$=="](!1))===e||null==d||d.$$is_boolean&&1!=d?(this.attributes["$[]="](a,b),!0):!1},H.$$arity=-3);a.defn(p,"$set_option",L=function(a){var b;if((b=this.attributes["$has_key?"]("options"))===e||null==b||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+
","+a);return this.attributes["$[]="](""+a+"-option","")},L.$$arity=1);a.defn(p,"$option?",J=function(a){return this.attributes["$has_key?"](""+a+"-option")},J.$$arity=1);a.defn(p,"$update_attributes",N=function(a){this.attributes.$update(a);return e},N.$$arity=1);a.defn(p,"$converter",Q=function(){return this.document.$converter()},Q.$$arity=0);a.defn(p,"$role?",A=function(a){var b;null==a&&(a=e);return!1!==a&&a!==e&&null!=a?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==e&&null!=b?b:this.document.$attributes()["$[]"]("role")):
!1!==(b=this.attributes["$has_key?"]("role"))&&b!==e&&null!=b?b:this.document.$attributes()["$has_key?"]("role")},A.$$arity=-1);a.defn(p,"$role",r=function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==e&&null!=a?a:this.document.$attributes()["$[]"]("role")},r.$$arity=0);a.defn(p,"$has_role?",P=function(a){var b,c,d=e;return(b=d=!1!==(c=this.attributes["$[]"]("role"))&&c!==e&&null!=c?c:this.document.$attributes()["$[]"]("role"))===e||null==b||b.$$is_boolean&&1!=b?!1:d.$split(" ")["$include?"](a)},
P.$$arity=1);a.defn(p,"$roles",S=function(){var a,b,c=e;return(a=c=!1!==(b=this.attributes["$[]"]("role"))&&b!==e&&null!=b?b:this.document.$attributes()["$[]"]("role"))===e||null==a||a.$$is_boolean&&1!=a?[]:c.$split(" ")},S.$$arity=0);a.defn(p,"$add_role",R=function(a){var b,c,d=e;return(b=(d=(!1!==(c=this.attributes["$[]"]("role"))&&c!==e&&null!=c?c:"").$split(" "))["$include?"](a))===e||null==b||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",l(d.$push(a)," ")):e},R.$$arity=1);a.defn(p,"$remove_role",
Z=function(a){var b,c,d=e;if((b=(d=(!1!==(c=this.attributes["$[]"]("role"))&&c!==e&&null!=c?c:"").$split(" "))["$include?"](a))===e||null==b||b.$$is_boolean&&1!=b)return e;d.$delete(a);return this.attributes["$[]="]("role",l(d," "))},Z.$$arity=1);a.defn(p,"$reftext?",aa=function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==e&&null!=a?a:this.document.$attributes()["$has_key?"]("reftext")},aa.$$arity=0);a.defn(p,"$reftext",V=function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&
a!==e&&null!=a?a:this.document.$attributes()["$[]"]("reftext")},V.$$arity=0);a.defn(p,"$icon_uri",O=function(b){var c,d=e;return(c=this["$attr?"]("icon"))===e||null==c||c.$$is_boolean&&1!=c?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(c=a.get("File").$extname(d=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c?d:""+d+"."+this.document.$attr("icontype","png")},O.$$arity=1);a.defn(p,"$media_uri",T=function(a,b){null==b&&(b=
"imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==e&&null!=b?this.document.$attr(b):e)},T.$$arity=-2);a.defn(p,"$image_uri",Y=function(a,b){var c,d,f,g,h=e,k=e;null==b&&(b="imagesdir");return(c=(d=n((h=this.document).$safe(),m.get("SafeMode").$$scope.get("SECURE")),!1!==d&&d!==e&&null!=d?h["$attr?"]("data-uri"):d))===e||null==c||c.$$is_boolean&&1!=c?this.$normalize_web_path(a,!1!==b&&b!==e&&null!=b?h.$attr(b):e):(c=!1!==(d=m.get("Helpers")["$uriish?"](a))&&d!==e&&null!=d?d:(f=(g=!1!==b&&
b!==e&&null!=b?k=h.$attr(b):b,!1!==g&&g!==e&&null!=g?m.get("Helpers")["$uriish?"](k):g),!1!==f&&f!==e&&null!=f?a=this.$normalize_web_path(a,k,!1):f))===e||null==c||c.$$is_boolean&&1!=c?this.$generate_data_uri(a,b):(c=h["$attr?"]("allow-uri-read"))===e||null==c||c.$$is_boolean&&1!=c?a:this.$generate_data_uri_from_uri(a,h["$attr?"]("cache-uri"))},Y.$$arity=-2);a.defn(p,"$generate_data_uri",X=function(d,f){var g,h,k,l=e,n=l=e,p=e;null==f&&(f=e);l=a.get("File").$extname(d);l=l["$=="](".svg")?"image/svg+xml":
"image/"+l["$[]"](c(1,-1,!1));n=!1!==f&&f!==e&&null!=f?this.$normalize_system_path(d,this.document.$attr(f),e,b(["target_name"],{target_name:"image"})):this.$normalize_system_path(d);if((g=a.get("File")["$readable?"](n))===e||null==g||g.$$is_boolean&&1!=g)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+n),"data:"+l+":base64,";p=e;p=(g=a.get("IO")["$respond_to?"]("binread"))===e||null==g||g.$$is_boolean&&1!=g?(g=(h=a.get("File")).$open,g.$$p=(k=function(a){null==
a&&(a=e);return a.$read()},k.$$s=this,k.$$arity=1,k),g).call(h,n,"rb"):a.get("IO").$binread(n);return"data:"+l+";base64,"+a.get("Base64").$encode64(p).$delete(m.get("EOL"))},X.$$arity=-2);a.defn(p,"$generate_data_uri_from_uri",ea=function(b,c){var d,f,g=e,h=e;null==c&&(c=!1);!1!==c&&c!==e&&null!=c?m.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||null==d||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return g=e,h=(d=this.$open,d.$$p=(f=
function(a){null==a&&(a=e);g=a.$content_type();return a.$read()},f.$$s=this,f.$$arity=1,f),d).call(this,b,"rb"),"data:"+g+";base64,"+a.get("Base64").$encode64(h).$delete(m.get("EOL"))}catch(k){if(a.rescue(k,[m.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw k;}},ea.$$arity=-2);a.defn(p,"$read_contents",ha=function(c,d){var f,g,h,k,n,p=e,u=e,r=e;null==d&&(d=b([],{}));p=this.document;if((f=!1!==(g=
m.get("Helpers")["$uriish?"](c))&&g!==e&&null!=g?g:(h=(k=u=d["$[]"]("start"),!1!==k&&k!==e&&null!=k?m.get("Helpers")["$uriish?"](u):k),!1!==h&&h!==e&&null!=h?c=(!1!==(k=this.path_resolver)&&k!==e&&null!=k?k:this.path_resolver=m.get("PathResolver").$new()).$web_path(c,u):h))===e||null==f||f.$$is_boolean&&1!=f)c=this.$normalize_system_path(c,d["$[]"]("start"),e,b(["target_name"],{target_name:!1!==(f=d["$[]"]("label"))&&f!==e&&null!=f?f:"asset"})),r=this.$read_asset(c,b(["normalize","warn_on_failure"],
{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0)}));else if((f=p["$attr?"]("allow-uri-read"))===e||null==f||f.$$is_boolean&&1!=f)(f=d.$fetch("warn_on_failure",!0))===e||null==f||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(f=d["$[]"]("label"))&&f!==e&&null!=f?f:"asset")+" at URI: "+c+" (allow-uri-read attribute not enabled)"),r=e;else{(f=p["$attr?"]("cache-uri"))===e||null==f||f.$$is_boolean&&1!=f||m.get("Helpers").$require_library("open-uri/cached",
"open-uri-cached");try{r=(f=(g=a.get("OpenURI")).$open_uri,f.$$p=(n=function(a){null==a&&(a=e);return a.$read()},n.$$s=this,n.$$arity=1,n),f).call(g,c),(f=d["$[]"]("normalize"))===e||null==f||f.$$is_boolean&&1!=f||(r=l(m.get("Helpers").$normalize_lines_from_string(r),m.get("EOL")))}catch(q){if(a.rescue(q,[m.get("StandardError")]))try{(f=d.$fetch("warn_on_failure",!0))===e||null==f||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==(f=d["$[]"]("label"))&&
f!==e&&null!=f?f:"asset")+" at URI: "+c),r=e}finally{a.pop_exception()}else throw q;}}return r},ha.$$arity=-2);a.defn(p,"$read_asset",ia=function(c,d){var f;null==d&&(d=b([],{}));if((f=a.get("Hash")["$==="](d))===e||null==f||f.$$is_boolean&&1!=f)d=b(["warn_on_failure"],{warn_on_failure:d["$!="](!1)});return(f=a.get("File")["$readable?"](c))===e||null==f||f.$$is_boolean&&1!=f?((f=d["$[]"]("warn_on_failure"))===e||null==f||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+
c),e):(f=d["$[]"]("normalize"))===e||null==f||f.$$is_boolean&&1!=f?a.get("IO").$read(c):l(m.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(c)),m.get("EOL"))},ia.$$arity=-2);a.defn(p,"$normalize_web_path",ka=function(a,b,c){var d;null==b&&(b=e);null==c&&(c=!0);return(d=!1!==c&&c!==e&&null!=c?m.get("Helpers")["$uriish?"](a):c)===e||null==d||d.$$is_boolean&&1!=d?(!1!==(d=this.path_resolver)&&d!==e&&null!=d?d:this.path_resolver=m.get("PathResolver").$new()).$web_path(a,b):a},ka.$$arity=
-2);a.defn(p,"$normalize_system_path",la=function(c,d,f,g){var h,k=e,l=e;null==d&&(d=e);null==f&&(f=e);null==g&&(g=b([],{}));k=!1!==(h=this.path_resolver)&&h!==e&&null!=h?h:this.path_resolver=m.get("PathResolver").$new();if((h=n((l=this.document).$safe(),m.get("SafeMode").$$scope.get("SAFE")))===e||null==h||h.$$is_boolean&&1!=h){if(!1===d||d===e||null==d)d=l.$base_dir();if(!1===f||f===e||null==f)f=l.$base_dir()}else if(!1!==d&&d!==e&&null!=d){if((h=k["$is_root?"](d))===e||null==h||h.$$is_boolean&&
1!=h)d=a.get("File").$join(l.$base_dir(),d)}else d=l.$base_dir();return k.$system_path(c,d,f,g)},la.$$arity=-2);a.defn(p,"$normalize_asset_path",fa=function(a,c,d){null==c&&(c="path");null==d&&(d=!0);return this.$normalize_system_path(a,this.document.$base_dir(),e,b(["target_name","recover"],{target_name:c,recover:d}))},fa.$$arity=-2);return(a.defn(p,"$is_uri?",da=function(a){return m.get("Helpers")["$uriish?"](a)},da.$$arity=1),e)&&"is_uri?"})(g(d,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=a.nil,g=a.module,h=a.klass,b=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));
return function(c){c=g(c,"Asciidoctor").$$scope;(function(c,$super){function g(){}var k=g=h(c,$super,"AbstractBlock",g),p=k.$$proto,f=k.$$scope,m,q,y,I,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T;p.document=p.attributes=p.blocks=p.source_location=p.subs=p.title=p.subbed_title=p.caption=p.next_section_index=p.context=p.style=p.id=p.header=p.next_section_number=e;k.$attr_accessor("content_model");k.$attr_reader("subs");k.$attr_reader("blocks");k.$attr_accessor("level");k.$attr_writer("title");k.$attr_accessor("style");
k.$attr_accessor("caption");k.$attr_accessor("source_location");a.defn(k,"$initialize",m=function(c,d,f){var g,h=m.$$p,k=e,l=e;null==f&&(f=b([],{}));m.$$p=null;k=[];for(l=0;l<arguments.length;l++)k[l]=arguments[l];(g=a.find_super_dispatcher(this,"initialize",m,!1),g.$$p=h,g).apply(this,k);this.content_model="compound";this.subs=[];this.default_subs=e;this.blocks=[];this.style=this.caption=this.title=this.id=e;this.level=d["$=="]("document")?0:(g=!1!==c&&c!==e&&null!=c?d["$!="]("section"):c)===e||
null==g||g.$$is_boolean&&1!=g?e:c.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=e},m.$$arity=-3);a.defn(k,"$block?",q=function(){return!0},q.$$arity=0);a.defn(k,"$inline?",y=function(){return!1},y.$$arity=0);a.defn(k,"$context=",I=function(a){this.context=a;return this.node_name=a.$to_s()},I.$$arity=1);a.defn(k,"$convert",E=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},E.$$arity=0);a.alias(k,"render",
"convert");a.defn(k,"$content",z=function(){var a,b,c;return l((a=(b=this.blocks).$map,a.$$p=(c=function(a){null==a&&(a=e);return a.$convert()},c.$$s=this,c.$$arity=1,c),a).call(b),f.get("EOL"))},z.$$arity=0);a.defn(k,"$file",u=function(){var a;return(a=this.source_location)===e||null==a||a.$$is_boolean&&1!=a?e:this.source_location.$file()},u.$$arity=0);a.defn(k,"$lineno",H=function(){var a;return(a=this.source_location)===e||null==a||a.$$is_boolean&&1!=a?e:this.source_location.$lineno()},H.$$arity=
0);a.defn(k,"$sub?",L=function(a){return this.subs["$include?"](a)},L.$$arity=1);a.defn(k,"$title?",J=function(){return this.title["$nil_or_empty?"]()["$!"]()},J.$$arity=0);a.defn(k,"$title",N=function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==e)?"instance-variable":e)===e||null==a||a.$$is_boolean&&1!=a?(a=this.title)===e||null==a||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title},N.$$arity=0);a.defn(k,"$captioned_title",Q=function(){return""+
this.caption+this.$title()},Q.$$arity=0);a.defn(k,"$blocks?",A=function(){return this.blocks["$empty?"]()["$!"]()},A.$$arity=0);a.defn(k,"$<<",r=function(a){this.blocks["$<<"](a);return this},r.$$arity=1);a.alias(k,"append","<<");a.defn(k,"$sections",P=function(){var a,b,c;return(a=(b=this.blocks).$select,a.$$p=(c=function(a){null==a&&(a=e);return a.$context()["$=="]("section")},c.$$s=this,c.$$arity=1,c),a).call(b)},P.$$arity=0);a.defn(k,"$sections?",S=function(){var a=this.next_section_index;return"number"===
typeof a?0<a:a["$>"](0)},S.$$arity=0);a.defn(k,"$find_by",R=function(c){var d,f,g,h,k,l,m,n=R.$$p||e,p=e,u=e,r=e,q=e,A=e,y=e;null==c&&(c=b([],{}));R.$$p=null;p=[];if((d=(f=(g=(h=!1!==(k=u=(r=c["$[]"]("context"))["$!"]())&&k!==e&&null!=k?k:r["$=="](this.context),!1!==h&&h!==e&&null!=h?!1!==(k=(q=c["$[]"]("style"))["$!"]())&&k!==e&&null!=k?k:q["$=="](this.style):h),!1!==g&&g!==e&&null!=g?!1!==(h=(A=c["$[]"]("role"))["$!"]())&&h!==e&&null!=h?h:this["$has_role?"](A):g),!1!==f&&f!==e&&null!=f?!1!==(g=
(y=c["$[]"]("id"))["$!"]())&&g!==e&&null!=g?g:y["$=="](this.id):f))!==e&&null!=d&&(!d.$$is_boolean||1==d)){if(!1!==y&&y!==e&&null!=y)return n!==e?(d=a.yield1(n,this))===e||null==d||d.$$is_boolean&&1!=d?p:[this]:[this];if(n!==e){if((d=a.yield1(n,this))!==e&&null!=d&&(!d.$$is_boolean||1==d))p["$<<"](this)}else p["$<<"](this)}(d=(f=(g=this.context["$=="]("document"))?!1!==(h=u)&&h!==e&&null!=h?h:r["$=="]("section"):this.context["$=="]("document"),!1!==f&&f!==e&&null!=f?this["$header?"]():f))===e||null==
d||d.$$is_boolean&&1!=d||p.$concat((d=(f=this.header).$find_by,d.$$p=n.$to_proc(),d).call(f,c));r["$=="]("document")||(this.context["$=="]("dlist")?(d=!1!==(g=u)&&g!==e&&null!=g?g:r["$!="]("section"))===e||null==d||d.$$is_boolean&&1!=d||(d=(g=this.blocks.$flatten()).$each,d.$$p=(l=function(a){var b,d;null==a&&(a=e);return!1!==a&&a!==e&&null!=a?p.$concat((b=(d=a).$find_by,b.$$p=n.$to_proc(),b).call(d,c)):e},l.$$s=this,l.$$arity=1,l),d).call(g):d=(h=(k=this.blocks).$each,h.$$p=(m=function(a){var b,
d;null==a&&(a=e);return(b=r["$=="]("section")?a.$context()["$!="]("section"):r["$=="]("section"))===e||null==b||b.$$is_boolean&&1!=b?p.$concat((b=(d=a).$find_by,b.$$p=n.$to_proc(),b).call(d,c)):e},m.$$s=this,m.$$arity=1,m),h).call(k));return p},R.$$arity=-1);a.alias(k,"query","find_by");a.defn(k,"$remove_sub",Z=function(a){this.subs.$delete(a);return e},Z.$$arity=1);a.defn(k,"$assign_caption",aa=function(a,b){var c,d,f=e,g=f=f=e;null==a&&(a=e);null==b&&(b=e);if((c=!1!==(d=this["$title?"]())&&d!==
e&&null!=d?d:this.caption["$!"]())===e||null==c||c.$$is_boolean&&1!=c)return e;!1!==a&&a!==e&&null!=a?this.caption=a:(c=f=this.document.$attributes()["$[]"]("caption"))===e||null==c||c.$$is_boolean&&1!=c?(c=this["$title?"]())===e||null==c||c.$$is_boolean&&1!=c||(!1!==(c=b)&&c!==e&&null!=c?c:b=this.context.$to_s(),f=""+b+"-caption",(c=f=this.document.$attributes()["$[]"](f))===e||null==c||c.$$is_boolean&&1!=c||(g=this.document.$counter_increment(""+b+"-number",this),this.caption=""+f+" "+g+". ")):
this.caption=f;return e},aa.$$arity=-1);a.defn(k,"$list_marker_keyword",V=function(a){var b;null==a&&(a=e);return f.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==(b=a)&&b!==e&&null!=b?b:this.style)},V.$$arity=-1);a.defn(k,"$assign_index",O=function(a){var b,c,d,f=e,g=e;b=[this.next_section_index];c=a;c["$index="].apply(c,b);b[b.length-1];this.next_section_index=n(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?(f=this.document.$counter("appendix-number","A"),(b=a.$numbered())===e||null==
b||b.$$is_boolean&&1!=b||(b=[f],c=a,c["$number="].apply(c,b),b[b.length-1]),(b=(g=this.document.$attr("appendix-caption",""))["$empty?"]())===e||null==b||b.$$is_boolean&&1!=b?(b=[""+g+" "+f+": "],c=a,c["$caption="].apply(c,b),b[b.length-1]):(b=[""+f+". "],c=a,c["$caption="].apply(c,b),b[b.length-1])):(b=a.$numbered())===e||null==b||b.$$is_boolean&&1!=b?e:(b=(c=!1!==(d=a.$level()["$=="](1))&&d!==e&&null!=d?d:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),!1!==c&&c!==e&&null!=c?this.document.$doctype()["$=="]("book"):
c))===e||null==b||b.$$is_boolean&&1!=b?(b=[this.next_section_number],c=a,c["$number="].apply(c,b),b[b.length-1],this.next_section_number=n(this.next_section_number,1)):(b=[this.document.$counter("chapter-number",1)],c=a,c["$number="].apply(c,b),b[b.length-1])},O.$$arity=1);return(a.defn(k,"$reindex_sections",T=function(){var a,b,c;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=e);return a.$context()["$=="]("section")?
(b.$assign_index(a),a.$reindex_sections()):e},c.$$s=this,c.$$arity=1,c),a).call(b)},T.$$arity=0),e)&&"reindex_sections"})(c.base,c.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var n=a.nil,e=a.module,g=a.klass,h=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(b){(function(b,
$super){function e(){}var w=e=g(b,$super,"AttributeList",e),k=w.$$proto,p=w.$$scope,f,m,q,y,I,E,z,u,H,L,J,N;k.attributes=k.scanner=k.delimiter=k.block=k.delimiter_skip_pattern=k.delimiter_boundary_pattern=n;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(p,"CG_BLANK","[ \\t]"),a.cdecl(p,"CC_WORD","a-zA-Z0-9_"),a.cdecl(p,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(p,"BoundaryRxs",h(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+p.get("CG_BLANK")+"*(,|$))")}));a.cdecl(p,"EscapedQuoteRxs",
h(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.cdecl(p,"NameRx",new RegExp(""+p.get("CG_WORD")+"["+p.get("CC_WORD")+"\\-.]*"));a.cdecl(p,"BlankRx",new RegExp(""+p.get("CG_BLANK")+"+"));a.cdecl(p,"SkipRxs",h(["blank",","],{blank:p.get("BlankRx"),",":new RegExp(""+p.get("CG_BLANK")+"*(,|$)")}));a.defn(w,"$initialize",f=function(b,c,f){null==c&&(c=n);null==f&&(f=",");this.scanner=a.get("StringScanner").$new(b);this.block=c;this.delimiter=f;this.delimiter_skip_pattern=p.get("SkipRxs")["$[]"](f);this.delimiter_boundary_pattern=
p.get("BoundaryRxs")["$[]"](f);return this.attributes=n},f.$$arity=-2);a.defn(w,"$parse_into",m=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},m.$$arity=-2);a.defn(w,"$parse",q=function(a){var b,c,f=n;null==a&&(a=[]);if((b=this.attributes)!==n&&null!=b&&(!b.$$is_boolean||1==b))return this.attributes;this.attributes=h([],{});for(f=0;(c=this.$parse_attribute(f,a))!==n&&null!=c&&(!c.$$is_boolean||1==c)&&((c=this.scanner["$eos?"]())===n||null==c||c.$$is_boolean&&1!=c);)this.$skip_delimiter(),
f=l(f,1);return this.attributes},q.$$arity=-1);a.defn(w,"$rekey",y=function(a){return p.get("AttributeList").$rekey(this.attributes,a)},y.$$arity=1);a.defs(w,"$rekey",I=function(a,b){var c,f;(c=b.$each_with_index,c.$$p=(f=function(b,c){var f,e=n,g=n;null==b&&(b=n);null==c&&(c=n);if(!1===b||b===n||null==b)return n;e=l(c,1);return(f=g=a["$[]"](e))===n||null==f||f.$$is_boolean&&1!=f?n:a["$[]="](b,g)},f.$$s=this,f.$$arity=2,f),c).call(b);return a},I.$$arity=2);a.defn(w,"$parse_attribute",E=function(a,
b){var c,f,e,g,h=n,k=n,m=k=n,p=n,u=n,k=h=p=n;null==a&&(a=0);null==b&&(b=[]);h=!1;this.$skip_blank();if((k=this.scanner.$peek(1))["$=="]('"'))k=this.$parse_attribute_value(this.scanner.$get_byte()),m=n;else if(k["$=="]("'"))k=this.$parse_attribute_value(this.scanner.$get_byte()),m=n,h=!0;else{k=this.$scan_name();p=0;u=n;if((c=this.scanner["$eos?"]())===n||null==c||c.$$is_boolean&&1!=c)p=!1!==(c=this.$skip_blank())&&c!==n&&null!=c?c:0,u=this.scanner.$get_byte();else if(!1===k||k===n||null==k)return!1;
if((c=!1!==(f=u["$!"]())&&f!==n&&null!=f?f:u["$=="](this.delimiter))===n||null==c||c.$$is_boolean&&1!=c)if((c=!1!==(f=u["$!="]("="))&&f!==n&&null!=f?f:k["$!"]())===n||null==c||c.$$is_boolean&&1!=c){if(this.$skip_blank(),(c=this.scanner.$peek(1))!==n&&null!=c&&(!c.$$is_boolean||1==c))if((u=this.scanner.$get_byte())["$=="]('"'))m=this.$parse_attribute_value(u);else if(u["$=="]("'"))m=this.$parse_attribute_value(u),h=!0;else if(u["$=="](this.delimiter))m=n;else if(m=""+u+this.$scan_to_delimiter(),m["$=="]("None"))return!0}else k=
""+k+" "["$*"](p)+u+this.$scan_to_delimiter(),m=n;else m=n}if(!1!==m&&m!==n&&null!=m)if(p=k,"options"["$==="](p)||"opts"["$==="](p))k="options",(c=(f=m.$tr(" ","").$split(",")).$each,c.$$p=(e=function(a){var b=e.$$s||this;null==b.attributes&&(b.attributes=n);null==a&&(a=n);return b.attributes["$[]="](""+a+"-option","")},e.$$s=this,e.$$arity=1,e),c).call(f),this.attributes["$[]="](k,m);else if("title"["$==="](p))this.attributes["$[]="](k,m);else this.attributes["$[]="](k,(c=(g=!1!==h&&h!==n&&null!=
h?m["$empty?"]()["$!"]():h,!1!==g&&g!==n&&null!=g?this.block:g))===n||null==c||c.$$is_boolean&&1!=c?m:this.block.$apply_normal_subs(m));else{h=(c=(g=!1!==h&&h!==n&&null!=h?k["$empty?"]()["$!"]():h,!1!==g&&g!==n&&null!=g?this.block:g))===n||null==c||c.$$is_boolean&&1!=c?k:this.block.$apply_normal_subs(k);if((c=k=b["$[]"](a))!==n&&null!=c&&(!c.$$is_boolean||1==c))this.attributes["$[]="](k,h);this.attributes["$[]="](l(a,1),h)}return!0},E.$$arity=-1);a.defn(w,"$parse_attribute_value",z=function(a){var b,
c=n;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((b=c=this.$scan_to_quote(a))===n||null==b||b.$$is_boolean&&1!=b)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return c.$gsub(p.get("EscapedQuoteRxs")["$[]"](a),a)},z.$$arity=1);a.defn(w,"$skip_blank",u=function(){return this.scanner.$skip(p.get("BlankRx"))},u.$$arity=0);a.defn(w,"$skip_delimiter",H=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},H.$$arity=0);a.defn(w,"$scan_name",L=function(){return this.scanner.$scan(p.get("NameRx"))},
L.$$arity=0);a.defn(w,"$scan_to_delimiter",J=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},J.$$arity=0);return(a.defn(w,"$scan_to_quote",N=function(a){return this.scanner.$scan(p.get("BoundaryRxs")["$[]"](a))},N.$$arity=1),n)&&"scan_to_quote"})(e(b,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var n=a.nil,e=a.module,g=a.klass,h=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(b){b=e(b,"Asciidoctor").$$scope;(function(b,$super){function e(){}var w=e=g(b,$super,
"Block",e),k=w.$$proto,p=w.$$scope,f,m,q,y,I;k.attributes=k.content_model=k.lines=k.subs=k.blocks=k.context=k.style=n;k=["simple"];f=a.cdecl(p,"DEFAULT_CONTENT_MODEL",h("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));f["$default="].apply(f,k);k[k.length-1];a.alias(w,"blockname","context");w.$attr_accessor("lines");
a.defn(w,"$initialize",m=function(b,c,f){var e,g=m.$$p,k=n,l=n,q=k=n;null==f&&(f=h([],{}));m.$$p=null;k=[];for(q=0;q<arguments.length;q++)k[q]=arguments[q];(e=a.find_super_dispatcher(this,"initialize",m,!1),e.$$p=g,e).apply(this,k);this.content_model=!1!==(e=f["$[]"]("content_model"))&&e!==n&&null!=e?e:p.get("DEFAULT_CONTENT_MODEL")["$[]"](c);(e=f["$key?"]("subs"))===n||null==e||e.$$is_boolean&&1!=e?(this.subs=[],this.default_subs=n):(e=k=f["$[]"]("subs"))===n||null==e||e.$$is_boolean&&1!=e?(this.subs=
[],this.default_subs=[],this.attributes.$delete("subs")):(k["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):(e=a.get("Array")["$==="](k))===n||null==e||e.$$is_boolean&&1!=e?(this.default_subs=n,this.attributes["$[]="]("subs",""+k)):(this.default_subs=k.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(e=(l=f["$[]"]("source"))["$nil_or_empty?"]())===n||null==e||e.$$is_boolean&&1!=e?(e=a.get("String")["$==="](l))===n||null==e||e.$$is_boolean&&1!=e?this.lines=l.$dup():
this.lines=p.get("Helpers").$normalize_lines_from_string(l):this.lines=[]},m.$$arity=-3);a.defn(w,"$content",q=function(){var b,c,f,e,g=this,h=q.$$p,k=n,m=n,A=n,r=n,y=n,v=n;q.$$p=null;y=[];for(v=0;v<arguments.length;v++)y[v]=arguments[v];return function(){k=g.content_model;if("compound"["$==="](k))return(b=(c=g,a.find_super_dispatcher(g,"content",q,!1)),b.$$p=h,b).apply(c,y);if("simple"["$==="](k))return g.$apply_subs(l(g.lines,p.get("EOL")),g.subs);if("verbatim"["$==="](k)||"raw"["$==="](k)){m=g.$apply_subs(g.lines,
g.subs);var v=m.$size();if((b="number"===typeof v?2>v:v["$<"](2))===n||null==b||b.$$is_boolean&&1!=b){for(;(f=(e=A=m["$[]"](0),!1!==e&&e!==n&&null!=e?A.$rstrip()["$empty?"]():e))!==n&&null!=f&&(!f.$$is_boolean||1==f);)m.$shift();for(;(f=(e=r=m["$[]"](-1),!1!==e&&e!==n&&null!=e?r.$rstrip()["$empty?"]():e))!==n&&null!=f&&(!f.$$is_boolean||1==f);)m.$pop();return l(m,p.get("EOL"))}return m["$[]"](0)}g.content_model["$=="]("empty")||g.$warn("Unknown content model '"+g.content_model+"' for block: "+g.$to_s());
return n}()},q.$$arity=0);a.defn(w,"$source",y=function(){return l(this.lines,p.get("EOL"))},y.$$arity=0);return(a.defn(w,"$to_s",I=function(){var a=n,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},I.$$arity=0),n)&&"to_s"})(b.base,b.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var e=a.nil,g=a.module,h=a.klass,b=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(c){(function(c,$super){function g(){}var k=g=h(c,$super,"Callouts",g),p=k.$$proto,f,m,
q,y,I,E,z,u,H;p.co_index=p.lists=p.list_index=e;a.defn(k,"$initialize",f=function(){this.lists=[];this.list_index=0;return this.$next_list()},f.$$arity=0);a.defn(k,"$register",m=function(a){var c=e;this.$current_list()["$<<"](b(["ordinal","id"],{ordinal:a.$to_i(),id:c=this.$generate_next_callout_id()}));this.co_index=l(this.co_index,1);return c},m.$$arity=1);a.defn(k,"$read_next_id",q=function(){var a,b=e,c=e,b=e,c=this.$current_list(),d=this.co_index,f=c.$size();(a="number"===typeof d&&"number"===
typeof f?d<=f:d["$<="](f))===e||null==a||a.$$is_boolean&&1!=a||(b=c["$[]"](n(this.co_index,1))["$[]"]("id"));this.co_index=l(this.co_index,1);return b},q.$$arity=0);a.defn(k,"$callout_ids",y=function(a){var b,c,d;return(b=(c=this.$current_list()).$map,b.$$p=(d=function(b){null==b&&(b=e);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":e},d.$$s=this,d.$$arity=1,d),b).call(c).$join().$chop()},y.$$arity=1);a.defn(k,"$current_list",I=function(){return this.lists["$[]"](n(this.list_index,1))},
I.$$arity=0);a.defn(k,"$next_list",E=function(){var a;this.list_index=l(this.list_index,1);var b=this.lists.$size(),c=this.list_index;if((a="number"===typeof b&&"number"===typeof c?b<c:b["$<"](c))!==e&&null!=a&&(!a.$$is_boolean||1==a))this.lists["$<<"]([]);this.co_index=1;return e},E.$$arity=0);a.defn(k,"$rewind",z=function(){this.co_index=this.list_index=1;return e},z.$$arity=0);a.defn(k,"$generate_next_callout_id",u=function(){return this.$generate_callout_id(this.list_index,this.co_index)},u.$$arity=
0);return(a.defn(k,"$generate_callout_id",H=function(a,b){return"CO"+a+"-"+b},H.$$arity=2),e)&&"generate_callout_id"})(g(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var g=a.nil,h=a.module,b=a.klass,c=a.hash2,d=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $key? $freeze $attribute_undefined $attribute_missing $find $constants $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $parse $restore_attributes $update_backend_attributes $utc $at $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $limit $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(v){v=h(v,"Asciidoctor").$$scope;(function(h,$super){function p(){}var f=p=b(h,$super,"Document",p),m=f.$$proto,q=f.$$scope,y,v,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta,va,ua,ja,t;m.attributes=m.safe=m.reader=m.base_dir=m.parsed=m.parent_document=m.extensions=m.options=m.counters=m.references=m.doctype=m.backend=m.header=m.blocks=m.attributes_modified=m.id=m.callouts=m.header_attributes=m.max_attribute_value_size=m.attribute_overrides=
m.converter=m.outfilesuffix=m.docinfo_processor_extensions=m.document=g;a.cdecl(q,"Footnote",a.get("Struct").$new("index","id","text"));(function(c,$super){function d(){}var f=d=b(c,$super,"AttributeEntry",d),e,h;f.$attr_reader("name","value","negate");a.defn(f,"$initialize",e=function(a,b,c){var d;null==c&&(c=g);this.name=a;this.value=b;return this.negate=(d=c["$nil?"]())===g||null==d||d.$$is_boolean&&1!=d?c:b["$nil?"]()},e.$$arity=-3);return(a.defn(f,"$save_to",h=function(a){var b;return(!1!==(b=
a["$[]"]("attribute_entries"))&&b!==g&&null!=b?b:a["$[]="]("attribute_entries",[]))["$<<"](this)},h.$$arity=1),g)&&"save_to"})(q.base,null);(function(d,$super){function f(){}var e=f=b(d,$super,"Title",f),h=e.$$proto,l=e.$$scope,m,n,p,M;h.sanitized=h.subtitle=h.combined=g;e.$attr_reader("main");a.alias(e,"title","main");e.$attr_reader("subtitle");e.$attr_reader("combined");a.defn(e,"$initialize",m=function(b,d){var f,e,h,m=g;null==d&&(d=c([],{}));(f=(e=this.sanitized=d["$[]"]("sanitize"),!1!==e&&e!==
g&&null!=e?b["$include?"]("<"):e))===g||null==f||f.$$is_boolean&&1!=f||(b=b.$gsub(l.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(f=!1!==(e=(m=!1!==(h=d["$[]"]("separator"))&&h!==g&&null!=h?h:":")["$empty?"]())&&e!==g&&null!=e?e:b["$include?"](m=""+m+" ")["$!"]())===g||null==f||f.$$is_boolean&&1!=f?(e=b.$rpartition(m),f=a.to_ary(e),this.main=null==f[0]?g:f[0],this.subtitle=null==f[2]?g:f[2],e):(this.main=b,this.subtitle=g);return this.combined=b},m.$$arity=-2);a.defn(e,"$sanitized?",n=function(){return this.sanitized},
n.$$arity=0);a.defn(e,"$subtitle?",p=function(){return this.subtitle["$!"]()["$!"]()},p.$$arity=0);return(a.defn(e,"$to_s",M=function(){return this.combined},M.$$arity=0),g)&&"to_s"})(q.base,null);f.$attr_reader("safe");f.$attr_reader("compat_mode");f.$attr_reader("sourcemap");f.$attr_reader("references");f.$attr_reader("counters");f.$attr_reader("callouts");f.$attr_reader("header");f.$attr_reader("base_dir");f.$attr_reader("options");f.$attr_reader("outfilesuffix");f.$attr_reader("parent_document");
f.$attr_reader("reader");f.$attr_reader("converter");f.$attr_reader("extensions");a.defn(f,"$initialize",y=function(b,f){var e,h,m,p,u,t,r,M,C,G,D,A,x=g,v=g,B=g,w=g,z=w=g,E=g,T=w=w=g,O=x=E=w=x=g;null==b&&(b=g);null==f&&(f=c([],{}));y.$$p=null;(e=a.find_super_dispatcher(this,"initialize",y,!1),e.$$p=null,e).call(this,this,"document");if((e=x=f.$delete("parent"))===g||null==e||e.$$is_boolean&&1!=e){this.parent_document=g;this.references=c("ids footnotes links images indexterms includes".split(" "),
{ids:c([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=q.get("Callouts").$new();v=c([],{});(e=(h=!1!==(r=f["$[]"]("attributes"))&&r!==g&&null!=r?r:c([],{})).$each,e.$$p=(t=function(a,b){var c;null==a&&(a=g);null==b&&(b=g);(c=a["$start_with?"]("!"))===g||null==c||c.$$is_boolean&&1!=c?(c=a["$end_with?"]("!"))===g||null==c||c.$$is_boolean&&1!=c||(a=a.$chop(),b=g):(a=a["$[]"](d(1,-1,!1)),b=g);return v["$[]="](a.$downcase(),b)},t.$$s=this,t.$$arity=2,t),
e).call(h);this.attribute_overrides=v;if((e=(w=f["$[]"]("safe"))["$!"]())===g||null==e||e.$$is_boolean&&1!=e)if((e=a.get("Integer")["$==="](w))===g||null==e||e.$$is_boolean&&1!=e)try{this.safe=q.get("SafeMode").$const_get(w.$to_s().$upcase())}catch(H){if(a.rescue(H,[q.get("StandardError")]))try{this.safe=q.get("SafeMode").$$scope.get("SECURE")}finally{a.pop_exception()}else throw H;}else this.safe=w;else this.safe=q.get("SafeMode").$$scope.get("SECURE");this.compat_mode=v["$key?"]("compat-mode");
this.sourcemap=f["$[]"]("sourcemap");this.converter=g;try{B=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":g}catch(H){if(H.$$class===a.NameError)B=g;else throw H;}this.extensions=g}else this.parent_document=x,e="base_dir",h=f,!1!==(m=h["$[]"](e))&&m!==g&&null!=m?m:h["$[]="](e,x.$base_dir()),this.references=(e=(h=x.$references()).$inject,e.$$p=(p=function(b,c){var d,f;null==c&&(c=g);c=a.to_ary(c);d=a.slice.call(c,0,c.length);f=d.splice(0,1)[0];null==f&&(f=g);d=d.splice(0,1)[0];null==
d&&(d=g);null==b&&(b=g);if(f["$=="]("footnotes"))b["$[]="]("footnotes",[]);else b["$[]="](f,d);return b},p.$$s=this,p.$$arity=2,p.$$has_top_level_mlhs_arg=!0,p),e).call(h,c([],{})),this.callouts=x.$callouts(),v=x.$attributes().$dup(),(e=(m=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,e.$$p=(u=function(a){null==a&&(a=g);return v.$delete(a)},u.$$s=this,u.$$arity=1,u),e).call(m),this.attribute_overrides=v,this.safe=x.$safe(),this.compat_mode=x.$compat_mode(),this.sourcemap=x.$sourcemap(),
this.converter=x.$converter(),B=!1,this.extensions=x.$extensions();this.parsed=!1;this.header=g;this.counters=c([],{});this.attributes_modified=a.get("Set").$new();this.options=f;this.docinfo_processor_extensions=c([],{});w=(e="header_footer",r=f,!1!==(M=r["$[]"](e))&&M!==g&&null!=M?M:r["$[]="](e,!1));f.$freeze();z=this.attributes;z["$[]="]("sectids","");if(!1===w||w===g||null==w)z["$[]="]("notitle","");z["$[]="]("toc-placement","auto");z["$[]="]("stylesheet","");z["$[]="]("webfonts","");if(!1!==
w&&w!==g&&null!=w)z["$[]="]("copycss","");z["$[]="]("prewrap","");z["$[]="]("attribute-undefined",q.get("Compliance").$attribute_undefined());z["$[]="]("attribute-missing",q.get("Compliance").$attribute_missing());z["$[]="]("iconfont-remote","");z["$[]="]("caution-caption","Caution");z["$[]="]("important-caption","Important");z["$[]="]("note-caption","Note");z["$[]="]("tip-caption","Tip");z["$[]="]("warning-caption","Warning");z["$[]="]("appendix-caption","Appendix");z["$[]="]("example-caption","Example");
z["$[]="]("figure-caption","Figure");z["$[]="]("table-caption","Table");z["$[]="]("toc-title","Table of Contents");z["$[]="]("manname-title","NAME");z["$[]="]("untitled-label","Untitled");z["$[]="]("version-label","Version");z["$[]="]("last-update-label","Last updated");v["$[]="]("asciidoctor","");v["$[]="]("asciidoctor-version",q.get("VERSION"));E=(e=(r=q.get("SafeMode").$constants()).$find,e.$$p=(C=function(a){var b=C.$$s||this;null==b.safe&&(b.safe=g);null==a&&(a=g);return q.get("SafeMode").$const_get(a)["$=="](b.safe)},
C.$$s=this,C.$$arity=1,C),e).call(r).$to_s().$downcase();v["$[]="]("safe-mode-name",E);v["$[]="]("safe-mode-"+E,"");v["$[]="]("safe-mode-level",this.safe);v["$[]="]("embedded",!1!==w&&w!==g&&null!=w?g:"");e="max-include-depth";M=v;!1!==(G=M["$[]"](e))&&G!==g&&null!=G?G:M["$[]="](e,64);e="allow-uri-read";M=v;!1!==(G=M["$[]"](e))&&G!==g&&null!=G?G:M["$[]="](e,g);v["$[]="]("user-home",q.get("USER_HOME"));if((e=v["$key?"]("numbered"))!==g&&null!=e&&(!e.$$is_boolean||1==e))v["$[]="]("sectnums",v.$delete("numbered"));
(e=f["$[]"]("base_dir"))===g||null==e||e.$$is_boolean&&1!=e?(e=v["$[]"]("docdir"))===g||null==e||e.$$is_boolean&&1!=e?this.base_dir=v["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=v["$[]="]("docdir",a.get("File").$expand_path(v["$[]"]("docdir"))):this.base_dir=v["$[]="]("docdir",a.get("File").$expand_path(f["$[]"]("base_dir")));if((e=w=f["$[]"]("backend"))!==g&&null!=e&&(!e.$$is_boolean||1==e))v["$[]="]("backend",""+w);if((e=w=f["$[]"]("doctype"))!==g&&null!=e&&(!e.$$is_boolean||
1==e))v["$[]="]("doctype",""+w);if((e=l(this.safe,q.get("SafeMode").$$scope.get("SERVER")))!==g&&null!=e&&(!e.$$is_boolean||1==e)){e="copycss";M=v;!1!==(G=M["$[]"](e))&&G!==g&&null!=G?G:M["$[]="](e,g);e="source-highlighter";M=v;!1!==(G=M["$[]"](e))&&G!==g&&null!=G?G:M["$[]="](e,g);e="backend";M=v;!1!==(G=M["$[]"](e))&&G!==g&&null!=G?G:M["$[]="](e,q.get("DEFAULT_BACKEND"));if((e=(M=x["$!"](),!1!==M&&M!==g&&null!=M?v["$key?"]("docfile"):M))!==g&&null!=e&&(!e.$$is_boolean||1==e))v["$[]="]("docfile",
v["$[]"]("docfile")["$[]"](d(n(v["$[]"]("docdir").$length(),1),-1,!1)));v["$[]="]("docdir","");v["$[]="]("user-home",".");if((e=l(this.safe,q.get("SafeMode").$$scope.get("SECURE")))!==g&&null!=e&&(!e.$$is_boolean||1==e)){if((e=v["$key?"]("max-attribute-value-size"))===g||null==e||e.$$is_boolean&&1!=e)v["$[]="]("max-attribute-value-size",4096);if((e=v.$fetch("linkcss","")["$nil?"]())===g||null==e||e.$$is_boolean&&1!=e)v["$[]="]("linkcss","");e="icons";M=v;!1!==(G=M["$[]"](e))&&G!==g&&null!=G?G:M["$[]="](e,
g)}}this.max_attribute_value_size=(e=T=(M="max-attribute-value-size",G=v,!1!==(D=G["$[]"](M))&&D!==g&&null!=D?D:G["$[]="](M,g)))===g||null==e||e.$$is_boolean&&1!=e?g:T.$to_i().$abs();(e=(M=v).$delete_if,e.$$p=(A=function(b,c){var d,f,e=g;null==b&&(b=g);null==c&&(c=g);e=!1;(d=c["$nil?"]())===g||null==d||d.$$is_boolean&&1!=d?((d=(f=a.get("String")["$==="](c),!1!==f&&f!==g&&null!=f?c["$end_with?"]("@"):f))===g||null==d||d.$$is_boolean&&1!=d||(c=c.$chop(),e=!0),z["$[]="](b,c)):z.$delete(b);return e},
A.$$s=this,A.$$arity=2,A),e).call(M);if(!1!==x&&x!==g&&null!=x)return e="doctype",G=z,!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,q.get("DEFAULT_DOCTYPE")),this.reader=q.get("Reader").$new(b,f["$[]"]("cursor")),q.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((e="backend",G=z,!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,q.get("DEFAULT_BACKEND")))["$=="]("manpage"))z["$[]="]("doctype",v["$[]="]("doctype","manpage"));else e="doctype",G=z,!1!==(D=G["$[]"](e))&&
D!==g&&null!=D?D:G["$[]="](e,q.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(z["$[]"]("backend"),!0);x=(e=a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH"))===g||null==e||e.$$is_boolean&&1!=e?a.get("Time").$now():a.get("Time").$at(a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc();w=(e="localdate",G=z,!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,x.$strftime("%Y-%m-%d")));if((e=E=z["$[]"]("localtime"))===g||null==e||e.$$is_boolean&&1!=e)try{E=z["$[]="]("localtime",x.$strftime("%H:%M:%S %Z"))}catch(H){if(a.rescue(H,
[q.get("StandardError")]))try{E=z["$[]="]("localtime",x.$strftime("%H:%M:%S %z"))}finally{a.pop_exception()}else throw H;}e="localdatetime";G=z;!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,""+w+" "+E);e="docdate";G=z;!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,w);e="doctime";G=z;!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,E);e="docdatetime";G=z;!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,""+w+" "+E);e="stylesdir";G=z;!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,".");
e="iconsdir";G=z;!1!==(D=G["$[]"](e))&&D!==g&&null!=D?D:G["$[]="](e,a.get("File").$join(z.$fetch("imagesdir","./images"),"icons"));if(!1!==B&&B!==g&&null!=B){if((e=x=f["$[]"]("extensions_registry"))===g||null==e||e.$$is_boolean&&1!=e)x=(e=a.get("Proc")["$==="](O=f["$[]"]("extensions")))===g||null==e||e.$$is_boolean&&1!=e?q.get("Extensions").$$scope.get("Registry").$new():(e=(G=q.get("Extensions")).$build_registry,e.$$p=O.$to_proc(),e).call(G);else if((e=!1!==(G=q.get("Extensions").$$scope.get("Registry")["$==="](x))&&
G!==g&&null!=G?G:(D=a.get("RUBY_ENGINE_JRUBY"),!1!==D&&D!==g&&null!=D?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](x):D))===g||null==e||e.$$is_boolean&&1!=e)x=q.get("Extensions").$$scope.get("Registry").$new();this.extensions=x.$activate(this)}return this.reader=q.get("PreprocessorReader").$new(this,b,q.get("Reader").$$scope.get("Cursor").$new(z["$[]"]("docfile"),this.base_dir))},y.$$arity=-1);a.defn(f,"$parse",v=function(a){var b,d,f,e,h,l=g,m=g;null==
a&&(a=g);return(b=this.parsed)===g||null==b||b.$$is_boolean&&1!=b?(l=this,!1!==a&&a!==g&&null!=a&&(this.reader=q.get("PreprocessorReader").$new(l,a,q.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(b=(d=m=(f=this.parent_document)===g||null==f||f.$$is_boolean&&1!=f?this.extensions:g,!1!==d&&d!==g&&null!=d?m["$preprocessors?"]():d))===g||null==b||b.$$is_boolean&&1!=b||(b=(d=m.$preprocessors()).$each,b.$$p=(e=function(a){var b=e.$$s||this,c;null==b.reader&&
(b.reader=g);null==a&&(a=g);return b.reader=!1!==(c=a.$process_method()["$[]"](l,b.reader))&&c!==g&&null!=c?c:b.reader},e.$$s=this,e.$$arity=1,e),b).call(d),q.get("Parser").$parse(this.reader,l,c(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(b=(f=!1!==m&&m!==g&&null!=m)?m["$treeprocessors?"]():m)===g||null==b||b.$$is_boolean&&1!=b||(b=(f=m.$treeprocessors()).$each,b.$$p=(h=function(a){var b,c,d,f=g;null==a&&(a=g);return(b=(c=(d=
f=a.$process_method()["$[]"](l),!1!==d&&d!==g&&null!=d?q.get("Document")["$==="](f):d),!1!==c&&c!==g&&null!=c?f["$!="](l):c))===g||null==b||b.$$is_boolean&&1!=b?g:l=f},h.$$s=this,h.$$arity=1,h),b).call(f),this.parsed=!0,l):this},v.$$arity=-1);a.defn(f,"$counter",E=function(a,b){var c,d,f=g,e=g;null==b&&(b=g);if((c=(d=f=(e=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==d&&d!==g&&null!=d?this.counters["$key?"](a):d))===g||null==c||c.$$is_boolean&&1!=c)(c=b["$nil?"]())===g||null==c||c.$$is_boolean&&
1!=c?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==f&&f!==g&&null!=f?e:0),this.counters["$[]="](a,b);else this.counters["$[]="](a,this.$nextval(e));return this.attributes["$[]="](a,this.counters["$[]"](a))},E.$$arity=-2);a.defn(f,"$counter_increment",z=function(a,b){var c=g,c=this.$counter(a);q.get("AttributeEntry").$new(a,c).$save_to(b.$attributes());return c},z.$$arity=2);a.defn(f,"$nextval",u=function(b){var c,d=g;return(c=a.get("Integer")["$==="](b))===g||null==c||c.$$is_boolean&&
1!=c?(d=b.$to_i(),(c=d.$to_s()["$!="](b.$to_s()))===g||null==c||c.$$is_boolean&&1!=c?n(d,1):n(b["$[]"](0).$ord(),1).$chr()):n(b,1)},u.$$arity=1);a.defn(f,"$register",H=function(b,c,d){var f,e,h=g,l=h=g;null==d&&(d=!1);h=b;"ids"["$==="](h)?(b=[].concat(a.to_a(c)),f=a.to_ary(b),h=null==f[0]?g:f[0],l=null==f[1]?g:f[1],b,!1!==(f=l)&&f!==g&&null!=f?f:l=n(n("[",h),"]"),d=!1!==d&&d!==g&&null!=d?this.references["$[]"]("ids")["$[]="](h,l):(f=h,b=this.references["$[]"]("ids"),!1!==(e=b["$[]"](f))&&e!==g&&null!=
e?e:b["$[]="](f,l))):d="footnotes"["$==="](h)||"indexterms"["$==="](h)?this.references["$[]"](b)["$<<"](c):(f=this.options["$[]"]("catalog_assets"))===g||null==f||f.$$is_boolean&&1!=f?g:this.references["$[]"](b)["$<<"](c);return d},H.$$arity=-3);a.defn(f,"$footnotes?",L=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},L.$$arity=0);a.defn(f,"$footnotes",J=function(){return this.references["$[]"]("footnotes")},J.$$arity=0);a.defn(f,"$nested?",N=function(){return this.parent_document["$!"]()["$!"]()},
N.$$arity=0);a.defn(f,"$embedded?",Q=function(){return this.attributes["$key?"]("embedded")},Q.$$arity=0);a.defn(f,"$extensions?",A=function(){return this.extensions["$!"]()["$!"]()},A.$$arity=0);a.defn(f,"$source",r=function(){var a;return(a=this.reader)===g||null==a||a.$$is_boolean&&1!=a?g:this.reader.$source()},r.$$arity=0);a.defn(f,"$source_lines",P=function(){var a;return(a=this.reader)===g||null==a||a.$$is_boolean&&1!=a?g:this.reader.$source_lines()},P.$$arity=0);a.defn(f,"$doctype",S=function(){var a;
return!1!==(a=this.doctype)&&a!==g&&null!=a?a:this.doctype=this.attributes["$[]"]("doctype")},S.$$arity=0);a.defn(f,"$backend",R=function(){var a;return!1!==(a=this.backend)&&a!==g&&null!=a?a:this.backend=this.attributes["$[]"]("backend")},R.$$arity=0);a.defn(f,"$basebackend?",Z=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},Z.$$arity=1);a.defn(f,"$title",aa=function(){return this.attributes["$[]"]("title")},aa.$$arity=0);a.defn(f,"$title=",V=function(a){var b,c;!1!==(b=this.header)&&
b!==g&&null!=b?b:this.header=q.get("Section").$new(this,0);return b=[a],c=this.header,c["$title="].apply(c,b),b[b.length-1]},V.$$arity=1);a.defn(f,"$doctitle",O=function(a){var b,d,f=g,e=g,h=g;null==a&&(a=c([],{}));if((b=(f=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==g&&null!=b&&(!b.$$is_boolean||1==b))f=this.$title();else if((b=(d=e=this.$first_section(),!1!==d&&d!==g&&null!=d?e["$title?"]():d))!==g&&null!=b&&(!b.$$is_boolean||1==b))f=e.$title();else if((b=(d=a["$[]"]("use_fallback"),
!1!==d&&d!==g&&null!=d?f=this.attributes["$[]"]("untitled-label"):d))===g||null==b||b.$$is_boolean&&1!=b)return g;return(b=h=a["$[]"]("partition"))===g||null==b||b.$$is_boolean&&1!=b?(b=(d=a["$[]"]("sanitize"),!1!==d&&d!==g&&null!=d?f["$include?"]("<"):d))===g||null==b||b.$$is_boolean&&1!=b?f:f.$gsub(q.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():q.get("Title").$new(f,a.$merge(c(["separator"],{separator:h["$=="](!0)?this.attributes["$[]"]("title-separator"):h})))},O.$$arity=-1);a.alias(f,"name",
"doctitle");a.defn(f,"$author",T=function(){return this.attributes["$[]"]("author")},T.$$arity=0);a.defn(f,"$revdate",Y=function(){return this.attributes["$[]"]("revdate")},Y.$$arity=0);a.defn(f,"$notitle",X=function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==g&&null!=a?this.attributes["$key?"]("notitle"):a},X.$$arity=0);a.defn(f,"$noheader",ea=function(){return this.attributes["$key?"]("noheader")},ea.$$arity=0);a.defn(f,"$nofooter",ha=function(){return this.attributes["$key?"]("nofooter")},
ha.$$arity=0);a.defn(f,"$first_section",ia=function(){var a,b,c,d;return(a=this["$has_header?"]())===g||null==a||a.$$is_boolean&&1!=a?(a=(b=!1!==(d=this.blocks)&&d!==g&&null!=d?d:[]).$find,a.$$p=(c=function(a){null==a&&(a=g);return a.$context()["$=="]("section")},c.$$s=this,c.$$arity=1,c),a).call(b):this.header},ia.$$arity=0);a.defn(f,"$has_header?",ka=function(){var a;return(a=this.header)===g||null==a||a.$$is_boolean&&1!=a?!1:!0},ka.$$arity=0);a.alias(f,"header?","has_header?");a.defn(f,"$<<",la=
function(b){var c,d=la.$$p,f=g,e=g;la.$$p=null;f=[];for(e=0;e<arguments.length;e++)f[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_index(b);return(c=a.find_super_dispatcher(this,"<<",la,!1),c.$$p=d,c).apply(this,f)},la.$$arity=1);a.defn(f,"$finalize_header",fa=function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===g||null==b)a["$[]="]("invalid-header",!0);return a},fa.$$arity=-2);a.defn(f,"$save_attributes",da=function(){var a,b,c,d,
f=g,e=g,h=g,l=g,m=g,n=g,p=g,l=h=g;if((f=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==g&&null!=b?b:this.attributes_modified["$include?"]("toc"))===g||null==a||a.$$is_boolean&&1!=a)f["$[]="]("toc","");if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==g&&null!=b?b:this.attributes_modified["$include?"]("sectnums"))===g||null==a||a.$$is_boolean&&1!=a)f["$[]="]("sectnums","")}if((a=!1!==(b=f["$key?"]("doctitle"))&&b!==g&&null!=
b?b:(e=this.$doctitle())["$!"]())===g||null==a||a.$$is_boolean&&1!=a)f["$[]="]("doctitle",e);if((a=this.id)===g||null==a||a.$$is_boolean&&1!=a)this.id=f["$[]"]("css-signature");h=(a=l=(b=f.$delete("toc2"))===g||null==b||b.$$is_boolean&&1!=b?f["$[]"]("toc"):"left")===g||null==a||a.$$is_boolean&&1!=a?g:(a=(b=m=f.$fetch("toc-placement","macro"),!1!==b&&b!==g&&null!=b?m["$!="]("auto"):b))===g||null==a||a.$$is_boolean&&1!=a?f["$[]"]("toc-position"):m;if((a=(b=!1!==l&&l!==g&&null!=l)?!1!==(c=l["$empty?"]()["$!"]())&&
c!==g&&null!=c?c:h["$nil_or_empty?"]()["$!"]():l)!==g&&null!=a&&(!a.$$is_boolean||1==a)){n="left";p="toc2";h=(a=h["$nil_or_empty?"]()["$!"]())===g||null==a||a.$$is_boolean&&1!=a?(a=l["$empty?"]()["$!"]())===g||null==a||a.$$is_boolean&&1!=a?n:l:h;f["$[]="]("toc","");f["$[]="]("toc-placement","auto");l=h;if("left"["$==="](l)||"<"["$==="](l)||"&lt;"["$==="](l))f["$[]="]("toc-position","left");else if("right"["$==="](l)||">"["$==="](l)||"&gt;"["$==="](l))f["$[]="]("toc-position","right");else if("top"["$==="](l)||
"^"["$==="](l))f["$[]="]("toc-position","top");else if("bottom"["$==="](l)||"v"["$==="](l))f["$[]="]("toc-position","bottom");else"preamble"["$==="](l)||"macro"["$==="](l)?(f["$[]="]("toc-position","content"),f["$[]="]("toc-placement",h)):f.$delete("toc-position"),p=g;!1!==p&&p!==g&&null!=p&&(a="toc-class",b=f,!1!==(c=b["$[]"](a))&&c!==g&&null!=c?c:b["$[]="](a,p))}if((a=f["$key?"]("compat-mode"))===g||null==a||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=f["$has_key?"]("language"))!==g&&null!=
a&&(!a.$$is_boolean||1==a))f["$[]="]("source-language",f["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=f["$[]"]("outfilesuffix");this.header_attributes=f.$dup();return(a=this.parent_document)===g||null==a||a.$$is_boolean&&1!=a?(a=(b=q.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(d=function(a){var b=d.$$s||this,c,f;null==b.attribute_overrides&&(b.attribute_overrides=g);null==a&&(a=g);return(c=(f=b.attribute_overrides["$key?"](a),!1!==f&&f!==g&&null!=f?b.attribute_overrides["$[]"](a):f))===
g||null==c||c.$$is_boolean&&1!=c?g:b.attribute_overrides.$delete(a)},d.$$s=this,d.$$arity=1,d),a).call(b):g},da.$$arity=0);a.defn(f,"$restore_attributes",F=function(){var a;((a=this.parent_document)===g||null==a||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes},F.$$arity=0);a.defn(f,"$clear_playback_attributes",ba=function(a){return a.$delete("attribute_entries")},ba.$$arity=1);a.defn(f,"$playback_attributes",x=function(a){var b,c,d;return(b=a["$key?"]("attribute_entries"))===
g||null==b||b.$$is_boolean&&1!=b?g:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(d=function(a){var b=d.$$s||this,c,f=g;null==b.attributes&&(b.attributes=g);null==a&&(a=g);f=a.$name();if((c=a.$negate())===g||null==c||c.$$is_boolean&&1!=c)return b.attributes["$[]="](f,a.$value()),f["$=="]("compat-mode")?b.compat_mode=!0:g;b.attributes.$delete(f);return f["$=="]("compat-mode")?b.compat_mode=!1:g},d.$$s=this,d.$$arity=1,d),b).call(c)},x.$$arity=1);a.defn(f,"$set_attribute",ca=function(a,b){var c,
d=g,f=g;if((c=this["$attribute_locked?"](a))===g||null==c||c.$$is_boolean&&1!=c){d=(c=this.max_attribute_value_size)===g||null==c||c.$$is_boolean&&1!=c?this.$apply_attribute_value_subs(b):this.$apply_attribute_value_subs(b).$limit(this.max_attribute_value_size);f=a;if("backend"["$==="](f))this.$update_backend_attributes(d,this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](f))this.$update_doctype_attributes(d);else this.attributes["$[]="](a,d);this.attributes_modified["$<<"](a);
return!0}return!1},ca.$$arity=2);a.defn(f,"$delete_attribute",B=function(a){var b;return(b=this["$attribute_locked?"](a))===g||null==b||b.$$is_boolean&&1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1},B.$$arity=1);a.defn(f,"$attribute_locked?",W=function(a){return this.attribute_overrides["$key?"](a)},W.$$arity=1);a.defn(f,"$apply_attribute_value_subs",ma=function(a){var b,c=g,d=g;if((b=c=q.get("AttributeEntryPassMacroRx").$match(a))===g||null==b||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);
if((b=c["$[]"](1)["$empty?"]()["$!"]())===g||null==b||b.$$is_boolean&&1!=b)return c["$[]"](2);d=this.$resolve_pass_subs(c["$[]"](1));return(b=d["$empty?"]())===g||null==b||b.$$is_boolean&&1!=b?this.$apply_subs(c["$[]"](2),d):c["$[]"](2)},ma.$$arity=1);a.defn(f,"$update_backend_attributes",na=function(a,b){var c,f,e=g,h=g,l=g,m=g,n=g,p=h=g,C=g,G=g,p=g;null==b&&(b=!1);if((c=!1!==(f=b)&&f!==g&&null!=f?f:!1!==a&&a!==g&&null!=a?a["$!="](this.attributes["$[]"]("backend")):a)===g||null==c||c.$$is_boolean&&
1!=c)return g;e=this.attributes;h=e["$[]"]("backend");l=e["$[]"]("basebackend");m=e["$[]"]("doctype");if((c=a["$start_with?"]("xhtml"))!==g&&null!=c&&(!c.$$is_boolean||1==c))e["$[]="]("htmlsyntax","xml"),a=a["$[]"](d(1,-1,!1));else if(!((c=a["$start_with?"]("html"))===g||null==c||c.$$is_boolean&&1!=c||e["$[]"]("htmlsyntax")["$=="]("xml")))e["$[]="]("htmlsyntax","html");(c=n=q.get("BACKEND_ALIASES")["$[]"](a))===g||null==c||c.$$is_boolean&&1!=c||(a=n);!1!==h&&h!==g&&null!=h&&(e.$delete("backend-"+
h),!1!==m&&m!==g&&null!=m&&e.$delete("backend-"+h+"-doctype-"+m));!1!==m&&m!==g&&null!=m&&(e["$[]="]("doctype-"+m,""),e["$[]="]("backend-"+a+"-doctype-"+m,""));e["$[]="]("backend",a);e["$[]="]("backend-"+a,"");if((c=q.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=this.$create_converter()))===g||null==c||c.$$is_boolean&&1!=c){if(h=a.$sub(q.get("TrailingDigitsRx"),""),C=!1!==(c=q.get("DEFAULT_EXTENSIONS")["$[]"](h))&&c!==g&&null!=c?c:".html",p=C["$[]"](d(1,-1,!1)),(c=this["$attribute_locked?"]("outfilesuffix"))===
g||null==c||c.$$is_boolean&&1!=c)e["$[]="]("outfilesuffix",C)}else{h=this.converter.$basebackend();if((c=this["$attribute_locked?"]("outfilesuffix"))===g||null==c||c.$$is_boolean&&1!=c)e["$[]="]("outfilesuffix",this.converter.$outfilesuffix());p=this.converter.$filetype()}(c=G=e["$[]"]("filetype"))===g||null==c||c.$$is_boolean&&1!=c||e.$delete("filetype-"+G);e["$[]="]("filetype",p);e["$[]="]("filetype-"+p,"");if((c=p=q.get("DEFAULT_PAGE_WIDTHS")["$[]"](h))===g||null==c||c.$$is_boolean&&1!=c)e.$delete("pagewidth");
else e["$[]="]("pagewidth",p);if((c=h["$!="](l))!==g&&null!=c&&(!c.$$is_boolean||1==c)&&(!1!==l&&l!==g&&null!=l&&(e.$delete("basebackend-"+l),!1!==m&&m!==g&&null!=m&&e.$delete("basebackend-"+l+"-doctype-"+m)),e["$[]="]("basebackend",h),e["$[]="]("basebackend-"+h,""),!1!==m&&m!==g&&null!=m))e["$[]="]("basebackend-"+h+"-doctype-"+m,"");return this.backend=g},na.$$arity=-2);a.defn(f,"$update_doctype_attributes",pa=function(a){var b,c=g,d=g,f=g,e=g;if((b=!1!==a&&a!==g&&null!=a?a["$!="](this.attributes["$[]"]("doctype")):
a)===g||null==b||b.$$is_boolean&&1!=b)return g;c=this.attributes;d=c["$[]"]("doctype");f=c["$[]"]("backend");e=c["$[]"]("basebackend");!1!==d&&d!==g&&null!=d&&(c.$delete("doctype-"+d),!1!==f&&f!==g&&null!=f&&c.$delete("backend-"+f+"-doctype-"+d),!1!==e&&e!==g&&null!=e&&c.$delete("basebackend-"+e+"-doctype-"+d));c["$[]="]("doctype",a);c["$[]="]("doctype-"+a,"");if(!1!==f&&f!==g&&null!=f)c["$[]="]("backend-"+f+"-doctype-"+a,"");if(!1!==e&&e!==g&&null!=e)c["$[]="]("basebackend-"+e+"-doctype-"+a,"");
return this.doctype=g},pa.$$arity=1);a.defn(f,"$create_converter",ra=function(){var b,d=g,f=g,e=g,h=g,l=g,d=c([],{});d["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));f=(b=e=this.options["$[]"]("template_dir"))===g||null==b||b.$$is_boolean&&1!=b?(b=f=this.options["$[]"]("template_dirs"))===g||null==b||b.$$is_boolean&&1!=b?g:d["$[]="]("template_dirs",f):d["$[]="]("template_dirs",[e]);!1!==f&&f!==g&&null!=f&&(d["$[]="]("template_cache",this.options.$fetch("template_cache",!0)),d["$[]="]("template_engine",
this.options["$[]"]("template_engine")),d["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),d["$[]="]("eruby",this.options["$[]"]("eruby")),d["$[]="]("safe",this.safe));l=(b=h=this.options["$[]"]("converter"))===g||null==b||b.$$is_boolean&&1!=b?q.get("Converter").$$scope.get("Factory").$default(!1):q.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),h));return l.$create(this.$backend(),d)},ra.$$arity=0);a.defn(f,"$convert",K=function(a){var b,
d,f,e=g,h=g,m=g,n=g;null==a&&(a=c([],{}));((b=this.parsed)===g||null==b||b.$$is_boolean&&1!=b)&&this.$parse();if((b=!1!==(d=l(this.safe,q.get("SafeMode").$$scope.get("SERVER")))&&d!==g&&null!=d?d:a["$empty?"]())===g||null==b||b.$$is_boolean&&1!=b)((b=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===g||null==b||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outfile"),((b=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===g||null==b||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outdir");
((b=this.converter)===g||null==b||b.$$is_boolean&&1!=b)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?h=(b=(d=e=this.blocks["$[]"](0),!1!==d&&d!==g&&null!=d?e.$content_model()["$!="]("compound"):d))===g||null==b||b.$$is_boolean&&1!=b?g:e.$content():(m=(b=(d=a["$key?"]("header_footer"))===g||null==d||d.$$is_boolean&&1!=d?this.options["$[]"]("header_footer"):a["$[]"]("header_footer"))===g||null==b||b.$$is_boolean&&
1!=b?"embedded":"document",h=this.converter.$convert(this,m));!((b=this.parent_document)===g||null==b||b.$$is_boolean&&1!=b)||(b=(d=n=this.extensions,!1!==d&&d!==g&&null!=d?n["$postprocessors?"]():d))===g||null==b||b.$$is_boolean&&1!=b||(b=(d=n.$postprocessors()).$each,b.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=g);return h=a.$process_method()["$[]"](b,h)},f.$$s=this,f.$$arity=1,f),b).call(d);return h},K.$$arity=-1);a.alias(f,"render","convert");a.defn(f,"$write",sa=function(b,c){var d,f,e;
if((d=q.get("Writer")["$==="](this.converter))===g||null==d||d.$$is_boolean&&1!=d){if((d=c["$respond_to?"]("write"))===g||null==d||d.$$is_boolean&&1!=d)(d=(f=a.get("File")).$open,d.$$p=(e=function(a){null==a&&(a=g);return a.$write(b)},e.$$s=this,e.$$arity=1,e),d).call(f,c,"w");else if((d=b["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d)c.$write(b.$chomp()),c.$write(q.get("EOL"));return g}return this.converter.$write(b,c)},sa.$$arity=2);a.defn(f,"$content",ta=function(){var b,c=ta.$$p,d=g,
f=g;ta.$$p=null;d=[];for(f=0;f<arguments.length;f++)d[f]=arguments[f];this.attributes.$delete("title");return(b=a.find_super_dispatcher(this,"content",ta,!1),b.$$p=c,b).apply(this,d)},ta.$$arity=0);a.defn(f,"$docinfo",va=function(a,b){var d,f,h,m,n=g,p=g,u=g,M=g,C=n=g,G=g,p=p=g;null==a&&(a="head");null==b&&(b=g);if((d=l(this.$safe(),q.get("SafeMode").$$scope.get("SECURE")))===g||null==d||d.$$is_boolean&&1!=d){n=a["$=="]("head")?g:"-"+a;if(!1===b||b===g||null==b)b=this.outfilesuffix;p=this.attributes["$[]"]("docinfodir");
u=g;M=(d=(M=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d?(d=(f=M.$split(",")).$map,d.$$p="strip".$to_proc(),d).call(f):(d=this.attributes["$key?"]("docinfo2"))===g||null==d||d.$$is_boolean&&1!=d?(d=this.attributes["$key?"]("docinfo1"))===g||null==d||d.$$is_boolean&&1!=d?!1!==M&&M!==g&&null!=M?["private"]:g:["shared"]:["private","shared"];if(!1!==M&&M!==g&&null!=M){n="docinfo"+n+b;if((d=M["$&"](["shared","shared-"+a])["$empty?"]())===g||null==d||d.$$is_boolean&&
1!=d)C=this.$normalize_system_path(n,p),(d=u=this.$read_asset(C,c(["normalize"],{normalize:!0})))===g||null==d||d.$$is_boolean&&1!=d||(d=!1!==(h=G)&&h!==g&&null!=h?h:G=this.$resolve_docinfo_subs())===g||null==d||d.$$is_boolean&&1!=d||(u=(d=G["$=="]("attributes"))===g||null==d||d.$$is_boolean&&1!=d?this.$apply_subs(u,G):this.$sub_attributes(u));if((d=!1!==(h=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&h!==g&&null!=h?h:M["$&"](["private","private-"+a])["$empty?"]())===g||null==d||d.$$is_boolean&&
1!=d)C=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+n,p),(d=p=this.$read_asset(C,c(["normalize"],{normalize:!0})))===g||null==d||d.$$is_boolean&&1!=d||((d=!1!==(h=G)&&h!==g&&null!=h?h:G=this.$resolve_docinfo_subs())===g||null==d||d.$$is_boolean&&1!=d||(p=(d=G["$=="]("attributes"))===g||null==d||d.$$is_boolean&&1!=d?this.$apply_subs(p,G):this.$sub_attributes(p)),u=!1!==u&&u!==g&&null!=u?""+u+q.get("EOL")+p:p)}(d=(h=this.extensions,!1!==h&&h!==g&&null!=h?this["$docinfo_processors?"](a):
h))===g||null==d||d.$$is_boolean&&1!=d||(p=e((d=(h=this.docinfo_processor_extensions["$[]"](a)).$map,d.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=g);return a.$process_method()["$[]"](b)},m.$$s=this,m.$$arity=1,m),d).call(h).$compact(),q.get("EOL")),u=!1!==u&&u!==g&&null!=u?""+u+q.get("EOL")+p:p);return""+u}return""},va.$$arity=-1);a.defn(f,"$resolve_docinfo_subs",ua=function(){var a,b=g;if((a=this.attributes["$key?"]("docinfosubs"))===g||null==a||a.$$is_boolean&&1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),
"block",g,"docinfo");return(a=b["$empty?"]())===g||null==a||a.$$is_boolean&&1!=a?b:g},ua.$$arity=0);a.defn(f,"$docinfo_processors?",ja=function(a){var b,c;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===g||null==b||b.$$is_boolean&&1!=b?(b=(c=this.extensions,!1!==c&&c!==g&&null!=c?this.document.$extensions()["$docinfo_processors?"](a):c))===g||null==b||b.$$is_boolean&&1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():
this.docinfo_processor_extensions["$[]"](a)["$!="](!1)},ja.$$arity=-1);return(a.defn(f,"$to_s",t=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](g))===g||null==a||a.$$is_boolean&&1!=a?g:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"},t.$$arity=0),g)&&"to_s"})(v.base,v.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){var l=a.nil,n=a.module,e=a.klass,g=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(h){h=n(h,"Asciidoctor").$$scope;(function(b,$super){function d(){}var h=d=e(b,$super,"Inline",d),n,k,p,f;h.$attr_reader("text");h.$attr_reader("type");h.$attr_accessor("target");a.defn(h,"$initialize",n=function(b,d,f,e){var h,k=l;null==f&&(f=l);null==e&&(e=g([],{}));n.$$p=null;(h=a.find_super_dispatcher(this,
"initialize",n,!1),h.$$p=null,h).call(this,b,d);this.node_name="inline_"+d;this.text=f;this.id=e["$[]"]("id");this.type=e["$[]"]("type");this.target=e["$[]"]("target");return(h=(k=e["$[]"]("attributes"))["$nil_or_empty?"]())===l||null==h||h.$$is_boolean&&1!=h?this.$update_attributes(k):l},n.$$arity=-3);a.defn(h,"$block?",k=function(){return!1},k.$$arity=0);a.defn(h,"$inline?",p=function(){return!0},p.$$arity=0);a.defn(h,"$convert",f=function(){return this.$converter().$convert(this)},f.$$arity=0);
return a.alias(h,"render","convert")})(h.base,h.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){var l=a.nil,n=a.module,e=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(g){g=n(g,"Asciidoctor").$$scope;(function(g,$super){function c(){}var d=c=e(g,$super,"List",c),n=d.$$proto,w,k,p,f;n.context=n.document=n.style=l;a.alias(d,"items",
"blocks");a.alias(d,"content","blocks");a.alias(d,"items?","blocks?");a.defn(d,"$initialize",w=function(c,d){var f,e=w.$$p,g=l,h=l;w.$$p=null;g=[];for(h=0;h<arguments.length;h++)g[h]=arguments[h];return(f=a.find_super_dispatcher(this,"initialize",w,!1),f.$$p=e,f).apply(this,g)},w.$$arity=2);a.defn(d,"$outline?",k=function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==l&&null!=a?a:this.context["$=="]("olist")},k.$$arity=0);a.defn(d,"$convert",p=function(){var c,d=p.$$p,f=l,e=f=l;p.$$p=null;
f=[];for(e=0;e<arguments.length;e++)f[e]=arguments[e];return this.context["$=="]("colist")?(f=(c=a.find_super_dispatcher(this,"convert",p,!1),c.$$p=d,c).apply(this,f),this.document.$callouts().$next_list(),f):(c=a.find_super_dispatcher(this,"convert",p,!1),c.$$p=d,c).apply(this,f)},p.$$arity=0);a.alias(d,"render","convert");return(a.defn(d,"$to_s",f=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+
"}>"},f.$$arity=0),l)&&"to_s"})(g.base,g.get("AbstractBlock"));(function(g,$super){function c(){}var d=c=e(g,$super,"ListItem",c),n=d.$$proto,w=d.$$scope,k,p,f,m,q,y,I;n.text=n.blocks=l;a.alias(d,"list","parent");d.$attr_accessor("marker");a.defn(d,"$initialize",k=function(c,d){var f;null==d&&(d=l);k.$$p=null;(f=a.find_super_dispatcher(this,"initialize",k,!1),f.$$p=null,f).call(this,c,"list_item");this.text=d;return this.level=c.$level()},k.$$arity=-2);a.defn(d,"$text?",p=function(){return this.text["$nil_or_empty?"]()["$!"]()},
p.$$arity=0);a.defn(d,"$text",f=function(){return this.$apply_subs(this.text)},f.$$arity=0);a.defn(d,"$simple?",m=function(){var a,c,d=l;return!1!==(a=this.blocks["$empty?"]())&&a!==l&&null!=a?a:(c=this.blocks.$size()["$=="](1)?w.get("List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==c&&c!==l&&null!=c?d["$outline?"]():c)},m.$$arity=0);a.defn(d,"$compound?",q=function(){return this["$simple?"]()["$!"]()},q.$$arity=0);a.defn(d,"$fold_first",y=function(a,c){var d,f,e,g,h,k,m=
l,n=l;null==a&&(a=!1);null==c&&(c=!1);(d=(f=(e=m=this.blocks["$[]"](0),!1!==e&&e!==l&&null!=e?w.get("Block")["$==="](m):e),!1!==f&&f!==l&&null!=f?!1!==(e=m.$context()["$=="]("paragraph")?a["$!"]():m.$context()["$=="]("paragraph"))&&e!==l&&null!=e?e:(g=(h=!1!==(k=c)&&k!==l&&null!=k?k:a["$!"](),!1!==h&&h!==l&&null!=h?m.$context()["$=="]("literal"):h),!1!==g&&g!==l&&null!=g?m["$option?"]("listparagraph"):g):f))===l||null==d||d.$$is_boolean&&1!=d||(n=this.$blocks().$shift(),((d=this.text["$nil_or_empty?"]())===
l||null==d||d.$$is_boolean&&1!=d)&&n.$lines().$unshift(this.text),this.text=n.$source());return l},y.$$arity=-1);return(a.defn(d,"$to_s",I=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==l&&null!=a?a:[]).$size()+"}>"},I.$$arity=0),l)&&"to_s"})(g.base,g.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function b(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var d=a.nil,v=a.module,w=a.klass,k=a.hash2,p=a.hash,f=a.range,m=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $find $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $map $each_with_index $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_colspecs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(q){(function(q,$super){function v(){}var z=v=w(q,$super,"Parser",v),u=z.$$scope,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na,pa,ra,K,sa,ta,va,ua,ja,t,U,qa,oa,wa,xa,za,Aa;a.cdecl(u,"BlockMatchData",u.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(u,"TabRx",/\t/);a.cdecl(u,"TabIndentRx",/^\t+/);a.cdecl(u,"StartOfBlockProc",(H=z.$lambda,H.$$p=(L=function(a){var b=L.$$s||this,c,f;null==a&&(a=d);return!1!==(c=(f=a["$start_with?"]("["),!1!==
f&&f!==d&&null!=f?u.get("BlockAttributeLineRx")["$=~"](a):f))&&c!==d&&null!=c?c:b["$is_delimited_block?"](a)},L.$$s=z,L.$$arity=1,L),H).call(z));a.cdecl(u,"StartOfListProc",(H=z.$lambda,H.$$p=(J=function(a){null==a&&(a=d);return u.get("AnyListRx")["$=~"](a)},J.$$s=z,J.$$arity=1,J),H).call(z));a.cdecl(u,"StartOfBlockOrListProc",(H=z.$lambda,H.$$p=(N=function(a){var b=N.$$s||this,c,f,e;null==a&&(a=d);return!1!==(c=!1!==(f=b["$is_delimited_block?"](a))&&f!==d&&null!=f?f:(e=a["$start_with?"]("["),!1!==
e&&e!==d&&null!=e?u.get("BlockAttributeLineRx")["$=~"](a):e))&&c!==d&&null!=c?c:u.get("AnyListRx")["$=~"](a)},N.$$s=z,N.$$arity=1,N),H).call(z));a.cdecl(u,"NoOp",d);a.defn(z,"$initialize",Q=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},Q.$$arity=0);a.defs(z,"$parse",A=function(b,c,f){var e,g,h=d,l=d;null==f&&(f=k([],{}));h=this.$parse_document_header(b,c);if((e=f["$[]"]("header_only"))===d||null==e||e.$$is_boolean&&1!=e)for(;(g=b["$has_more_lines?"]())!==
d&&null!=g&&(!g.$$is_boolean||1==g);)if(f=this.$next_section(b,c,h),g=a.to_ary(f),l=null==g[0]?d:g[0],h=null==g[1]?d:g[1],f,!1!==l&&l!==d&&null!=l)c["$<<"](l);return c},A.$$arity=-3);a.defs(z,"$parse_document_header",r=function(b,c){var f,e,g=d,h=d,k=d,l=d,m=d,n=d,u=h=m=d,h=h=d,g=this.$parse_block_metadata_lines(b,c);if((f=(e=h=this["$is_next_line_document_title?"](b,g),!1!==e&&e!==d&&null!=e?g["$has_key?"]("title"):e))!==d&&null!=f&&(!f.$$is_boolean||1==f))return c.$finalize_header(g,!1);k=d;if((f=
(l=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===d||null==f||f.$$is_boolean&&1!=f)f=[k=l],e=c,e["$title="].apply(e,f),f[f.length-1];m=d;if(!1!==h&&h!==d&&null!=h){(f=c.$sourcemap())===d||null==f||f.$$is_boolean&&1!=f||(n=b.$cursor());e=this.$parse_section_title(b,c);f=a.to_ary(e);c["$id="](null==f[0]?d:f[0]);m=null==f[2]?d:f[2];h=null==f[4]?d:f[4];e;if(!1===k||k===d||null==k)f=[k=m],e=c,e["$title="].apply(e,f),f[f.length-1];!1!==h&&h!==d&&null!=h||c.$set_attribute("compat-mode","");(f=
u=g.$delete("separator"))===d||null==f||f.$$is_boolean&&1!=f||c.$set_attribute("title-separator",u);!1!==n&&n!==d&&null!=n&&(f=[n],e=c.$header(),e["$source_location="].apply(e,f),f[f.length-1]);c.$attributes()["$[]="]("doctitle",m);if((f=c.$id())===d||null==f||f.$$is_boolean&&1!=f){if(!((f=h=g.$delete(1))===d||null==f||f.$$is_boolean&&1!=f||(h=p(1,h),this.$parse_style_attribute(h,b),(f=h["$key?"]("id"))===d||null==f||f.$$is_boolean&&1!=f)))g["$[]="]("id",h["$[]"]("id"));f=[g.$delete("id")];e=c;e["$id="].apply(e,
f);f[f.length-1]}else g.$delete(1),g.$delete("id");this.$parse_header_metadata(b,c)}if((f=!1!==(e=(l=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&e!==d&&null!=e?e:l["$=="](m))===d||null==f||f.$$is_boolean&&1!=f)f=[k=l],e=c,e["$title="].apply(e,f),f[f.length-1];if(!1!==k&&k!==d&&null!=k)c.$attributes()["$[]="]("doctitle",k);c.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(b,c);return c.$finalize_header(g)},r.$$arity=2);a.defs(z,"$parse_manpage_header",P=function(a,b){var c,f=
d,f=f=d;(c=f=u.get("ManpageTitleVolnumRx").$match(b.$attributes()["$[]"]("doctitle")))===d||null==c||c.$$is_boolean&&1!=c?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),b.$attributes()["$[]="]("mantitle",b.$attributes()["$[]"]("doctitle")),b.$attributes()["$[]="]("manvolnum","1")):(b.$attributes()["$[]="]("mantitle",b.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),b.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip()));a.$skip_blank_lines();if((c=this["$is_next_line_section?"](a,
k([],{})))===d||null==c||c.$$is_boolean&&1!=c)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected");f=this.$initialize_section(a,b,k([],{}));if(f.$level()["$=="](1)){f=a.$read_lines_until(k(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((c=f=u.get("ManpageNamePurposeRx").$match(f))===d||null==c||c.$$is_boolean&&1!=c)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");b.$attributes()["$[]="]("manname",
b.$sub_attributes(f["$[]"](1)));b.$attributes()["$[]="]("manpurpose",f["$[]"](2));return b.$backend()["$=="]("manpage")?(b.$attributes()["$[]="]("docname",b.$attributes()["$[]"]("manname")),b.$attributes()["$[]="]("outfilesuffix","."+b.$attributes()["$[]"]("manvolnum"))):d}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")},P.$$arity=2);a.defs(z,"$next_section",S=function(b,c,f){var g,h,m,p,t=d,r=d,q=d,A=d,x=d,v=d,B=d,w=d,y=B=d,z=y=y=d,T=d,x=r=
d;null==f&&(f=k([],{}));q=r=t=!1;(g=(h=(m=c.$context()["$=="]("document"))?c.$blocks()["$empty?"]():c.$context()["$=="]("document"),!1!==h&&h!==d&&null!=h?!1!==(m=!1!==(p=A=c["$has_header?"]())&&p!==d&&null!=p?p:f.$delete("invalid-header"))&&m!==d&&null!=m?m:this["$is_next_line_section?"](b,f)["$!"]():h))===d||null==g||g.$$is_boolean&&1!=g?(x=c.$document().$doctype(),v=this.$initialize_section(b,c,f),f=(g=B=f["$[]"]("title"))===d||null==g||g.$$is_boolean&&1!=g?k([],{}):k(["title"],{title:B}),B=v.$level(),
(g=(h=B["$=="](0))?x["$=="]("book"):B["$=="](0))===d||null==g||g.$$is_boolean&&1!=g?w=[l(B,1)]:(r=v.$special()["$!"](),w=(g=(h=v.$special(),!1!==h&&h!==d&&null!=h?["preface","appendix"]["$include?"](v.$sectname()):h))===d||null==g||g.$$is_boolean&&1!=g?[l(B,1)]:[l(B,2)])):(x=c.$doctype(),(g=!1!==(h=A)&&h!==d&&null!=h?h:(m=x["$=="]("book"))?f["$[]"](1)["$!="]("abstract"):x["$=="]("book"))===d||null==g||g.$$is_boolean&&1!=g||(t=q=u.get("Block").$new(c,"preamble",k(["content_model"],{content_model:"compound"})),
(g=(h=x["$=="]("book"))?c["$attr?"]("preface-title"):x["$=="]("book"))===d||null==g||g.$$is_boolean&&1!=g||(g=[c.$attr("preface-title")],h=t,h["$title="].apply(h,g),g[g.length-1]),c["$<<"](t)),v=c,B=0,w=(g=c.$attributes()["$has_key?"]("fragment"))===d||null==g||g.$$is_boolean&&1!=g?x["$=="]("book")?[0,1]:[1]:d);for(b.$skip_blank_lines();(h=b["$has_more_lines?"]())!==d&&null!=h&&(!h.$$is_boolean||1==h);){this.$parse_block_metadata_lines(b,v,f);if((h=y=this["$is_next_line_section?"](b,f))===d||null==
h||h.$$is_boolean&&1!=h)(y=b.$line_info(),(h=z=this.$next_block(b,!1!==(m=q)&&m!==d&&null!=m?m:v,f,k(["parse_metadata"],{parse_metadata:!1})))===d||null==h||h.$$is_boolean&&1!=h)||(!1!==r&&r!==d&&null!=r&&((h=v["$blocks?"]()["$!"]())===d||null==h||h.$$is_boolean&&1!=h?v.$blocks().$size()["$=="](1)&&((T=v.$blocks()["$[]"](0),(h=(m=q["$!"](),!1!==m&&m!==d&&null!=m?T.$content_model()["$=="]("compound"):m))===d||null==h||h.$$is_boolean&&1!=h)?(h=T.$content_model()["$!="]("compound"))===d||null==h||h.$$is_boolean&&
1!=h||(q=u.get("Block").$new(v,"open",k(["content_model"],{content_model:"compound"})),h=["partintro"],m=q,m["$style="].apply(m,h),h[h.length-1],v.$blocks().$shift(),T.$style()["$=="]("partintro")&&(h=["paragraph"],m=T,m["$context="].apply(m,h),h[h.length-1],h=[d],m=T,m["$style="].apply(m,h),h[h.length-1]),h=[q],m=T,m["$parent="].apply(m,h),h[h.length-1],q["$<<"](T),h=[q],m=z,m["$parent="].apply(m,h),h[h.length-1],v["$<<"](q)):this.$warn("asciidoctor: ERROR: "+y+": illegal block content outside of partintro block")):
(h=z.$style()["$!="]("partintro"))===d||null==h||h.$$is_boolean&&1!=h||(z.$context()["$=="]("paragraph")?(h=["open"],m=z,m["$context="].apply(m,h),h[h.length-1],h=["partintro"],m=z,m["$style="].apply(m,h),h[h.length-1]):(q=u.get("Block").$new(v,"open",k(["content_model"],{content_model:"compound"})),h=["partintro"],m=q,m["$style="].apply(m,h),h[h.length-1],h=[q],m=z,m["$parent="].apply(m,h),h[h.length-1],v["$<<"](q)))),(!1!==(h=q)&&h!==d&&null!=h?h:v)["$<<"](z),f=k([],{}));else if(y=l(y,v.$document().$attr("leveloffset",
0).$to_i()),(h=!1!==(m=n(y,B))&&m!==d&&null!=m?m:v.$context()["$=="]("document")?y["$=="](0):v.$context()["$=="]("document"))===d||null==h||h.$$is_boolean&&1!=h){(h=(m=y["$=="](0))?x["$!="]("book"):y["$=="](0))===d||null==h||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections");break}else(h=y["$=="](0)?x["$!="]("book"):y["$=="](0))===d||null==h||h.$$is_boolean&&1!=h?(h=!1!==w&&w!==d&&null!=w?w["$include?"](y)["$!"]():w)===d||null==
h||h.$$is_boolean&&1!=h||this.$warn(l(l("asciidoctor: WARNING: "+b.$line_info()+": section title out of sequence: ","expected "+((h=n(w.$size(),1))===d||null==h||h.$$is_boolean&&1!=h?"level":"levels")+" "+e(w," or ")+", "),"got level "+y)):this.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections"),m=this.$next_section(b,v,f),h=a.to_ary(m),y=null==h[0]?d:h[0],f=null==h[1]?d:h[1],m,v["$<<"](y);b.$skip_blank_lines()}if(!1!==r&&r!==d&&null!=r)((g=(h=v["$blocks?"](),
!1!==h&&h!==d&&null!=h?v.$blocks()["$[]"](-1).$context()["$=="]("section"):h))===d||null==g||g.$$is_boolean&&1!=g)&&this.$warn("asciidoctor: ERROR: "+b.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==t&&t!==d&&null!=t)if(r=c,(g=t["$blocks?"]())===d||null==g||g.$$is_boolean&&1!=g)r.$blocks().$shift();else if((g=(h=(m=u.get("Compliance").$unwrap_standalone_preamble(),!1!==m&&m!==d&&null!=m?r.$blocks().$size()["$=="](1):m),!1!==h&&h!==d&&null!=
h?x["$!="]("book"):h))!==d&&null!=g&&(!g.$$is_boolean||1==g))for(r.$blocks().$shift();(h=x=t.$blocks().$shift())!==d&&null!=h&&(!h.$$is_boolean||1==h);)h=[r],m=x,m["$parent="].apply(m,h),h[h.length-1],r["$<<"](x);return[(g=v["$!="](c))===d||null==g||g.$$is_boolean&&1!=g?d:v,f.$dup()]},S.$$arity=-3);a.defs(z,"$next_block",R=function(b,c,e,m){var p,D,r,t,q,A,x,v,B,y,w,z=d,T=d,E=d,O=d,H=d,S=d,Q=d,X=d,K=d,P=d,F=d,N=d,J=d,V=q=d,ea=d,L=d,R=d,W=R=d,ca=q=R=q=d,Y=R=K=K=d,ha=d,aa=d,pa=q=K=K=Y=R=q=K=Y=d,U=J=
V=q=R=q=q=d,Z=d,ra=d,ka=J=V=V=d,ia=z=d,ba=d;null==e&&(e=k([],{}));null==m&&(m=k([],{}));z=b.$skip_blank_lines();if((p=b["$has_more_lines?"]())===d||null==p||p.$$is_boolean&&1!=p)return d;(p=(D=T=m["$[]"]("text"),!1!==D&&D!==d&&null!=D?n(z,0):D))===d||null==p||p.$$is_boolean&&1!=p||(m.$delete("text"),T=!1);E=m.$fetch("parse_metadata",!0);O=c.$document();(p=H=O.$extensions())===d||null==p||p.$$is_boolean&&1!=p?S=Q=!1:(S=H["$blocks?"](),Q=H["$block_macros?"]());X=u.get("ListItem")["$==="](c);P=K=d;F=
O.$sourcemap();for(N=d;(D=(r=K["$!"](),!1!==r&&r!==d&&null!=r?b["$has_more_lines?"]():r))!==d&&null!=D&&(!D.$$is_boolean||1==D);)if((D=(r=!1!==E&&E!==d&&null!=E)?this.$parse_block_metadata_line(b,O,e,m):E)===d||null==D||D.$$is_boolean&&1!=D){!1!==F&&F!==d&&null!=F&&(N=b.$cursor());J=b.$read_line();q=!1;L=ea=V=d;(D=e["$[]"](1))===d||null==D||D.$$is_boolean&&1!=D||(r=this.$parse_style_attribute(e,b),D=a.to_ary(r),P=null==D[0]?d:D[0],r);(D=R=this["$is_delimited_block?"](J,!0))===d||null==D||D.$$is_boolean&&
1!=D||((q=!0,V=ea=R.$context(),L=R.$terminator(),(D=P["$!"]())===d||null==D||D.$$is_boolean&&1!=D)?(D=P["$!="](V.$to_s()))===d||null==D||D.$$is_boolean&&1!=D||((D=R.$masq()["$include?"](P))===d||null==D||D.$$is_boolean&&1!=D?(D=(r=R.$masq()["$include?"]("admonition"),!1!==r&&r!==d&&null!=r?u.get("ADMONITION_STYLES")["$include?"](P):r))===d||null==D||D.$$is_boolean&&1!=D?(D=(r=!1!==S&&S!==d&&null!=S)?H["$registered_for_block?"](P,V):S)===d||null==D||D.$$is_boolean&&1!=D?(this.$warn("asciidoctor: WARNING: "+
b.$prev_line_info()+": invalid style for "+V+" block: "+P),P=V.$to_s()):V=P.$to_sym():V="admonition":V=P.$to_sym()):P=e["$[]="]("style",V.$to_s()));if(!1===q||q===d||null==q)for(;(r=!0)!==d&&null!=r&&(!r.$$is_boolean||1==r);){if((r=(t=(q=!1!==P&&P!==d&&null!=P)?u.get("Compliance").$strict_verbatim_paragraphs():P,!1!==t&&t!==d&&null!=t?u.get("VERBATIM_STYLES")["$include?"](P):t))!==d&&null!=r&&(!r.$$is_boolean||1==r)){V=P.$to_sym();b.$unshift_line(J);break}if(!1===T||T===d||null==T)if(R=(r=u.get("Compliance").$markdown_syntax())===
d||null==r||r.$$is_boolean&&1!=r?J.$chr():J.$lstrip().$chr(),(r=(t=(q=u.get("LAYOUT_BREAK_LINES")["$has_key?"](R),!1!==q&&q!==d&&null!=q?g(J.$length(),3):q),!1!==t&&t!==d&&null!=t?((q=u.get("Compliance").$markdown_syntax())===d||null==q||q.$$is_boolean&&1!=q?u.get("LayoutBreakLineRx"):u.get("LayoutBreakLinePlusRx"))["$=~"](J):t))!==d&&null!=r&&(!r.$$is_boolean||1==r)){K=u.get("Block").$new(c,u.get("LAYOUT_BREAK_LINES")["$[]"](R),k(["content_model"],{content_model:"empty"}));break}else if((r=(t=J["$end_with?"]("]"),
!1!==t&&t!==d&&null!=t?W=u.get("MediaBlockMacroRx").$match(J):t))!==d&&null!=r&&(!r.$$is_boolean||1==r)){q=W["$[]"](1).$to_sym();K=u.get("Block").$new(c,q,k(["content_model"],{content_model:"empty"}));R=q["$=="]("image")?["alt","width","height"]:q["$=="]("video")?["poster","width","height"]:[];if(!1!==P&&P!==d&&null!=P){if(q["$=="]("image"))e["$[]="]("alt",P);e.$delete("style");P=d}K.$parse_attributes(W["$[]"](3),R,k(["unescape_input","sub_input","sub_result","into"],{unescape_input:q["$=="]("image"),
sub_input:!0,sub_result:!1,into:e}));q=K.$sub_attributes(W["$[]"](2),k(["attribute_missing"],{attribute_missing:"drop-line"}));if((r=q["$empty?"]())!==d&&null!=r&&(!r.$$is_boolean||1==r)){if(O.$attributes().$fetch("attribute-missing",u.get("Compliance").$attribute_missing())["$=="]("skip"))return u.get("Block").$new(c,"paragraph",k(["content_model","source"],{content_model:"simple",source:[J]}));e.$clear();return d}e["$[]="]("target",q);break}else if((r=(t=R["$=="]("t"))?W=u.get("TocBlockMacroRx").$match(J):
R["$=="]("t"))!==d&&null!=r&&(!r.$$is_boolean||1==r)){K=u.get("Block").$new(c,"toc",k(["content_model"],{content_model:"empty"}));K.$parse_attributes(W["$[]"](1),[],k(["sub_result","into"],{sub_result:!1,into:e}));break}else if((r=(t=(q=!1!==Q&&Q!==d&&null!=Q)?W=u.get("GenericBlockMacroRx").$match(J):Q,!1!==t&&t!==d&&null!=t?ca=H["$registered_for_block_macro?"](W["$[]"](1)):t))!==d&&null!=r&&(!r.$$is_boolean||1==r)){q=W["$[]"](2);K=W["$[]"](3);if(ca.$config()["$[]"]("content_model")["$=="]("attributes"))((r=
K["$empty?"]())===d||null==r||r.$$is_boolean&&1!=r)&&O.$parse_attributes(K,!1!==(r=ca.$config()["$[]"]("pos_attrs"))&&r!==d&&null!=r?r:[],k(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:e}));else e["$[]="]("text",K);(r=K=ca.$config()["$[]"]("default_attrs"))===d||null==r||r.$$is_boolean&&1!=r||(r=(t=K).$each,r.$$p=(A=function(a,b){var c,f,g;null==a&&(a=d);null==b&&(b=d);return c=a,f=e,!1!==(g=f["$[]"](c))&&g!==d&&null!=g?g:f["$[]="](c,b)},A.$$s=this,A.$$arity=2,A),r).call(t);
if((r=K=ca.$process_method()["$[]"](c,q,e.$dup()))===d||null==r||r.$$is_boolean&&1!=r)return e.$clear(),d;e.$replace(K.$attributes());break}if((r=W=u.get("CalloutListRx").$match(J))!==d&&null!=r&&(!r.$$is_boolean||1==r)){K=u.get("List").$new(c,"colist");e["$[]="]("style","arabic");b.$unshift_line(J);for(R=1;(q=!1!==(x=W)&&x!==d&&null!=x?x:(v=b["$has_more_lines?"](),!1!==v&&v!==d&&null!=v?W=u.get("CalloutListRx").$match(b.$peek_line()):v))!==d&&null!=q&&(!q.$$is_boolean||1==q);){(q=W["$[]"](1).$to_i()["$!="](R))===
d||null==q||q.$$is_boolean&&1!=q||this.$warn("asciidoctor: WARNING: "+b.$path()+": line "+h(b.$lineno(),2)+": callout list item index: expected "+R+" got "+W["$[]"](1));Y=this.$next_list_item(b,K,W);R=l(R,1);if(!1!==Y&&Y!==d&&null!=Y)if(K["$<<"](Y),ha=O.$callouts().$callout_ids(K.$items().$size()),(q=ha["$empty?"]()["$!"]())===d||null==q||q.$$is_boolean&&1!=q)this.$warn("asciidoctor: WARNING: "+b.$path()+": line "+h(b.$lineno(),2)+": no callouts refer to list item "+K.$items().$size());else Y.$attributes()["$[]="]("coids",
ha);W=d}O.$callouts().$next_list();break}else if((r=u.get("UnorderedListRx")["$=~"](J))!==d&&null!=r&&(!r.$$is_boolean||1==r)){b.$unshift_line(J);K=this.$next_outline_list(b,"ulist",c);break}else if((r=W=u.get("OrderedListRx").$match(J))!==d&&null!=r&&(!r.$$is_boolean||1==r)){b.$unshift_line(J);K=this.$next_outline_list(b,"olist",c);if((r=(q=e["$[]"]("style")["$!"](),!1!==q&&q!==d&&null!=q?K.$attributes()["$[]"]("style")["$!"]():q))!==d&&null!=r&&(!r.$$is_boolean||1==r))if(aa=K.$items()["$[]"](0).$marker(),
(r=aa["$start_with?"]("."))===d||null==r||r.$$is_boolean&&1!=r)P=(r=(q=u.get("ORDERED_LIST_STYLES")).$find,r.$$p=(B=function(a){null==a&&(a=d);return u.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](aa)},B.$$s=this,B.$$arity=1,B),r).call(q),e["$[]="]("style",(!1!==(r=P)&&r!==d&&null!=r?r:u.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else e["$[]="]("style",(!1!==(r=u.get("ORDERED_LIST_STYLES")["$[]"](h(aa.$length(),1)))&&r!==d&&null!=r?r:u.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((r=
W=u.get("DescriptionListRx").$match(J))!==d&&null!=r&&(!r.$$is_boolean||1==r)){b.$unshift_line(J);K=this.$next_labeled_list(b,W,c);break}else if((r=(x=!1!==(v=P["$=="]("float"))&&v!==d&&null!=v?v:P["$=="]("discrete"),!1!==x&&x!==d&&null!=x?this["$is_section_title?"](J,(v=u.get("Compliance").$underline_style_section_titles())===d||null==v||v.$$is_boolean&&1!=v?d:b.$peek_line(!0)):x))!==d&&null!=r&&(!r.$$is_boolean||1==r)){b.$unshift_line(J);x=this.$parse_section_title(b,O);r=a.to_ary(x);Y=null==r[0]?
d:r[0];K=null==r[1]?d:r[1];q=null==r[2]?d:r[2];R=null==r[3]?d:r[3];x;if(!1!==K&&K!==d&&null!=K)e["$[]="]("reftext",K);(r=e["$has_key?"]("id"))===d||null==r||r.$$is_boolean&&1!=r||(!1!==(r=Y)&&r!==d&&null!=r?r:Y=e["$[]"]("id"));K=u.get("Block").$new(c,"floating_title",k(["content_model"],{content_model:"empty"}));(r=Y["$nil_or_empty?"]())===d||null==r||r.$$is_boolean&&1!=r?r=[Y]:(Y=u.get("Section").$new(c),r=[q],x=Y,x["$title="].apply(x,r),r[r.length-1],r=[Y.$generate_id()]);x=K;x["$id="].apply(x,
r);r[r.length-1];r=[R];x=K;x["$level="].apply(x,r);r[r.length-1];r=[q];x=K;x["$title="].apply(x,r);r[r.length-1];break}else if((r=(x=!1!==P&&P!==d&&null!=P)?P["$!="]("normal"):P)!==d&&null!=r&&(!r.$$is_boolean||1==r))if((r=u.get("PARAGRAPH_STYLES")["$include?"](P))===d||null==r||r.$$is_boolean&&1!=r)if((r=u.get("ADMONITION_STYLES")["$include?"](P))===d||null==r||r.$$is_boolean&&1!=r)if((r=(x=!1!==S&&S!==d&&null!=S)?H["$registered_for_block?"](P,"paragraph"):S)===d||null==r||r.$$is_boolean&&1!=r)this.$warn("asciidoctor: WARNING: "+
b.$prev_line_info()+": invalid style for paragraph: "+P),P=d;else{V=P.$to_sym();ea="paragraph";b.$unshift_line(J);break}else{V="admonition";ea="paragraph";b.$unshift_line(J);break}else{V=P.$to_sym();ea="paragraph";b.$unshift_line(J);break}K=(r=z["$=="](0))?X:z["$=="](0);if((r=(x=P["$!="]("normal"),!1!==x&&x!==d&&null!=x?u.get("LiteralParagraphRx")["$=~"](J):x))===d||null==r||r.$$is_boolean&&1!=r){b.$unshift_line(J);K=this.$read_paragraph_lines(b,K,k(["skip_line_comments"],{skip_line_comments:!0}));
if((r=K["$empty?"]())!==d&&null!=r&&(!r.$$is_boolean||1==r))return b.$advance(),d;this.$catalog_inline_anchors(K.$join(u.get("EOL")),O);q=K["$[]"](0);if((r=(x=T["$!"](),!1!==x&&x!==d&&null!=x?pa=u.get("AdmonitionParagraphRx").$match(q):x))===d||null==r||r.$$is_boolean&&1!=r)if((r=(x=(v=T["$!"](),!1!==v&&v!==d&&null!=v?u.get("Compliance").$markdown_syntax():v),!1!==x&&x!==d&&null!=x?q["$start_with?"]("> "):x))===d||null==r||r.$$is_boolean&&1!=r)if((r=(v=T["$!"](),!1!==v&&v!==d&&null!=v?this["$blockquote?"](K,
q):v))===d||null==r||r.$$is_boolean&&1!=r){if(P["$=="]("normal"))this["$adjust_indentation!"](K);K=u.get("Block").$new(c,"paragraph",k(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:e}))}else{K["$[]="](0,q["$[]"](f(1,-1,!1)));v=K.$pop()["$[]"](f(3,-1,!1)).$split(", ",2);r=a.to_ary(v);q=null==r[0]?d:r[0];R=null==r[1]?d:r[1];for(v;(v=K["$[]"](-1)["$empty?"]())!==d&&null!=v&&(!v.$$is_boolean||1==v);)K.$pop();K["$[]="](-1,K["$[]"](-1).$chop());e["$[]="]("style","quote");
if(!1!==q&&q!==d&&null!=q)e["$[]="]("attribution",q);if(!1!==R&&R!==d&&null!=R)e["$[]="]("citetitle",R);K=u.get("Block").$new(c,"quote",k(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:e}))}else{(r=(x=K)["$map!"],r.$$p=(y=function(a){var b;null==a&&(a=d);return a["$=="](">")?a["$[]"](f(1,-1,!1)):(b=a["$start_with?"]("> "))===d||null==b||b.$$is_boolean&&1!=b?a:a["$[]"](f(2,-1,!1))},y.$$s=this,y.$$arity=1,y),r).call(x);if((r=K["$[]"](-1)["$start_with?"]("-- "))===
d||null==r||r.$$is_boolean&&1!=r)v=d,r=a.to_ary(v),q=null==r[0]?d:r[0],R=null==r[1]?d:r[1],v;else for(v=K.$pop()["$[]"](f(3,-1,!1)).$split(", ",2),r=a.to_ary(v),q=null==r[0]?d:r[0],R=null==r[1]?d:r[1],v;(v=K["$[]"](-1)["$empty?"]())!==d&&null!=v&&(!v.$$is_boolean||1==v);)K.$pop();e["$[]="]("style","quote");if(!1!==q&&q!==d&&null!=q)e["$[]="]("attribution",q);if(!1!==R&&R!==d&&null!=R)e["$[]="]("citetitle",R);K=this.$build_block("quote","compound",!1,c,u.get("Reader").$new(K),e)}else K["$[]="](0,pa.$post_match().$lstrip()),
e["$[]="]("style",pa["$[]"](1)),e["$[]="]("name",q=pa["$[]"](1).$downcase()),r="caption",x=e,!1!==(v=x["$[]"](r))&&v!==d&&null!=v?v:x["$[]="](r,O.$attributes()["$[]"](""+q+"-caption")),K=u.get("Block").$new(c,"admonition",k(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:e}))}else b.$unshift_line(J),K=this.$read_paragraph_lines(b,K,k(["skip_line_comments"],{skip_line_comments:T})),this["$adjust_indentation!"](K),K=u.get("Block").$new(c,"literal",k(["content_model",
"source","attributes"],{content_model:"verbatim",source:K,attributes:e})),!1!==X&&X!==d&&null!=X&&K.$set_option("listparagraph");break}if((D=(r=K["$!"](),!1!==r&&r!==d&&null!=r?V:r))!==d&&null!=D&&(!D.$$is_boolean||1==D))if((D=!1!==(r=V["$=="]("abstract"))&&r!==d&&null!=r?r:V["$=="]("partintro"))===d||null==D||D.$$is_boolean&&1!=D||(V="open"),q=V,"admonition"["$==="](q))e["$[]="]("name",q=P.$downcase()),D="caption",r=e,!1!==(v=r["$[]"](D))&&v!==d&&null!=v?v:r["$[]="](D,O.$attributes()["$[]"](""+q+
"-caption")),K=this.$build_block(V,"compound",L,c,b,e);else{if("comment"["$==="](q))return this.$build_block(V,"skip",L,c,b,e),d;if("example"["$==="](q))K=this.$build_block(V,"compound",L,c,b,e);else if("listing"["$==="](q)||"fenced_code"["$==="](q)||"source"["$==="](q)){if(V["$=="]("fenced_code")){P=e["$[]="]("style","source");r=J["$[]"](f(3,-1,!1)).$tr(" ","").$split(",",2);D=a.to_ary(r);V=null==D[0]?d:D[0];J=null==D[1]?d:D[1];r;if((D=V["$nil_or_empty?"]()["$!"]())!==d&&null!=D&&(!D.$$is_boolean||
1==D)){if(e["$[]="]("language",V),(D=J["$nil_or_empty?"]())===d||null==D||D.$$is_boolean&&1!=D)e["$[]="]("linenums","")}else if((D=U=O.$attributes()["$[]"]("source-language"))!==d&&null!=D&&(!D.$$is_boolean||1==D))e["$[]="]("language",U);if((D=(r=e["$key?"]("indent")["$!"](),!1!==r&&r!==d&&null!=r?O.$attributes()["$key?"]("source-indent"):r))!==d&&null!=D&&(!D.$$is_boolean||1==D))e["$[]="]("indent",O.$attributes()["$[]"]("source-indent"));L=L["$[]"](f(0,2,!1))}else if(V["$=="]("source")){u.get("AttributeList").$rekey(e,
[d,"language","linenums"]);if(((D=e["$key?"]("language"))===d||null==D||D.$$is_boolean&&1!=D)&&(D=U=O.$attributes()["$[]"]("source-language"))!==d&&null!=D&&(!D.$$is_boolean||1==D))e["$[]="]("language",U);if((D=(r=e["$key?"]("indent")["$!"](),!1!==r&&r!==d&&null!=r?O.$attributes()["$key?"]("source-indent"):r))!==d&&null!=D&&(!D.$$is_boolean||1==D))e["$[]="]("indent",O.$attributes()["$[]"]("source-indent"))}K=this.$build_block("listing","verbatim",L,c,b,e)}else if("literal"["$==="](q))K=this.$build_block(V,
"verbatim",L,c,b,e);else if("pass"["$==="](q))K=this.$build_block(V,"raw",L,c,b,e);else if("stem"["$==="](q)||"latexmath"["$==="](q)||"asciimath"["$==="](q)){if(V["$=="]("stem"))e["$[]="]("style",(D=Z=e["$[]"](2))===d||null==D||D.$$is_boolean&&1!=D?(D=(ra=O.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===d||null==D||D.$$is_boolean&&1!=D?ra:"asciimath":(D=Z["$include?"]("tex"))===d||null==D||D.$$is_boolean&&1!=D?"asciimath":"latexmath");K=this.$build_block("stem","raw",L,c,b,e)}else if("open"["$==="](q)||
"sidebar"["$==="](q))K=this.$build_block(V,"compound",L,c,b,e);else if("table"["$==="](q)){V=b.$cursor();V=u.get("Reader").$new(b.$read_lines_until(k(["terminator","skip_line_comments"],{terminator:L,skip_line_comments:!0})),V);q=L.$chr();if(","["$==="](q))e["$[]="]("format","csv");else if(":"["$==="](q))e["$[]="]("format","dsv");K=this.$next_table(V,c,e)}else if("quote"["$==="](q)||"verse"["$==="](q))u.get("AttributeList").$rekey(e,[d,"attribution","citetitle"]),K=this.$build_block(V,V["$=="]("verse")?
"verbatim":"compound",L,c,b,e);else if((D=(r=!1!==S&&S!==d&&null!=S)?ca=H["$registered_for_block?"](V,ea):S)===d||null==D||D.$$is_boolean&&1!=D)this.$raise("Unsupported block type "+V+" at "+b.$line_info());else if((D=(J=ca.$config()["$[]"]("content_model"))["$!="]("skip"))===d||null==D||D.$$is_boolean&&1!=D||((D=(ka=!1!==(r=ca.$config()["$[]"]("pos_attrs"))&&r!==d&&null!=r?r:[])["$empty?"]()["$!"]())===d||null==D||D.$$is_boolean&&1!=D||u.get("AttributeList").$rekey(e,[d].$concat(ka)),(D=K=ca.$config()["$[]"]("default_attrs"))===
d||null==D||D.$$is_boolean&&1!=D||(D=(r=K).$each,D.$$p=(w=function(a,b){var c,f,g;null==a&&(a=d);null==b&&(b=d);return c=a,f=e,!1!==(g=f["$[]"](c))&&g!==d&&null!=g?g:f["$[]="](c,b)},w.$$s=this,w.$$arity=2,w),D).call(r)),K=this.$build_block(V,J,L,c,b,e,k(["extension"],{extension:ca})),(D=(v=!1!==K&&K!==d&&null!=K)?J["$!="]("skip"):K)===d||null==D||D.$$is_boolean&&1!=D)return e.$clear(),d}}else b.$advance();if(!1!==K&&K!==d&&null!=K){!1!==N&&N!==d&&null!=N&&(p=[N],D=K,D["$source_location="].apply(D,
p),p[p.length-1]);if((p=K["$title?"]())===d||null==p||p.$$is_boolean&&1!=p)p=[e["$[]"]("title")],D=K,D["$title="].apply(D,p),p[p.length-1];if(K.$context()["$=="]("image")){if(z=e["$[]"]("target"),K.$document().$register("images",z),p="alt",D=e,!1!==(v=D["$[]"](p))&&v!==d&&null!=v?v:D["$[]="](p,u.get("Helpers").$basename(z,!0).$tr("_-"," ")),e["$[]="]("alt",K.$sub_specialchars(e["$[]"]("alt"))),K.$assign_caption(e.$delete("caption"),"figure"),!((p=ia=e["$[]"]("scaledwidth"))===d||null==p||p.$$is_boolean&&
1!=p||(p=f(48,57,!1)["$include?"]((!1!==(D=ia["$[]"](-1))&&D!==d&&null!=D?D:0).$ord()))===d||null==p||p.$$is_boolean&&1!=p))e["$[]="]("scaledwidth",""+ia+"%")}else p=K,!1!==(D=p.$caption())&&D!==d&&null!=D?D:p["$caption="](e.$delete("caption"));p=[e["$[]"]("style")];D=K;D["$style="].apply(D,p);p[p.length-1];(p=ba=(D=K,!1!==(v=D.$id())&&v!==d&&null!=v?v:D["$id="](e["$[]"]("id"))))===d||null==p||p.$$is_boolean&&1!=p||O.$register("ids",[ba,!1!==(p=e["$[]"]("reftext"))&&p!==d&&null!=p?p:(D=K["$title?"]())===
d||null==D||D.$$is_boolean&&1!=D?d:K.$title()]);((p=e["$empty?"]())===d||null==p||p.$$is_boolean&&1!=p)&&K.$attributes().$update(e);K.$lock_in_subs();(p=K["$sub?"]("callouts"))===d||null==p||p.$$is_boolean&&1!=p||!((p=this.$catalog_callouts(K.$source(),O))===d||null==p||p.$$is_boolean&&1!=p)||K.$remove_sub("callouts")}return K},R.$$arity=-3);a.defs(z,"$blockquote?",Z=function(a,b){var c,f,e,g;null==b&&(b=d);return c=(f=(e=n(a.$size(),1),!1!==e&&e!==d&&null!=e?(!1!==(g=b)&&g!==d&&null!=g?g:a["$[]"](0))["$start_with?"]('"'):
e),!1!==f&&f!==d&&null!=f?a["$[]"](-1)["$start_with?"]("-- "):f),!1!==c&&c!==d&&null!=c?a["$[]"](-2)["$end_with?"]('"'):c},Z.$$arity=-2);a.defs(z,"$read_paragraph_lines",aa=function(a,b,c){var f,e=d;null==c&&(c=k([],{}));c["$[]="]("break_on_blank_lines",!0);c["$[]="]("break_on_list_continuation",!0);c["$[]="]("preserve_last_line",!0);e=!1!==b&&b!==d&&null!=b?(f=u.get("Compliance").$block_terminates_paragraph())===d||null==f||f.$$is_boolean&&1!=f?u.get("StartOfListProc"):u.get("StartOfBlockOrListProc"):
(f=u.get("Compliance").$block_terminates_paragraph())===d||null==f||f.$$is_boolean&&1!=f?u.get("NoOp"):u.get("StartOfBlockProc");return(f=a.$read_lines_until,f.$$p=e.$to_proc(),f).call(a,c)},aa.$$arity=-3);a.defs(z,"$is_delimited_block?",V=function(g,k){var l,m,p=d,r=d,q=d,t=d,x=d,q=p=d;null==k&&(k=!1);if((l=(m=n(p=g.$length(),1),!1!==m&&m!==d&&null!=m?u.get("DELIMITED_BLOCK_LEADERS")["$include?"](g["$[]"](f(0,1,!1))):m))===d||null==l||l.$$is_boolean&&1!=l)return d;if(p["$=="](2))r=g,q=2;else{(l=
b(p,4))===d||null==l||l.$$is_boolean&&1!=l?(r=g["$[]"](f(0,3,!1)),q=4):(r=g,q=p);t=!1;if((l=u.get("Compliance").$markdown_syntax())!==d&&null!=l&&(!l.$$is_boolean||1==l)&&(x=q["$=="](4)?r.$chop():r,x["$=="]("```"))){if((l=q["$=="](4)?r["$end_with?"]("`"):q["$=="](4))!==d&&null!=l&&(!l.$$is_boolean||1==l))return d;r=x;q=3;t=!0}if((l=(m=q["$=="](3))?t["$!"]():q["$=="](3))!==d&&null!=l&&(!l.$$is_boolean||1==l))return d}return(l=u.get("DELIMITED_BLOCKS")["$has_key?"](r))===d||null==l||l.$$is_boolean&&
1!=l?d:(l=!1!==(m=c(q,4))&&m!==d&&null!=m?m:q["$=="](p))===d||null==l||l.$$is_boolean&&1!=l?(""+r+e(r["$[]"](f(-1,-1,!1)),h(p,q)))["$=="](g)?!1!==k&&k!==d&&null!=k?(l=a.to_a(u.get("DELIMITED_BLOCKS")["$[]"](r)),p=null==l[0]?d:l[0],q=null==l[1]?d:l[1],l,u.get("BlockMatchData").$new(p,q,r,g)):!0:d:!1!==k&&k!==d&&null!=k?(l=a.to_a(u.get("DELIMITED_BLOCKS")["$[]"](r)),p=null==l[0]?d:l[0],q=null==l[1]?d:l[1],l,u.get("BlockMatchData").$new(p,q,r,r)):!0},V.$$arity=-2);a.defs(z,"$build_block",O=function(a,
b,c,f,e,g,h){var l,m,p=d,r=d,q=p=r=d,q=q=q=q=d;null==h&&(h=k([],{}));(l=!1!==(m=b["$=="]("skip"))&&m!==d&&null!=m?m:b["$=="]("raw"))===d||null==l||l.$$is_boolean&&1!=l?(p=!1,r=b):(p=b["$=="]("skip"),r="simple");(l=c["$nil?"]())===d||null==l||l.$$is_boolean&&1!=l?(l=r["$!="]("compound"))===d||null==l||l.$$is_boolean&&1!=l?c["$=="](!1)?(r=d,p=e):(r=d,q=e.$cursor(),p=u.get("Reader").$new(e.$read_lines_until(k(["terminator","skip_processing"],{terminator:c,skip_processing:p})),q)):(r=e.$read_lines_until(k(["terminator",
"skip_processing"],{terminator:c,skip_processing:p})),p=d):(r["$=="]("verbatim")?r=e.$read_lines_until(k(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),r=this.$read_paragraph_lines(e,!1,k(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),p=d);if(b["$=="]("skip"))return g.$clear(),r;if(b["$=="]("verbatim"))if((l=q=g["$[]"]("indent"))!==d&&null!=l&&(!l.$$is_boolean||
1==l))this["$adjust_indentation!"](r,q,!1!==(l=g["$[]"]("tabsize"))&&l!==d&&null!=l?l:f.$document().$attributes()["$[]"]("tabsize"));else if((l=n(q=(!1!==(m=g["$[]"]("tabsize"))&&m!==d&&null!=m?m:f.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))!==d&&null!=l&&(!l.$$is_boolean||1==l))this["$adjust_indentation!"](r,d,q);if((l=q=h["$[]"]("extension"))===d||null==l||l.$$is_boolean&&1!=l)q=u.get("Block").$new(f,a,k(["content_model","source","attributes"],{content_model:b,source:r,attributes:g}));
else{g.$delete("style");if((l=q=q.$process_method()["$[]"](f,!1!==(m=p)&&m!==d&&null!=m?m:u.get("Reader").$new(r),g.$dup()))===d||null==l||l.$$is_boolean&&1!=l)return d;g.$replace(q.$attributes());(l=(m=q.$content_model()["$=="]("compound"))?(r=q.$lines())["$nil_or_empty?"]()["$!"]():q.$content_model()["$=="]("compound"))===d||null==l||l.$$is_boolean&&1!=l||(b="compound",p=u.get("Reader").$new(r))}(l=(m=g["$has_key?"]("title"),!1!==m&&m!==d&&null!=m?q.$document()["$attr?"](""+q.$context()+"-caption"):
m))===d||null==l||l.$$is_boolean&&1!=l||(l=[g.$delete("title")],m=q,m["$title="].apply(m,l),l[l.length-1],q.$assign_caption(g.$delete("caption")));b["$=="]("compound")&&this.$parse_blocks(p,q);return q},O.$$arity=-7);a.defs(z,"$parse_blocks",T=function(a,b){for(var c,f=d;(c=a["$has_more_lines?"]())!==d&&null!=c&&(!c.$$is_boolean||1==c);)if(f=u.get("Parser").$next_block(a,b),!1!==f&&f!==d&&null!=f)b["$<<"](f)},T.$$arity=2);a.defs(z,"$next_outline_list",Y=function(a,b,f){var e,g,h,k=d,m=d,p=e=d,r=d,
q=d,k=u.get("List").$new(f,b);e=f.$context()["$=="](b)?[l(f.$level(),1)]:[1];g=k;g["$level="].apply(g,e);for(e[e.length-1];(g=(h=a["$has_more_lines?"](),!1!==h&&h!==d&&null!=h?m=u.get("ListRxMap")["$[]"](b).$match(a.$peek_line()):h))!==d&&null!=g&&(!g.$$is_boolean||1==g);){e=this.$resolve_list_marker(b,m["$[]"](1));if((g=(h=k["$items?"](),!1!==h&&h!==d&&null!=h?e["$!="](k.$items()["$[]"](0).$marker()):h))===d||null==g||g.$$is_boolean&&1!=g)p=k.$level();else for(p=l(k.$level(),1),r=f;r.$context()["$=="](b);){if(e["$=="](r.$items()["$[]"](0).$marker())){p=
r.$level();break}r=r.$parent()}if((g=!1!==(h=k["$items?"]()["$!"]())&&h!==d&&null!=h?h:p["$=="](k.$level()))!==d&&null!=g&&(!g.$$is_boolean||1==g))q=this.$next_list_item(a,k,m);else if((g=c(p,k.$level()))!==d&&null!=g&&(!g.$$is_boolean||1==g))break;else if((g=n(p,k.$level()))!==d&&null!=g&&(!g.$$is_boolean||1==g))k.$items()["$[]"](-1)["$<<"](this.$next_block(a,k));if(!1!==q&&q!==d&&null!=q)k["$<<"](q);q=d;a.$skip_blank_lines()}return k},Y.$$arity=3);a.defs(z,"$catalog_callouts",X=function(a,b){var c,
f,e=d,e=!1;(c=a["$include?"]("<"))===d||null==c||c.$$is_boolean&&1!=c||(c=a.$scan,c.$$p=(f=function(){var a,c=d;null==m["~"]&&(m["~"]=d);c=m["~"];(a=c["$[]"](0).$chr()["$!="]("\\"))===d||null==a||a.$$is_boolean&&1!=a||b.$callouts().$register(c["$[]"](2));return e=!0},f.$$s=this,f.$$arity=0,f),c).call(a,u.get("CalloutQuickScanRx"));return e},X.$$arity=2);a.defs(z,"$catalog_inline_anchors",ea=function(a,b){var c,f;(c=a["$include?"]("["))===d||null==c||c.$$is_boolean&&1!=c||(c=a.$scan,c.$$p=(f=function(){var a,
c=d,f=d,c=d;null==m["~"]&&(m["~"]=d);c=m["~"];if((a=c["$[]"](0)["$start_with?"]("\\"))!==d&&null!=a&&(!a.$$is_boolean||1==a))return d;f=!1!==(a=c["$[]"](1))&&a!==d&&null!=a?a:c["$[]"](3);c=!1!==(a=c["$[]"](2))&&a!==d&&null!=a?a:c["$[]"](4);return b.$register("ids",[f,c])},f.$$s=this,f.$$arity=0,f),c).call(a,u.get("InlineAnchorRx"));return d},ea.$$arity=2);a.defs(z,"$next_labeled_list",ha=function(b,c,f){for(var e,g,h,k=d,l=d,m=d,n=d,p=d,k=u.get("List").$new(f,"dlist"),l=d,m=u.get("DescriptionListSiblingRx")["$[]"](c["$[]"](2));(e=
!1!==(g=c)&&g!==d&&null!=g?g:(h=b["$has_more_lines?"](),!1!==h&&h!==d&&null!=h?c=m.$match(b.$peek_line()):h))!==d&&null!=e&&(!e.$$is_boolean||1==e);){g=this.$next_list_item(b,k,c,m);e=a.to_ary(g);n=null==e[0]?d:e[0];p=null==e[1]?d:e[1];g;if((e=(g=!1!==l&&l!==d&&null!=l)?l["$[]"](-1)["$!"]():l)===d||null==e||e.$$is_boolean&&1!=e)k.$items()["$<<"](l=[[n],p]);else l.$pop(),l["$[]"](0)["$<<"](n),l["$<<"](p);c=d}return k},ha.$$arity=3);a.defs(z,"$next_list_item",ia=function(a,b,c,e){var g,h,l=d,m=d,n=
d,p=d,r=n=d,q=r=r=p=d,t=d,x=t=q=d,v=d;null==e&&(e=d);if((l=b.$context())["$=="]("dlist"))m=u.get("ListItem").$new(b,c["$[]"](1)),n=u.get("ListItem").$new(b,c["$[]"](3)),p=c["$[]"](3)["$nil_or_empty?"]()["$!"]();else{n=c["$[]"](2);r=!1;(g=(h=l["$=="]("ulist"))?n["$start_with?"]("["):l["$=="]("ulist"))===d||null==g||g.$$is_boolean&&1!=g||((g=n["$start_with?"]("[ ] "))===d||null==g||g.$$is_boolean&&1!=g?(g=!1!==(h=n["$start_with?"]("[x] "))&&h!==d&&null!=h?h:n["$start_with?"]("[*] "))===d||null==g||
g.$$is_boolean&&1!=g||(p=r=!0,n=n["$[]"](f(3,-1,!1)).$lstrip()):(r=!0,p=!1,n=n["$[]"](f(3,-1,!1)).$lstrip()));n=u.get("ListItem").$new(b,n);if(!1!==r&&r!==d&&null!=r&&(b.$attributes()["$[]="]("checklist-option",""),n.$attributes()["$[]="]("checkbox",""),!1!==p&&p!==d&&null!=p))n.$attributes()["$[]="]("checked","");!1!==(g=e)&&g!==d&&null!=g?g:e=this.$resolve_list_marker(l,c["$[]"](1),b.$items().$size(),!0,a);g=[e];h=n;h["$marker="].apply(h,g);g[g.length-1];p=!0}a.$advance();r=a.$cursor();r=u.get("Reader").$new(this.$read_lines_for_list_item(a,
l,e,p),r);if((g=r["$has_more_lines?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g)){q=r.$skip_line_comments();t=r.$peek_line();((g=q["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g)&&r.$unshift_lines(q);(g=t["$nil?"]()["$!"]())===d||null==g||g.$$is_boolean&&1!=g?t=q=!1:(q=t["$empty?"](),(g=(h=q["$!"](),!1!==h&&h!==d&&null!=h?l["$!="]("dlist"):h))===d||null==g||g.$$is_boolean&&1!=g||(p=!1),t=(g=q["$!"](),!1!==g&&g!==d&&null!=g?t["$empty?"]()["$!"]():g));for(x=k(["text"],{text:p["$!"]()});(h=r["$has_more_lines?"]())!==
d&&null!=h&&(!h.$$is_boolean||1==h);)if((h=v=this.$next_block(r,n,k([],{}),x))!==d&&null!=h&&(!h.$$is_boolean||1==h))n["$<<"](v);n.$fold_first(q,t)}if(l["$=="]("dlist")){if((g=!1!==(h=n["$text?"]())&&h!==d&&null!=h?h:n["$blocks?"]())===d||null==g||g.$$is_boolean&&1!=g)n=d;return[m,n]}return n},ia.$$arity=-4);a.defs(z,"$read_lines_for_list_item",ka=function(a,b,c,f){var e,g,h,l,n,p,r,q,t,x,v,A,B,y=d,z=d,w=d,K=d,O=d,T=d,T=l=d;null==m["~"]&&(m["~"]=d);null==c&&(c=d);null==f&&(f=!0);y=[];z="inactive";
w=!1;for(K=d;(g=a["$has_more_lines?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g);){O=a.$read_line();if((g=this["$is_sibling_list_item?"](O,b,c))!==d&&null!=g&&(!g.$$is_boolean||1==g))break;T=(g=y["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g?y["$[]"](-1):d;if(T["$=="](u.get("LIST_CONTINUATION"))){if(z["$=="]("inactive")&&(z="active",f=!0,!1===w||w===d||null==w))y["$[]="](-1,"");if(O["$=="](u.get("LIST_CONTINUATION"))){(g=z["$!="]("frozen"))===d||null==g||g.$$is_boolean&&1!=g||(z="frozen",y["$<<"](O));
O=d;continue}}if((g=l=this["$is_delimited_block?"](O,!0))===d||null==g||g.$$is_boolean&&1!=g)if((g=(h=(l=b["$=="]("dlist"))?z["$!="]("active"):b["$=="]("dlist"),!1!==h&&h!==d&&null!=h?u.get("BlockAttributeLineRx")["$=~"](O):h))===d||null==g||g.$$is_boolean&&1!=g)if((g=(h=z["$=="]("active"))?O["$empty?"]()["$!"]():z["$=="]("active"))===d||null==g||g.$$is_boolean&&1!=g)if((g=(l=T["$nil?"]()["$!"](),!1!==l&&l!==d&&null!=l?T["$empty?"]():l))===d||null==g||g.$$is_boolean&&1!=g)(g=O["$empty?"]()["$!"]())===
d||null==g||g.$$is_boolean&&1!=g||(f=!0),(g=T=(v=(A=!1!==w&&w!==d&&null!=w?["dlist"]:u.get("NESTABLE_LIST_CONTEXTS")).$find,v.$$p=(B=function(a){null==a&&(a=d);return u.get("ListRxMap")["$[]"](a)["$=~"](O)},B.$$s=this,B.$$arity=1,B),v).call(A))===d||null==g||g.$$is_boolean&&1!=g||(w=!0,(g=(v=T["$=="]("dlist"))?m["~"]["$[]"](3)["$nil_or_empty?"]():T["$=="]("dlist"))===d||null==g||g.$$is_boolean&&1!=g||(f=!1)),y["$<<"](O);else{if(!((g=O["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g||(a.$skip_blank_lines(),
O=a.$read_line(),(g=!1!==(l=O["$nil?"]())&&l!==d&&null!=l?l:this["$is_sibling_list_item?"](O,b,c))===d||null==g||g.$$is_boolean&&1!=g)))break;if(O["$=="](u.get("LIST_CONTINUATION")))K=y.$size(),y["$<<"](O);else if(!1!==f&&f!==d&&null!=f)if((g=this["$is_sibling_list_item?"](O,b,c))===d||null==g||g.$$is_boolean&&1!=g)if((g=T=(l=(q=u.get("NESTABLE_LIST_CONTEXTS")).$find,l.$$p=(t=function(a){null==a&&(a=d);return u.get("ListRxMap")["$[]"](a)["$=~"](O)},t.$$s=this,t.$$arity=1,t),l).call(q))===d||null==
g||g.$$is_boolean&&1!=g)if((g=u.get("LiteralParagraphRx")["$=~"](O))===d||null==g||g.$$is_boolean&&1!=g)break;else a.$unshift_line(O),y.$concat((g=(l=a).$read_lines_until,g.$$p=(x=function(a){var f=x.$$s||this;null==a&&(a=d);return b["$=="]("dlist")?f["$is_sibling_list_item?"](a,b,c):b["$=="]("dlist")},x.$$s=this,x.$$arity=1,x),g).call(l,k(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else y["$<<"](O),
w=!0,(g=(l=T["$=="]("dlist"))?m["~"]["$[]"](3)["$nil_or_empty?"]():T["$=="]("dlist"))===d||null==g||g.$$is_boolean&&1!=g||(f=!1);else break;else!1!==w&&w!==d&&null!=w||y.$pop(),y["$<<"](O),f=!0}else if((g=u.get("LiteralParagraphRx")["$=~"](O))===d||null==g||g.$$is_boolean&&1!=g)if((g=!1!==(l=!1!==(p=u.get("BlockTitleRx")["$=~"](O))&&p!==d&&null!=p?p:u.get("BlockAttributeLineRx")["$=~"](O))&&l!==d&&null!=l?l:u.get("AttributeEntryRx")["$=~"](O))===d||null==g||g.$$is_boolean&&1!=g)(g=T=(l=(p=!1!==w&&
w!==d&&null!=w?["dlist"]:u.get("NESTABLE_LIST_CONTEXTS")).$find,l.$$p=(r=function(a){null==a&&(a=d);return u.get("ListRxMap")["$[]"](a)["$=~"](O)},r.$$s=this,r.$$arity=1,r),l).call(p))===d||null==g||g.$$is_boolean&&1!=g||(w=!0,(g=(l=T["$=="]("dlist"))?m["~"]["$[]"](3)["$nil_or_empty?"]():T["$=="]("dlist"))===d||null==g||g.$$is_boolean&&1!=g||(f=!1)),y["$<<"](O),z="inactive";else y["$<<"](O);else a.$unshift_line(O),y.$concat((g=(h=a).$read_lines_until,g.$$p=(n=function(a){var f=n.$$s||this;null==a&&
(a=d);return b["$=="]("dlist")?f["$is_sibling_list_item?"](a,b,c):b["$=="]("dlist")},n.$$s=this,n.$$arity=1,n),g).call(h,k(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),z="inactive";else break;else if(z["$=="]("active"))y["$<<"](O),y.$concat(a.$read_lines_until(k(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),z="inactive";else break;O=d}!1!==O&&O!==d&&null!=
O&&a.$unshift_line(O);for(!1!==K&&K!==d&&null!=K&&y.$delete_at(K);(g=(v=y["$empty?"]()["$!"](),!1!==v&&v!==d&&null!=v?y["$[]"](-1)["$empty?"]():v))!==d&&null!=g&&(!g.$$is_boolean||1==g);)y.$pop();(e=(g=y["$empty?"]()["$!"](),!1!==g&&g!==d&&null!=g?y["$[]"](-1)["$=="](u.get("LIST_CONTINUATION")):g))===d||null==e||e.$$is_boolean&&1!=e||y.$pop();return y},ka.$$arity=-3);a.defs(z,"$initialize_section",la=function(b,c,f){var e,g,h=d,l=d,m=d,n=d,p=d,r=d,q=m=n=d;null==f&&(f=k([],{}));h=c.$document();(e=
h.$sourcemap())===d||null==e||e.$$is_boolean&&1!=e||(l=b.$cursor());g=this.$parse_section_title(b,h);e=a.to_ary(g);m=null==e[0]?d:e[0];n=null==e[1]?d:e[1];p=null==e[2]?d:e[2];r=null==e[3]?d:e[3];g;if(!1!==n&&n!==d&&null!=n)f["$[]="]("reftext",n);n=u.get("Section").$new(c,r,h.$attributes()["$has_key?"]("sectnums"));!1!==l&&l!==d&&null!=l&&(e=[l],g=n,g["$source_location="].apply(g,e),e[e.length-1]);e=[m];g=n;g["$id="].apply(g,e);e[e.length-1];e=[p];g=n;g["$title="].apply(g,e);e[e.length-1];(e=f["$[]"](1))===
d||null==e||e.$$is_boolean&&1!=e?((e=p.$downcase()["$=="]("synopsis")?h.$doctype()["$=="]("manpage"):p.$downcase()["$=="]("synopsis"))===d||null==e||e.$$is_boolean&&1!=e?e=["sect"+n.$level()]:(e=[!0],g=n,g["$special="].apply(g,e),e[e.length-1],e=["synopsis"]),g=n,g["$sectname="].apply(g,e),e[e.length-1]):(g=this.$parse_style_attribute(f,b),e=a.to_ary(g),m=null==e[0]?d:e[0],g,!1!==m&&m!==d&&null!=m?(e=[m],g=n,g["$sectname="].apply(g,e),e[e.length-1],e=[!0],g=n,g["$special="].apply(g,e),e[e.length-
1],(e=(g=n.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):n.$sectname()["$=="]("abstract"))===d||null==e||e.$$is_boolean&&1!=e||(e=["sect1"],g=n,g["$sectname="].apply(g,e),e[e.length-1],e=[!1],g=n,g["$special="].apply(g,e),e[e.length-1],e=[1],g=n,g["$level="].apply(g,e),e[e.length-1])):(e=["sect"+n.$level()],g=n,g["$sectname="].apply(g,e),e[e.length-1]));(e=(g=n.$id()["$!"](),!1!==g&&g!==d&&null!=g?q=f["$[]"]("id"):g))===d||null==e||e.$$is_boolean&&1!=e?(e=n,!1!==(g=e.$id())&&g!==d&&
null!=g?g:e["$id="](n.$generate_id())):(e=[q],g=n,g["$id="].apply(g,e),e[e.length-1]);(e=n.$id())===d||null==e||e.$$is_boolean&&1!=e||n.$document().$register("ids",[n.$id(),!1!==(e=f["$[]"]("reftext"))&&e!==d&&null!=e?e:n.$title()]);n.$update_attributes(f);b.$skip_blank_lines();return n},la.$$arity=-3);a.defs(z,"$section_level",fa=function(a){return u.get("SECTION_LEVELS")["$[]"](a.$chr())},fa.$$arity=1);a.defs(z,"$single_line_section_level",da=function(a){return h(a.$length(),1)},da.$$arity=1);a.defs(z,
"$is_next_line_section?",F=function(b,c){var f,e,g,h,k=d,l=d;return(f=(e=(g=(k=c["$[]"](1))["$nil?"]()["$!"](),!1!==g&&g!==d&&null!=g?!1!==(h=(l=k["$[]"](0).$ord())["$=="](100))&&h!==d&&null!=h?h:l["$=="](102):g),!1!==e&&e!==d&&null!=e?k["$=~"](u.get("FloatingTitleStyleRx")):e))!==d&&null!=f&&(!f.$$is_boolean||1==f)||(f=b["$has_more_lines?"]())===d||null==f||f.$$is_boolean&&1!=f?!1:(f=u.get("Compliance").$underline_style_section_titles())===d||null==f||f.$$is_boolean&&1!=f?this["$is_section_title?"](b.$peek_line()):
(f=this)["$is_section_title?"].apply(f,a.to_a(b.$peek_lines(2)))},F.$$arity=2);a.defs(z,"$is_next_line_document_title?",ba=function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)},ba.$$arity=2);a.defs(z,"$is_section_title?",x=function(a,b){var c,f=d;null==b&&(b=d);return(c=f=this["$is_single_line_section_title?"](a))===d||null==c||c.$$is_boolean&&1!=c?(c=!1!==b&&b!==d&&null!=b?f=this["$is_two_line_section_title?"](a,b):b)===d||null==c||c.$$is_boolean&&1!=c?!1:f:f},x.$$arity=-2);a.defs(z,
"$is_single_line_section_title?",ca=function(a){var b,c,f,e,g=d,h=d,g=!1!==a&&a!==d&&null!=a?a.$chr():d;return(b=(c=!1!==(f=g["$=="]("="))&&f!==d&&null!=f?f:(e=u.get("Compliance").$markdown_syntax(),!1!==e&&e!==d&&null!=e?g["$=="]("#"):e),!1!==c&&c!==d&&null!=c?h=u.get("AtxSectionRx").$match(a):c))===d||null==b||b.$$is_boolean&&1!=b?!1:this.$single_line_section_level(h["$[]"](1))},ca.$$arity=1);a.defs(z,"$is_two_line_section_title?",B=function(a,c){var f,e,g,k,l;return(f=(e=(g=(k=(l=!1!==a&&a!==d&&
null!=a?c:a,!1!==l&&l!==d&&null!=l?u.get("SECTION_LEVELS")["$has_key?"](c.$chr()):l),!1!==k&&k!==d&&null!=k?c["$=~"](u.get("SetextSectionLineRx")):k),!1!==g&&g!==d&&null!=g?a["$=~"](u.get("SetextSectionTitleRx")):g),!1!==e&&e!==d&&null!=e?b(h(this.$line_length(a),this.$line_length(c)).$abs(),1):e))===d||null==f||f.$$is_boolean&&1!=f?!1:this.$section_level(c)},B.$$arity=2);a.defs(z,"$parse_section_title",W=function(a,c){var f,e,k,m,n,p=d,r=d,q=d,t=d,x=d,v=d,A=d,B=d,y=d,w=d,z=d,p=a.$read_line(),q=r=
d,t=-1,x=d,v=!0,A=p.$chr();(f=(e=!1!==(k=A["$=="]("="))&&k!==d&&null!=k?k:(m=u.get("Compliance").$markdown_syntax(),!1!==m&&m!==d&&null!=m?A["$=="]("#"):m),!1!==e&&e!==d&&null!=e?B=u.get("AtxSectionRx").$match(p):e))===d||null==f||f.$$is_boolean&&1!=f?(f=u.get("Compliance").$underline_style_section_titles())===d||null==f||f.$$is_boolean&&1!=f||(f=(e=(k=(m=(n=w=a.$peek_line(!0),!1!==n&&n!==d&&null!=n?u.get("SECTION_LEVELS")["$has_key?"](w.$chr()):n),!1!==m&&m!==d&&null!=m?w["$=~"](u.get("SetextSectionLineRx")):
m),!1!==k&&k!==d&&null!=k?z=u.get("SetextSectionTitleRx").$match(p):k),!1!==e&&e!==d&&null!=e?b(h(this.$line_length(p),this.$line_length(w)).$abs(),1):e))===d||null==f||f.$$is_boolean&&1!=f||(q=z["$[]"](1),(f=(e=q["$end_with?"]("]]"),!1!==e&&e!==d&&null!=e?y=u.get("InlineSectionAnchorRx").$match(q):e))===d||null==f||f.$$is_boolean&&1!=f||(f=y["$[]"](2)["$nil?"]())===d||null==f||f.$$is_boolean&&1!=f||(q=y["$[]"](1),r=y["$[]"](3),x=y["$[]"](4)),t=this.$section_level(w),v=!1,a.$advance()):(t=this.$single_line_section_level(B["$[]"](1)),
q=B["$[]"](2),(f=(e=q["$end_with?"]("]]"),!1!==e&&e!==d&&null!=e?y=u.get("InlineSectionAnchorRx").$match(q):e))===d||null==f||f.$$is_boolean&&1!=f||(f=y["$[]"](2)["$nil?"]())===d||null==f||f.$$is_boolean&&1!=f||(q=y["$[]"](1),r=y["$[]"](3),x=y["$[]"](4)));(f=g(t,0))===d||null==f||f.$$is_boolean&&1!=f||(t=l(t,c.$attr("leveloffset",0).$to_i()));return[r,x,q,t,v]},W.$$arity=2);a.defs(z,"$line_length",ma=function(a){var b;return(b=u.get("FORCE_UNICODE_LINE_LENGTH"))===d||null==b||b.$$is_boolean&&1!=b?
a.$length():a.$scan(u.get("UnicodeCharScanRx")).$length()},ma.$$arity=1);a.defs(z,"$parse_header_metadata",na=function(b,c){var e,g,h,m,p,r,q=d,t=d,x=d,v=d,A=v=d,y=d,B=A=d,x=t=d;null==c&&(c=d);this.$process_attribute_entries(b,c);q=k([],{});x=t=d;if((e=(g=b["$has_more_lines?"](),!1!==g&&g!==d&&null!=g?b["$next_line_empty?"]()["$!"]():g))!==d&&null!=e&&(!e.$$is_boolean||1==e)){v=this.$process_authors(b.$read_line());if((e=v["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e)!1!==c&&c!==d&&null!=c&&((e=
(g=v).$each,e.$$p=(h=function(b,f){var e;null==b&&(b=d);null==f&&(f=d);return(e=c.$attributes()["$has_key?"](b))===d||null==e||e.$$is_boolean&&1!=e?c.$attributes()["$[]="](b,(e=a.get("String")["$==="](f))===d||null==e||e.$$is_boolean&&1!=e?f:c.$apply_header_subs(f)):d},h.$$s=this,h.$$arity=2,h),e).call(g),t=c.$attributes()["$[]"]("author"),x=c.$attributes()["$[]"]("authors")),q=v;this.$process_attribute_entries(b,c);v=k([],{});if((e=(m=b["$has_more_lines?"](),!1!==m&&m!==d&&null!=m?b["$next_line_empty?"]()["$!"]():
m))!==d&&null!=e&&(!e.$$is_boolean||1==e))if(A=b.$read_line(),(e=y=u.get("RevisionInfoLineRx").$match(A))===d||null==e||e.$$is_boolean&&1!=e)b.$unshift_line(A);else{if((e=y["$[]"](1))!==d&&null!=e&&(!e.$$is_boolean||1==e))v["$[]="]("revnumber",y["$[]"](1).$rstrip());if((e=(A=y["$[]"](2).$strip())["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e)if((e=(m=y["$[]"](1)["$!"](),!1!==m&&m!==d&&null!=m?A["$start_with?"]("v"):m))===d||null==e||e.$$is_boolean&&1!=e)v["$[]="]("revdate",A);else v["$[]="]("revnumber",
A["$[]"](f(1,-1,!1)));if((e=y["$[]"](3))!==d&&null!=e&&(!e.$$is_boolean||1==e))v["$[]="]("revremark",y["$[]"](3).$rstrip())}if((e=v["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e)!1!==c&&c!==d&&null!=c&&(e=(m=v).$each,e.$$p=(p=function(a,b){var f;null==a&&(a=d);null==b&&(b=d);return(f=c.$attributes()["$has_key?"](a))===d||null==f||f.$$is_boolean&&1!=f?c.$attributes()["$[]="](a,c.$apply_header_subs(b)):d},p.$$s=this,p.$$arity=2,p),e).call(m),q.$update(v);this.$process_attribute_entries(b,c);b.$skip_blank_lines()}if(!1!==
c&&c!==d&&null!=c){v=d;if((e=(r=c.$attributes()["$has_key?"]("author"),!1!==r&&r!==d&&null!=r?(B=c.$attributes()["$[]"]("author"))["$!="](t):r))===d||null==e||e.$$is_boolean&&1!=e)if((e=(r=c.$attributes()["$has_key?"]("authors"),!1!==r&&r!==d&&null!=r?(B=c.$attributes()["$[]"]("authors"))["$!="](x):r))===d||null==e||e.$$is_boolean&&1!=e){t=[];for(x="author_"+l(t.$size(),1);(r=c.$attributes()["$has_key?"](x))!==d&&null!=r&&(!r.$$is_boolean||1==r);)t["$<<"](c.$attributes()["$[]"](x)),x="author_"+l(t.$size(),
1);t.$size()["$=="](1)?v=this.$process_authors(t["$[]"](0),!0,!1):(e=n(t.$size(),1))===d||null==e||e.$$is_boolean&&1!=e||(v=this.$process_authors(t.$join("; "),!0))}else v=this.$process_authors(B,!0);else v=this.$process_authors(B,!0,!1);if(!1!==v&&v!==d&&null!=v&&(c.$attributes().$update(v),(e=(r=c.$attributes()["$has_key?"]("email")["$!"](),!1!==r&&r!==d&&null!=r?c.$attributes()["$has_key?"]("email_1"):r))!==d&&null!=e&&(!e.$$is_boolean||1==e)))c.$attributes()["$[]="]("email",c.$attributes()["$[]"]("email_1"))}return q},
na.$$arity=-2);a.defs(z,"$process_authors",pa=function(a,b,c){var e,g,h,m,p,r=this,q=d,t=d,v=d;null==b&&(b=!1);null==c&&(c=!0);q=k([],{});t="author authorinitials firstname middlename lastname email".split(" ");v=function(){return!1!==c&&c!==d&&null!=c?(e=(g=a.$split(";")).$map,e.$$p=(h=function(a){null==a&&(a=d);return a.$strip()},h.$$s=r,h.$$arity=1,h),e).call(g):[a]}();(e=(m=v).$each_with_index,e.$$p=(p=function(a,c){var e=p.$$s||this,g,h,m,r,v,x,A,C=d,y=d,D=d,B=D=d,w=d;null==a&&(a=d);null==c&&
(c=d);if((g=a["$empty?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g))return d;C=k([],{});c["$=="](0)?(g=(h=t).$each,g.$$p=(m=function(a){null==a&&(a=d);return C["$[]="](a.$to_sym(),a)},m.$$s=e,m.$$arity=1,m),g).call(h):(g=(r=t).$each,g.$$p=(v=function(a){null==a&&(a=d);return C["$[]="](a.$to_sym(),""+a+"_"+l(c,1))},v.$$s=e,v.$$arity=1,v),g).call(r);y=d;!1!==b&&b!==d&&null!=b?(g=n((y=a.$split(" ")).$size(),3))===d||null==g||g.$$is_boolean&&1!=g||(y=y["$[]"](f(0,1,!1)).$push(y["$[]"](f(2,-1,!1)).$join(" "))):
(g=D=u.get("AuthorInfoLineRx").$match(a))===d||null==g||g.$$is_boolean&&1!=g||(y=D.$to_a(),y.$shift());if((g=y["$nil?"]())===d||null==g||g.$$is_boolean&&1!=g){if(q["$[]="](C["$[]"]("firstname"),D=y["$[]"](0).$tr("_"," ")),q["$[]="](C["$[]"]("author"),D),q["$[]="](C["$[]"]("authorinitials"),D["$[]"](0,1)),(g=(x=y["$[]"](1)["$nil?"]()["$!"](),!1!==x&&x!==d&&null!=x?y["$[]"](2)["$nil?"]()["$!"]():x))===d||null==g||g.$$is_boolean&&1!=g?(g=y["$[]"](1)["$nil?"]()["$!"]())===d||null==g||g.$$is_boolean&&
1!=g||(q["$[]="](C["$[]"]("lastname"),w=y["$[]"](1).$tr("_"," ")),q["$[]="](C["$[]"]("author"),[D,w].$join(" ")),q["$[]="](C["$[]"]("authorinitials"),[D["$[]"](0,1),w["$[]"](0,1)].$join())):(q["$[]="](C["$[]"]("middlename"),B=y["$[]"](1).$tr("_"," ")),q["$[]="](C["$[]"]("lastname"),w=y["$[]"](2).$tr("_"," ")),q["$[]="](C["$[]"]("author"),[D,B,w].$join(" ")),q["$[]="](C["$[]"]("authorinitials"),[D["$[]"](0,1),B["$[]"](0,1),w["$[]"](0,1)].$join())),(g=!1!==(x=b)&&x!==d&&null!=x?x:y["$[]"](3)["$nil?"]())===
d||null==g||g.$$is_boolean&&1!=g)q["$[]="](C["$[]"]("email"),y["$[]"](3))}else q["$[]="](C["$[]"]("author"),q["$[]="](C["$[]"]("firstname"),D=a.$strip().$tr_s(" "," "))),q["$[]="](C["$[]"]("authorinitials"),D["$[]"](0,1));q["$[]="]("authorcount",l(c,1));c["$=="](1)&&(g=(x=t).$each,g.$$p=(A=function(a){var b;null==a&&(a=d);return(b=q["$has_key?"](a))===d||null==b||b.$$is_boolean&&1!=b?d:q["$[]="](""+a+"_1",q["$[]"](a))},A.$$s=e,A.$$arity=1,A),g).call(x);return c["$=="](0)?q["$[]="]("authors",q["$[]"](C["$[]"]("author"))):
q["$[]="]("authors",""+q["$[]"]("authors")+", "+q["$[]"](C["$[]"]("author")))},p.$$s=r,p.$$arity=2,p),e).call(m);return q},pa.$$arity=-2);a.defs(z,"$parse_block_metadata_lines",ra=function(a,b,c,f){var e;null==c&&(c=k([],{}));for(null==f&&(f=k([],{}));(e=this.$parse_block_metadata_line(a,b,c,f))!==d&&null!=e&&(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_blank_lines();return c},ra.$$arity=-3);a.defs(z,"$parse_block_metadata_line",K=function(a,b,c,f){var e,g,h,l=d,m=d,n=d,m=l=d;null==f&&(f=k([],{}));
if((e=a["$has_more_lines?"]())===d||null==e||e.$$is_boolean&&1!=e)return!1;l=a.$peek_line();if((e=(g=m=l["$start_with?"]("//"),!1!==g&&g!==d&&null!=g?n=u.get("CommentBlockRx").$match(l):g))!==d&&null!=e&&(!e.$$is_boolean||1==e))l=n["$[]"](0),a.$read_lines_until(k(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:l,skip_processing:!0}));else if((e=(g=!1!==m&&m!==d&&null!=m)?u.get("CommentLineRx")["$=~"](l):m)===d||null==e||
e.$$is_boolean&&1!=e)if((e=(g=(h=f["$[]"]("text")["$!"](),!1!==h&&h!==d&&null!=h?l["$start_with?"](":"):h),!1!==g&&g!==d&&null!=g?n=u.get("AttributeEntryRx").$match(l):g))!==d&&null!=e&&(!e.$$is_boolean||1==e))this.$process_attribute_entry(a,b,c,n);else if((e=(g=m=(h=l["$start_with?"]("["),!1!==h&&h!==d&&null!=h?l["$end_with?"]("]"):h),!1!==g&&g!==d&&null!=g?n=u.get("BlockAnchorRx").$match(l):g))===d||null==e||e.$$is_boolean&&1!=e)if((e=(g=!1!==m&&m!==d&&null!=m)?n=u.get("BlockAttributeListRx").$match(l):
m)===d||null==e||e.$$is_boolean&&1!=e){if((e=(g=f["$[]"]("text")["$!"](),!1!==g&&g!==d&&null!=g?n=u.get("BlockTitleRx").$match(l):g))===d||null==e||e.$$is_boolean&&1!=e)return!1;c["$[]="]("title",n["$[]"](1))}else b.$document().$parse_attributes(n["$[]"](1),[],k(["sub_input","into"],{sub_input:!0,into:c}));else if((e=n["$[]"](1)["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e)if(c["$[]="]("id",n["$[]"](1)),(e=n["$[]"](2)["$nil?"]())===d||null==e||e.$$is_boolean&&1!=e)c["$[]="]("reftext",n["$[]"](2));
return!0},K.$$arity=-4);a.defs(z,"$process_attribute_entries",sa=function(a,b,c){var f;null==c&&(c=d);for(a.$skip_comment_lines();(f=this.$process_attribute_entry(a,b,c))!==d&&null!=f&&(!f.$$is_boolean||1==f);)a.$advance(),a.$skip_comment_lines()},sa.$$arity=-3);a.defs(z,"$process_attribute_entry",ta=function(a,b,c,f){var e,g,h=d,k=d,l=d,m=d,n=d,p=d;null==c&&(c=d);null==f&&(f=d);!1!==(e=f)&&e!==d&&null!=e?e:f=(g=a["$has_more_lines?"]())===d||null==g||g.$$is_boolean&&1!=g?d:u.get("AttributeEntryRx").$match(a.$peek_line());
if(!1!==f&&f!==d&&null!=f){h=f["$[]"](1);if(((e=(k=!1!==(g=f["$[]"](2))&&g!==d&&null!=g?g:"")["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e)&&(e=!1!==(g=k["$end_with?"](l=u.get("LINE_CONTINUATION")))&&g!==d&&null!=g?g:k["$end_with?"](l=u.get("LINE_CONTINUATION_LEGACY")))!==d&&null!=e&&(!e.$$is_boolean||1==e))for(k=k.$chop().$rstrip();(g=a.$advance())!==d&&null!=g&&(!g.$$is_boolean||1==g)&&((g=(m=a.$peek_line().$strip())["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g)&&((g=n=m["$end_with?"](l))===
d||null==g||g.$$is_boolean&&1!=g||(m=m.$chop().$rstrip()),p=(g=k["$end_with?"](u.get("LINE_BREAK")))===d||null==g||g.$$is_boolean&&1!=g?" ":u.get("EOL"),k=""+k+p+m,!1!==n&&n!==d&&null!=n););this.$store_attribute(h,k,!1!==b&&b!==d&&null!=b?b.$document():d,c);return!0}return!1},ta.$$arity=-3);a.defs(z,"$store_attribute",va=function(a,b,c,e){var g,k=d,k=d;null==c&&(c=d);null==e&&(e=d);(g=a["$end_with?"]("!"))===d||null==g||g.$$is_boolean&&1!=g?(g=a["$start_with?"]("!"))===d||null==g||g.$$is_boolean&&
1!=g||(b=d,a=a["$[]"](f(1,-1,!1))):(b=d,a=a.$chop());a=this.$sanitize_attribute_name(a);k=!0;!1!==c&&c!==d&&null!=c&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&!1!==b&&b!==d&&null!=b&&(k=b.$chr(),"+"["$==="](k)?b=l(c.$attr("leveloffset",0).$to_i(),(!1!==(g=b["$[]"](f(1,-1,!1)))&&g!==d&&null!=g?g:0).$to_i()).$to_s():"-"["$==="](k)&&(b=h(c.$attr("leveloffset",0).$to_i(),(!1!==(g=b["$[]"](f(1,-1,!1)))&&g!==d&&null!=g?g:0).$to_i()).$to_s())),k=!1!==b&&b!==d&&null!=b?c.$set_attribute(a,
b):c.$delete_attribute(a));(g=!1!==k&&k!==d&&null!=k?e:k)===d||null==g||g.$$is_boolean&&1!=g||(!1!==b&&b!==d&&null!=b&&(b=c.$attributes()["$[]"](a)),u.get("Document").$$scope.get("AttributeEntry").$new(a,b).$save_to(e));return[a,b]},va.$$arity=-3);a.defs(z,"$resolve_list_marker",ua=function(a,b,c,f,e){var g;null==c&&(c=0);null==f&&(f=!1);null==e&&(e=d);return(g=a["$=="]("olist")?b["$start_with?"](".")["$!"]():a["$=="]("olist"))===d||null==g||g.$$is_boolean&&1!=g?a["$=="]("colist")?"<1>":b:this.$resolve_ordered_list_marker(b,
c,f,e)},ua.$$arity=-3);a.defs(z,"$resolve_ordered_list_marker",ja=function(a,b,c,f){var e,g,h,k=d,m=d,n=d,k=d;null==b&&(b=0);null==c&&(c=!1);null==f&&(f=d);k=(e=(g=u.get("ORDERED_LIST_STYLES")).$find,e.$$p=(h=function(b){null==b&&(b=d);return u.get("OrderedListMarkerRxMap")["$[]"](b)["$=~"](a)},h.$$s=this,h.$$arity=1,h),e).call(g);m=n=d;"arabic"["$==="](k)?(!1!==c&&c!==d&&null!=c&&(m=l(b,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](k)?(!1!==c&&c!==d&&null!=c&&(m=l("a"["$[]"](0).$ord(),b).$chr(),n=
a.$chomp(".")),a="a."):"upperalpha"["$==="](k)?(!1!==c&&c!==d&&null!=c&&(m=l("A"["$[]"](0).$ord(),b).$chr(),n=a.$chomp(".")),a="A."):"lowerroman"["$==="](k)?(!1!==c&&c!==d&&null!=c&&(m=l(b,1),n=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](k)&&(!1!==c&&c!==d&&null!=c&&(m=l(b,1),n=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(e=!1!==c&&c!==d&&null!=c?m["$!="](n):c)===d||null==e||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+
m+", got "+n);return a},ja.$$arity=-2);a.defs(z,"$is_sibling_list_item?",t=function(b,c,f){var e,g=d,h=d,k=d;(e=a.get("Regexp")["$==="](f))===d||null==e||e.$$is_boolean&&1!=e?(g=u.get("ListRxMap")["$[]"](c),h=f):(g=f,h=!1);return(e=k=g.$match(b))===d||null==e||e.$$is_boolean&&1!=e?!1:!1!==h&&h!==d&&null!=h?h["$=="](this.$resolve_list_marker(c,k["$[]"](1))):!0},t.$$arity=3);a.defs(z,"$next_table",U=function(b,c,e){var g,h,k,m,n,p,r=d,q=d,t=d,x=d,v=d,A=d,y=d,B=d,w=d,z=d,K=d,O=d,B=d,r=u.get("Table").$new(c,
e);(g=e["$has_key?"]("title"))===d||null==g||g.$$is_boolean&&1!=g||(g=[e.$delete("title")],h=r,h["$title="].apply(h,g),g[g.length-1],r.$assign_caption(e.$delete("caption")));(g=(h=e["$key?"]("cols"),!1!==h&&h!==d&&null!=h?(q=this.$parse_colspecs(e["$[]"]("cols")))["$empty?"]()["$!"]():h))===d||null==g||g.$$is_boolean&&1!=g?t=!1:(r.$create_columns(q),t=!0);x=b.$skip_blank_lines();v=u.get("Table").$$scope.get("ParserContext").$new(b,r,e);A=!1!==(g=e["$key?"]("header-option"))&&g!==d&&null!=g?g:e["$key?"]("noheader-option");
for(y=-1;(h=b["$has_more_lines?"]())!==d&&null!=h&&(!h.$$is_boolean||1==h);){y=l(y,1);B=b.$read_line();(h=(k=(m=(n=(p=A["$!"](),!1!==p&&p!==d&&null!=p?x["$=="](0):p),!1!==n&&n!==d&&null!=n?y["$=="](0):n),!1!==m&&m!==d&&null!=m?(w=b.$peek_line())["$nil?"]()["$!"]():m),!1!==k&&k!==d&&null!=k?w["$empty?"]():k))===d||null==h||h.$$is_boolean&&1!=h||(h=[!0],k=r,k["$has_header_option="].apply(k,h),h[h.length-1],e["$[]="]("header-option",""),e["$[]="]("options",(h=e["$key?"]("options"))===d||null==h||h.$$is_boolean&&
1!=h?"header":""+e["$[]"]("options")+",header"));v.$format()["$=="]("psv")&&((h=v["$starts_with_delimiter?"](B))===d||null==h||h.$$is_boolean&&1!=h?(k=this.$parse_cellspec(B,"start",v.$delimiter()),h=a.to_ary(k),z=null==h[0]?d:h[0],B=null==h[1]?d:h[1],k,(h=z["$nil?"]()["$!"]())===d||null==h||h.$$is_boolean&&1!=h||v.$close_open_cell(z)):(B=B["$[]"](f(1,-1,!1)),v.$close_open_cell()));for(K=!1;(k=!1!==(m=K["$!"]())&&m!==d&&null!=m?m:B["$empty?"]()["$!"]())!==d&&null!=k&&(!k.$$is_boolean||1==k);)if(K=
!0,(k=O=v.$match_delimiter(B))===d||null==k||k.$$is_boolean&&1!=k)k=[""+v.$buffer()+B+u.get("EOL")],m=v,m["$buffer="].apply(m,k),k[k.length-1],v.$format()["$=="]("csv")&&(k=[""+v.$buffer().$rstrip()+" "],m=v,m["$buffer="].apply(m,k),k[k.length-1]),B="",(k=!1!==(m=v.$format()["$=="]("psv"))&&m!==d&&null!=m?m:(n=v.$format()["$=="]("csv"))?v["$buffer_has_unclosed_quotes?"]():v.$format()["$=="]("csv"))===d||null==k||k.$$is_boolean&&1!=k?v.$close_cell(!0):v.$keep_cell_open();else{if(v.$format()["$=="]("csv")){if((k=
v["$buffer_has_unclosed_quotes?"](O.$pre_match()))!==d&&null!=k&&(!k.$$is_boolean||1==k)){B=v.$skip_matched_delimiter(O);continue}}else if((k=O.$pre_match()["$end_with?"]("\\"))!==d&&null!=k&&(!k.$$is_boolean||1==k)){if((k=(B=v.$skip_matched_delimiter(O,!0))["$empty?"]())!==d&&null!=k&&(!k.$$is_boolean||1==k)){k=[""+v.$buffer()+u.get("EOL")];m=v;m["$buffer="].apply(m,k);k[k.length-1];v.$keep_cell_open();break}continue}v.$format()["$=="]("psv")?(m=this.$parse_cellspec(O.$pre_match(),"end"),k=a.to_ary(m),
z=null==k[0]?d:k[0],B=null==k[1]?d:k[1],m,v.$push_cellspec(z),k=[""+v.$buffer()+B]):k=[""+v.$buffer()+O.$pre_match()];m=v;m["$buffer="].apply(m,k);k[k.length-1];(k=(B=O.$post_match())["$empty?"]())===d||null==k||k.$$is_boolean&&1!=k||(K=!1);v.$close_cell()}if((h=v["$cell_open?"]())===d||null==h||h.$$is_boolean&&1!=h)x=b.$skip_blank_lines();if((h=b["$has_more_lines?"]())===d||null==h||h.$$is_boolean&&1!=h)(h=v["$cell_open?"]())===d||null==h||h.$$is_boolean&&1!=h||v.$close_cell(!0)}((g=!1!==(h=(k="colcount",
m=r.$attributes(),!1!==(n=m["$[]"](k))&&n!==d&&null!=n?n:m["$[]="](k,r.$columns().$size()))["$=="](0))&&h!==d&&null!=h?h:t)===d||null==g||g.$$is_boolean&&1!=g)&&r.$assign_column_widths();r.$partition_header_footer(e);return r},U.$$arity=3);a.defs(z,"$parse_colspecs",qa=function(b){var c,f,e,g,h,l=d;(c=b["$include?"](" "))===d||null==c||c.$$is_boolean&&1!=c||(b=b.$tr(" ",""));if(b["$=="](b.$to_i().$to_s()))return(c=(f=a.get("Array")).$new,c.$$p=(e=function(){return k(["width"],{width:1})},e.$$s=this,
e.$$arity=0,e),c).call(f,b.$to_i());l=[];(c=(g=b.$split(",",-1)).$each,c.$$p=(h=function(b){var c=h.$$s||this,f,e,g,m=d,n=d,p=d,r=d;null==b&&(b=d);if((f=b["$empty?"]())===d||null==f||f.$$is_boolean&&1!=f){if((f=m=u.get("ColumnSpecRx").$match(b))===d||null==f||f.$$is_boolean&&1!=f)return d;n=k([],{});if((f=m["$[]"](2))!==d&&null!=f&&(!f.$$is_boolean||1==f)){e=m["$[]"](2).$split(".");f=a.to_ary(e);p=null==f[0]?d:f[0];r=null==f[1]?d:f[1];e;if((f=(e=p["$nil_or_empty?"]()["$!"](),!1!==e&&e!==d&&null!=
e?u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](p):e))!==d&&null!=f&&(!f.$$is_boolean||1==f))n["$[]="]("halign",u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](p));if((f=(e=r["$nil_or_empty?"]()["$!"](),!1!==e&&e!==d&&null!=e?u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](r):e))!==d&&null!=f&&(!f.$$is_boolean||1==f))n["$[]="]("valign",u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](r))}n["$[]="]("width",(f=m["$[]"](3))===d||null==f||f.$$is_boolean&&
1!=f?1:m["$[]"](3).$to_i());if((f=(e=m["$[]"](4),!1!==e&&e!==d&&null!=e?u.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](m["$[]"](4)):e))!==d&&null!=f&&(!f.$$is_boolean||1==f))n["$[]="]("style",u.get("Table").$$scope.get("TEXT_STYLES")["$[]"](m["$[]"](4)));return(f=m["$[]"](1))===d||null==f||f.$$is_boolean&&1!=f?l["$<<"](n):(f=(e=1).$upto,f.$$p=(g=function(){return l["$<<"](n.$dup())},g.$$s=c,g.$$arity=0,g),f).call(e,m["$[]"](1).$to_i())}return l["$<<"](k(["width"],{width:1}))},h.$$s=this,h.$$arity=
1,h),c).call(g);return l},qa.$$arity=1);a.defs(z,"$parse_cellspec",oa=function(b,c,f){var e,g,h=d,l=d,m=d,n=m=h=d,p=d;null==c&&(c="start");null==f&&(f=d);h=d;l="";m=c;if("start"["$==="](m)){if((e=b["$include?"](f))===d||null==e||e.$$is_boolean&&1!=e)return[d,b];g=b.$split(f,2);e=a.to_ary(g);h=null==e[0]?d:e[0];l=null==e[1]?d:e[1];g;if((e=h=u.get("CellSpecStartRx").$match(h))===d||null==e||e.$$is_boolean&&1!=e)return[d,b];if((e=h["$[]"](0)["$empty?"]())!==d&&null!=e&&(!e.$$is_boolean||1==e))return[k([],
{}),l]}else if("end"["$==="](m)){if((e=h=u.get("CellSpecEndRx").$match(b))===d||null==e||e.$$is_boolean&&1!=e)return[k([],{}),b];if((e=h["$[]"](0).$lstrip()["$empty?"]())!==d&&null!=e&&(!e.$$is_boolean||1==e))return[k([],{}),b.$rstrip()];l=h.$pre_match()}m=k([],{});if((e=h["$[]"](1))!==d&&null!=e&&(!e.$$is_boolean||1==e))if(g=h["$[]"](1).$split("."),e=a.to_ary(g),n=null==e[0]?d:e[0],p=null==e[1]?d:e[1],g,n=(e=n["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?n.$to_i():1,p=(e=p["$nil_or_empty?"]())===
d||null==e||e.$$is_boolean&&1!=e?p.$to_i():1,h["$[]"](2)["$=="]("+")){if(!n["$=="](1))m["$[]="]("colspan",n);if(!p["$=="](1))m["$[]="]("rowspan",p)}else if(h["$[]"](2)["$=="]("*")&&!n["$=="](1))m["$[]="]("repeatcol",n);if((e=h["$[]"](3))!==d&&null!=e&&(!e.$$is_boolean||1==e)){g=h["$[]"](3).$split(".");e=a.to_ary(g);n=null==e[0]?d:e[0];p=null==e[1]?d:e[1];g;if((e=(g=n["$nil_or_empty?"]()["$!"](),!1!==g&&g!==d&&null!=g?u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):g))!==d&&null!=
e&&(!e.$$is_boolean||1==e))m["$[]="]("halign",u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((e=(g=p["$nil_or_empty?"]()["$!"](),!1!==g&&g!==d&&null!=g?u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](p):g))!==d&&null!=e&&(!e.$$is_boolean||1==e))m["$[]="]("valign",u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](p))}if((e=(g=h["$[]"](4),!1!==g&&g!==d&&null!=g?u.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](h["$[]"](4)):g))!==d&&null!=e&&(!e.$$is_boolean||
1==e))m["$[]="]("style",u.get("Table").$$scope.get("TEXT_STYLES")["$[]"](h["$[]"](4)));return[m,l]},oa.$$arity=-2);a.defs(z,"$parse_style_attribute",wa=function(a,b){var c,f,g,h,m,n,p,r=d,q=d,t=d,v=d,x=d,A=d,y=q=g=d;null==b&&(b=d);r=a["$[]"]("style");q=a["$[]"](1);if((c=(f=(g=!1!==q&&q!==d&&null!=q)?q["$include?"](" ")["$!"]():q,!1!==f&&f!==d&&null!=f?u.get("Compliance").$shorthand_property_syntax():f))===d||null==c||c.$$is_boolean&&1!=c)return a["$[]="]("style",q),[q,r];t="style";v=[];x=k([],{});
A=(c=(f=this).$lambda,c.$$p=(h=function(){var a=h.$$s||this,c,f,e=d;return(c=v["$empty?"]())===d||null==c||c.$$is_boolean&&1!=c?(e=t,"role"["$==="](e)||"option"["$==="](e)?(c=t,a=x,!1!==(f=a["$[]"](c))&&f!==d&&null!=f?f:a["$[]="](c,[]),x["$[]"](t).$push(v.$join())):("id"["$==="](e)&&((c=x["$has_key?"]("id"))===d||null==c||c.$$is_boolean&&1!=c||a.$warn("asciidoctor: WARNING:"+((c=b["$nil?"]())===d||null==c||c.$$is_boolean&&1!=c?" "+b.$prev_line_info()+":":d)+" multiple ids detected in style attribute")),
x["$[]="](t,v.$join())),v=[]):(c=t["$!="]("style"))===d||null==c||c.$$is_boolean&&1!=c?d:a.$warn("asciidoctor: WARNING:"+((c=b["$nil?"]())===d||null==c||c.$$is_boolean&&1!=c?" "+b.$prev_line_info()+":":d)+" invalid empty "+t+" detected in style attribute")},h.$$s=this,h.$$arity=0,h),c).call(f);(c=(g=q).$each_char,c.$$p=(m=function(a){var b,c,f,e=d;null==a&&(a=d);if((b=!1!==(c=!1!==(f=a["$=="]("."))&&f!==d&&null!=f?f:a["$=="]("#"))&&c!==d&&null!=c?c:a["$=="]("%"))===d||null==b||b.$$is_boolean&&1!=
b)return v.$push(a);A.$call();e=a;return"."["$==="](e)?t="role":"#"["$==="](e)?t="id":"%"["$==="](e)?t="option":d},m.$$s=this,m.$$arity=1,m),c).call(g);if(t["$=="]("style"))g=a["$[]="]("style",q);else{A.$call();g=(c=x["$has_key?"]("style"))===d||null==c||c.$$is_boolean&&1!=c?d:a["$[]="]("style",x["$[]"]("style"));if((c=x["$has_key?"]("id"))!==d&&null!=c&&(!c.$$is_boolean||1==c))a["$[]="]("id",x["$[]"]("id"));if((c=x["$has_key?"]("role"))!==d&&null!=c&&(!c.$$is_boolean||1==c))a["$[]="]("role",e(x["$[]"]("role"),
" "));if((c=x["$has_key?"]("option"))!==d&&null!=c&&(!c.$$is_boolean||1==c))if((c=(n=q=x["$[]"]("option")).$each,c.$$p=(p=function(b){null==b&&(b=d);return a["$[]="](""+b+"-option","")},p.$$s=this,p.$$arity=1,p),c).call(n),(c=y=a["$[]"]("options"))===d||null==c||c.$$is_boolean&&1!=c)a["$[]="]("options",e(q,","));else a["$[]="]("options",e(l(q,y.$split(",")),","))}return[g,r]},wa.$$arity=-2);a.defs(z,"$adjust_indentation!",xa=function(b,c,g){var k,p,r,q,t,v,x,A,y=this,B=d,w=d,z=d;null==c&&(c=0);null==
g&&(g=0);if((k=b["$empty?"]())!==d&&null!=k&&(!k.$$is_boolean||1==k))return d;(k=(p=n(g=g.$to_i(),0),!1!==p&&p!==d&&null!=p?b.$join()["$include?"](u.get("TAB")):p))===d||null==k||k.$$is_boolean&&1!=k||(B=e(" ",g),(k=(p=b)["$map!"],k.$$p=(r=function(a){var b=r.$$s||this,c,f,k,n,p,q=d;null==a&&(a=d);if((c=a["$empty?"]())!==d&&null!=c&&(!c.$$is_boolean||1==c))return a;(c=a["$start_with?"](u.get("TAB")))===d||null==c||c.$$is_boolean&&1!=c||(a=(c=(f=a).$sub,c.$$p=(k=function(a){null==a&&(a=d);return e(B,
a.$length())},k.$$s=b,k.$$arity=1,k),c).call(f,u.get("TabIndentRx")));if((c=a["$include?"](u.get("TAB")))===d||null==c||c.$$is_boolean&&1!=c)return a;q=0;return a=(c=(n=a).$gsub,c.$$p=(p=function(){var a=d,b=d;null==m["~"]&&(m["~"]=d);if((a=l(m["~"].$begin(0),q))["$%"](g)["$=="](0))return q=l(q,h(g,1)),B;(b=h(g,a["$%"](g)))["$=="](1)||(q=l(q,h(b,1)));return e(" ",b)},p.$$s=b,p.$$arity=0,p),c).call(n,u.get("TabRx"))},r.$$s=y,r.$$arity=1,r),k).call(p));if((k=(q=!1!==c&&c!==d&&null!=c)?n(c=c.$to_i(),
-1):c)===d||null==k||k.$$is_boolean&&1!=k)return d;w=d;(function(){var c=a.new_brk();try{return(k=(q=b).$each,k.$$p=(t=function(b){var f,e=d;null==b&&(b=d);if((f=b["$empty?"]())!==d&&null!=f&&(!f.$$is_boolean||1==f))return d;if((e=h(b.$length(),b.$lstrip().$length()))["$=="](0))w=d,a.brk(d,c);else return(f=!1!==w&&w!==d&&null!=w?n(e,w):w)===d||null==f||f.$$is_boolean&&1!=f?w=e:d},t.$$s=y,t.$$brk=c,t.$$arity=1,t),k).call(q)}catch(f){if(f===c)return f.$v;throw f;}})();c["$=="](0)?!1!==w&&w!==d&&null!=
w&&(k=b["$map!"],k.$$p=(v=function(a){var b;null==a&&(a=d);return(b=a["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?a["$[]"](f(w,-1,!1)):a},v.$$s=y,v.$$arity=1,v),k).call(b):(z=e(" ",c),!1!==w&&w!==d&&null!=w?(k=b["$map!"],k.$$p=(x=function(a){var b;null==a&&(a=d);return(b=a["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?l(z,a["$[]"](f(w,-1,!1))):a},x.$$s=y,x.$$arity=1,x),k).call(b):(k=b["$map!"],k.$$p=(A=function(a){var b;null==a&&(a=d);return(b=a["$empty?"]())===d||null==b||b.$$is_boolean&&
1!=b?l(z,a):a},A.$$s=y,A.$$arity=1,A),k).call(b));return d},xa.$$arity=-2);a.defs(z,"$sanitize_attribute_name",za=function(a){return a.$gsub(u.get("InvalidAttributeNameCharsRx"),"").$downcase()},za.$$arity=1);return(a.defs(z,"$roman_numeral_to_int",Aa=function(a){var b,e,g,m=d,p=d;a=a.$downcase();m=k(["i","v","x"],{i:1,v:5,x:10});p=0;(b=(e=f(0,h(a.$length(),1),!1)).$each,b.$$p=(g=function(b){var e,g,k=d;null==b&&(b=d);k=m["$[]"](a["$[]"](f(b,b,!1)));return(e=(g=c(l(b,1),a.$length()),!1!==g&&g!==d&&
null!=g?n(m["$[]"](a["$[]"](f(l(b,1),l(b,1),!1))),k):g))===d||null==e||e.$$is_boolean&&1!=e?p=l(p,k):p=h(p,k)},g.$$s=this,g.$$arity=1,g),b).call(e);return p},Aa.$$arity=1),d)&&"roman_numeral_to_int"})(v(q,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var n=a.nil,e=a.module,g=a.klass,h=a.hash2,b=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $chomp $uri_prefix $<< $+".split(" "));return function(c){(function(c,
$super){function e(){}var k=e=g(c,$super,"PathResolver",e),p=k.$$proto,f=k.$$scope,m,q,y,I,E,z,u,H,L,J,N;p.file_separator=p._partition_path_web=p._partition_path_sys=p.working_dir=n;a.cdecl(f,"DOT",".");a.cdecl(f,"DOT_DOT","..");a.cdecl(f,"DOT_SLASH","./");a.cdecl(f,"SLASH","/");a.cdecl(f,"BACKSLASH","\\");a.cdecl(f,"DOUBLE_SLASH","//");a.cdecl(f,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);k.$attr_accessor("file_separator");k.$attr_accessor("working_dir");a.defn(k,"$initialize",m=function(b,c){var d;null==
b&&(b=n);null==c&&(c=n);this.file_separator=!1!==b&&b!==n&&null!=b?b:!1!==(d=a.get("File").$$scope.get("ALT_SEPARATOR"))&&d!==n&&null!=d?d:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==c&&c!==n&&null!=c?(d=this["$is_root?"](c))===n||null==d||d.$$is_boolean&&1!=d?a.get("File").$expand_path(c):c:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=h([],{});return this._partition_path_web=h([],{})},m.$$arity=-1);a.defn(k,"$is_root?",q=function(b){var c,d,e;return(c=
b["$start_with?"](f.get("SLASH")))===n||null==c||c.$$is_boolean&&1!=c?(c=this.file_separator["$=="](f.get("BACKSLASH"))?f.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](f.get("BACKSLASH")))===n||null==c||c.$$is_boolean&&1!=c?(c=(d=(e=a.get("RUBY_ENGINE_OPAL"),!1!==e&&e!==n&&null!=e?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):e),!1!==d&&d!==n&&null!=d?b["$start_with?"]("file:///"):d))===n||null==c||c.$$is_boolean&&1!=c?!1:!0:!0:!0},q.$$arity=1);a.defn(k,"$is_unc?",y=function(a){return a["$start_with?"](f.get("DOUBLE_SLASH"))},
y.$$arity=1);a.defn(k,"$is_web_root?",I=function(a){return a["$start_with?"](f.get("SLASH"))},I.$$arity=1);a.defn(k,"$posixfy",E=function(a){var b;return(b=a["$nil_or_empty?"]())===n||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"](f.get("BACKSLASH")))===n||null==b||b.$$is_boolean&&1!=b?a:a.$tr(f.get("BACKSLASH"),f.get("SLASH")):""},E.$$arity=1);a.defn(k,"$expand_path",z=function(b){var c,d=n;c=n;b=this.$partition_path(b);c=a.to_ary(b);d=null==c[0]?n:c[0];c=null==c[1]?n:c[1];b;return this.$join_path(d,
c)},z.$$arity=1);a.defn(k,"$partition_path",u=function(a,c){var d,e=n,g=e=n,h=n;null==c&&(c=!1);if((d=e=!1!==c&&c!==n&&null!=c?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==n&&null!=d&&(!d.$$is_boolean||1==d))return e;e=this.$posixfy(a);g=!1!==c&&c!==n&&null!=c?(d=this["$is_web_root?"](e))===n||null==d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](f.get("DOT_SLASH")))===n||null==d||d.$$is_boolean&&1!=d?n:f.get("DOT_SLASH"):f.get("SLASH"):(d=this["$is_root?"](e))===n||null==
d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](f.get("DOT_SLASH")))===n||null==d||d.$$is_boolean&&1!=d?n:f.get("DOT_SLASH"):(d=this["$is_unc?"](e))===n||null==d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](f.get("SLASH")))===n||null==d||d.$$is_boolean&&1!=d?e["$[]"](b(0,e.$index(f.get("SLASH")),!1)):f.get("SLASH"):f.get("DOUBLE_SLASH");h=e.$split(f.get("SLASH"));g["$=="](f.get("DOUBLE_SLASH"))?h=h["$[]"](b(2,-1,!1)):!1!==g&&g!==n&&null!=g&&h.$shift();h.$delete(f.get("DOT"));return(!1!==c&&c!==n&&null!=
c?this._partition_path_web:this._partition_path_sys)["$[]="](a,[h,g,e])},u.$$arity=-2);a.defn(k,"$join_path",H=function(a,b){null==b&&(b=n);return!1!==b&&b!==n&&null!=b?""+b+l(a,f.get("SLASH")):l(a,f.get("SLASH"))},H.$$arity=-2);a.defn(k,"$system_path",L=function(b,c,d,e){var g,k,l,m=n,p=n,q=n,u=n,y=n,w=y=q=n,z=n;null==d&&(d=n);null==e&&(e=h([],{}));!1!==d&&d!==n&&null!=d&&(((g=this["$is_root?"](d))===n||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+
d),d=this.$posixfy(d));(g=b["$nil_or_empty?"]())===n||null==g||g.$$is_boolean&&1!=g?(k=this.$partition_path(b),g=a.to_ary(k),m=null==g[0]?n:g[0],p=null==g[1]?n:g[1],k):m=[];if((g=m["$empty?"]())!==n&&null!=g&&(!g.$$is_boolean||1==g))if((g=c["$nil_or_empty?"]())===n||null==g||g.$$is_boolean&&1!=g){if((g=this["$is_root?"](c))===n||null==g||g.$$is_boolean&&1!=g)return this.$system_path(c,d,d,e);if(!1===d||d===n||null==d)return this.$expand_path(c)}else return!1!==d&&d!==n&&null!=d?d:this.working_dir;
if(!((g=(k=!1!==p&&p!==n&&null!=p)?p["$!="](f.get("DOT_SLASH")):p)===n||null==g||g.$$is_boolean&&1!=g||(q=this.$join_path(m,p),(g=!1!==(k=d["$!"]())&&k!==n&&null!=k?k:q["$start_with?"](d))===n||null==g||g.$$is_boolean&&1!=g)))return q;c=(g=c["$nil_or_empty?"]())===n||null==g||g.$$is_boolean&&1!=g?(g=this["$is_root?"](c))===n||null==g||g.$$is_boolean&&1!=g?this.$system_path(c,d,d,e):this.$posixfy(c):!1!==d&&d!==n&&null!=d?d:this.working_dir;d["$=="](c)?(k=this.$partition_path(d),g=a.to_ary(k),u=null==
g[0]?n:g[0],y=null==g[1]?n:g[1],k,q=u.$dup()):(!1!==d&&d!==n&&null!=d?(((g=c["$start_with?"](d))===n||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.get("SecurityError"),""+(!1!==(g=e["$[]"]("target_name"))&&g!==n&&null!=g?g:"Start path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)"),k=this.$partition_path(c),g=a.to_ary(k),q=null==g[0]?n:g[0],y=null==g[1]?n:g[1],k,k=this.$partition_path(d),g=a.to_ary(k),u=null==g[0]?n:g[0]):(k=this.$partition_path(c),g=a.to_ary(k),q=null==g[0]?n:g[0]),
y=null==g[1]?n:g[1],k);w=q.$dup();z=!1;(g=(k=m).$each,g.$$p=(l=function(c){var g=l.$$s||this,h;null==c&&(c=n);if(c["$=="](f.get("DOT_DOT"))){if(!1!==d&&d!==n&&null!=d){c=w.$length();var k=u.$length();if((h="number"===typeof c&&"number"===typeof k?c>k:c["$>"](k))===n||null==h||h.$$is_boolean&&1!=h){if((h=(!1!==n&&n!==n&&null!=n?n:e.$fetch("recover",!0))["$!"]())===n||null==h||h.$$is_boolean&&1!=h){if((h=z["$!"]())===n||null==h||h.$$is_boolean&&1!=h)return n;g.$warn("asciidoctor: WARNING: "+(!1!==(h=
e["$[]"]("target_name"))&&h!==n&&null!=h?h:"path")+" has illegal reference to ancestor of jail, auto-recovering");return z=!0}return g.$raise(a.get("SecurityError"),""+(!1!==(h=e["$[]"]("target_name"))&&h!==n&&null!=h?h:"path")+" "+b+" refers to location outside jail: "+d+" (disallowed in safe mode)")}}return w.$pop()}return w.$push(c)},l.$$s=this,l.$$arity=1,l),g).call(k);return this.$join_path(w,y)},L.$$arity=-3);a.defn(k,"$web_path",J=function(c,d){var e,g,h,k=n,l=n,m=n,p=n;null==d&&(d=n);c=this.$posixfy(c);
d=this.$posixfy(d);k=n;if((e=!1!==(g=d["$nil_or_empty?"]())&&g!==n&&null!=g?g:this["$is_web_root?"](c))===n||null==e||e.$$is_boolean&&1!=e)c=""+d.$chomp("/")+f.get("SLASH")+c,(e=k=f.get("Helpers").$uri_prefix(c))===n||null==e||e.$$is_boolean&&1!=e||(c=c["$[]"](b(k.$length(),-1,!1)));g=this.$partition_path(c,!0);e=a.to_ary(g);l=null==e[0]?n:e[0];m=null==e[1]?n:e[1];g;p=[];(e=(g=l).$each,e.$$p=(h=function(a){var b;null==a&&(a=n);return a["$=="](f.get("DOT_DOT"))?(b=p["$empty?"]())===n||null==b||b.$$is_boolean&&
1!=b?p["$[]"](-1)["$=="](f.get("DOT_DOT"))?p["$<<"](a):p.$pop():(b=!1!==m&&m!==n&&null!=m?m["$!="](f.get("DOT_SLASH")):m)===n||null==b||b.$$is_boolean&&1!=b?p["$<<"](a):n:p["$<<"](a)},h.$$s=this,h.$$arity=1,h),e).call(g);return!1!==k&&k!==n&&null!=k?""+k+this.$join_path(p,m):this.$join_path(p,m)},J.$$arity=-2);return(a.defn(k,"$relative_path",N=function(a,c){var d,f,e=n;if((d=(f=this["$is_root?"](a),!1!==f&&f!==n&&null!=f?this["$is_root?"](c):f))===n||null==d||d.$$is_boolean&&1!=d)return a;d=c.$chomp(this.file_separator).$length();
e="number"===typeof d?d+1:d["$+"](1);return a["$[]"](b(e,-1,!1))},N.$$arity=2),n)&&"relative_path"})(e(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var b=a.nil,c=a.module,d=a.klass,v=a.hash2,w=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $none? $any? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(k){k=c(k,"Asciidoctor").$$scope;(function(c,$super){function h(){}var k=h=d(c,$super,"Reader",h),y=k.$$proto,I=k.$$scope,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba;y.file=y.dir=y.lines=y.process_lines=y.look_ahead=y.eof=y.unescape_next_line=y.lineno=y.path=y.source_lines=b;(function(c,$super){function e(){}var g=e=d(c,$super,"Cursor",e),h,k;g.$attr_accessor("file");g.$attr_accessor("dir");g.$attr_accessor("path");g.$attr_accessor("lineno");a.defn(g,"$initialize",
h=function(a,c,d,e){null==c&&(c=b);null==d&&(d=b);null==e&&(e=b);this.file=a;this.dir=c;this.path=d;return this.lineno=e},h.$$arity=-2);a.defn(g,"$line_info",k=function(){return""+this.$path()+": line "+this.$lineno()},k.$$arity=0);return a.alias(g,"to_s","line_info")})(I.base,null);k.$attr_reader("file");k.$attr_reader("dir");k.$attr_reader("path");k.$attr_reader("lineno");k.$attr_reader("source_lines");k.$attr_accessor("process_lines");a.defn(k,"$initialize",E=function(c,d,e){var g;null==c&&(c=
b);null==d&&(d=b);null==e&&(e=v(["normalize"],{normalize:!1}));if((g=d["$!"]())===b||null==g||g.$$is_boolean&&1!=g)if((g=a.get("String")["$==="](d))===b||null==g||g.$$is_boolean&&1!=g){this.file=d.$file();this.dir=d.$dir();this.path=!1!==(g=d.$path())&&g!==b&&null!=g?g:"<stdin>";if((g=this.file)!==b&&null!=g&&(!g.$$is_boolean||1==g)){if((g=this.dir)===b||null==g||g.$$is_boolean&&1!=g)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=b);if((g=d.$path())===b||null==g||g.$$is_boolean&&
1!=g)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(g=d.$lineno())&&g!==b&&null!=g?g:1}else this.file=d,d=a.get("File").$split(this.file),g=a.to_ary(d),this.dir=null==g[0]?b:g[0],this.path=null==g[1]?b:g[1],d,this.lineno=1;else this.file=this.dir=b,this.path="<stdin>",this.lineno=1;this.lines=!1!==c&&c!==b&&null!=c?this.$prepare_lines(c,e):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=
!1},E.$$arity=-1);a.defn(k,"$prepare_lines",z=function(c,d){var e;null==d&&(d=v([],{}));return(e=a.get("String")["$==="](c))===b||null==e||e.$$is_boolean&&1!=e?(e=d["$[]"]("normalize"))===b||null==e||e.$$is_boolean&&1!=e?c.$dup():I.get("Helpers").$normalize_lines_array(c):(e=d["$[]"]("normalize"))===b||null==e||e.$$is_boolean&&1!=e?c.$split(I.get("EOL")):I.get("Helpers").$normalize_lines_from_string(c)},z.$$arity=-2);a.defn(k,"$process_line",u=function(a){var c;(c=this.process_lines)===b||null==c||
c.$$is_boolean&&1!=c||(this.look_ahead=l(this.look_ahead,1));return a},u.$$arity=1);a.defn(k,"$has_more_lines?",H=function(){var a;return(!1!==(a=this.eof)&&a!==b&&null!=a?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()},H.$$arity=0);a.defn(k,"$next_line_empty?",L=function(){return this.$peek_line()["$nil_or_empty?"]()},L.$$arity=0);a.defn(k,"$peek_line",J=function(a){var c,d,e=b;null==a&&(a=!1);if((c=!1!==(d=a)&&d!==b&&null!=d?d:n(this.look_ahead,0))===b||null==c||c.$$is_boolean&&1!=c){if((c=!1!==
(d=this.eof)&&d!==b&&null!=d?d:this.lines["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c)return(c=(e=this.$process_line(this.lines["$[]"](0)))["$!"]())===b||null==c||c.$$is_boolean&&1!=c?e:this.$peek_line();this.eof=!0;this.look_ahead=0;return b}return(c=this.unescape_next_line)===b||null==c||c.$$is_boolean&&1!=c?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](w(1,-1,!1))},J.$$arity=-1);a.defn(k,"$peek_lines",N=function(c,d){var e,g,h,k,l,m=this,n=b,p=b;null==c&&(c=1);null==d&&(d=!0);n=m.look_ahead;
p=[];(function(){var k=a.new_brk();try{return(e=(g=c).$times,e.$$p=(h=function(){var c,e=b;if((c=e=(h.$$s||this).$read_line(d))===b||null==c||c.$$is_boolean&&1!=c)a.brk(b,k);else return p["$<<"](e)},h.$$s=m,h.$$brk=k,h.$$arity=0,h),e).call(g)}catch(l){if(l===k)return l.$v;throw l;}})();if((e=p["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e)(e=(k=p).$reverse_each,e.$$p=(l=function(a){var c=l.$$s||this;null==a&&(a=b);return c.$unshift(a)},l.$$s=m,l.$$arity=1,l),e).call(k),!1!==d&&d!==b&&null!=d&&
(m.look_ahead=n);return p},N.$$arity=-1);a.defn(k,"$read_line",Q=function(a){var c,d,e;null==a&&(a=!1);return(c=!1!==(d=!1!==(e=a)&&e!==b&&null!=e?e:n(this.look_ahead,0))&&d!==b&&null!=d?d:this["$has_more_lines?"]())===b||null==c||c.$$is_boolean&&1!=c?b:this.$shift()},Q.$$arity=-1);a.defn(k,"$read_lines",A=function(){for(var a,c=b,c=[];(a=this["$has_more_lines?"]())!==b&&null!=a&&(!a.$$is_boolean||1==a);)c["$<<"](this.$shift());return c},A.$$arity=0);a.alias(k,"readlines","read_lines");a.defn(k,"$read",
r=function(){return e(this.$read_lines(),I.get("EOL"))},r.$$arity=0);a.defn(k,"$advance",P=function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()},P.$$arity=-1);a.defn(k,"$unshift_line",S=function(a){this.$unshift(a);return b},S.$$arity=1);a.alias(k,"restore_line","unshift_line");a.defn(k,"$unshift_lines",R=function(a){var c,d;(c=a.$reverse_each,c.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=b);return c.$unshift(a)},d.$$s=this,d.$$arity=1,d),c).call(a);return b},R.$$arity=1);a.alias(k,
"restore_lines","unshift_lines");a.defn(k,"$replace_next_line",Z=function(a){this.$advance();this.$unshift(a);return b},Z.$$arity=1);a.alias(k,"replace_line","replace_next_line");a.defn(k,"$skip_blank_lines",aa=function(){var a,c,d=b,e=b;if((a=this["$eof?"]())!==b&&null!=a&&(!a.$$is_boolean||1==a))return 0;for(d=0;!((c=e=this.$peek_line())===b||null==c||c.$$is_boolean&&1!=c||(c=e["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c);)this.$advance(),d=l(d,1);return d},aa.$$arity=0);a.defn(k,"$skip_comment_lines",
V=function(c){var d,e,g=b,h=b,k=b,l=b,m=b;null==c&&(c=v([],{}));if((d=this["$eof?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))return[];g=[];for(h=c["$[]"]("include_blank_lines");(e=k=this.$peek_line())!==b&&null!=e&&(!e.$$is_boolean||1==e);)if((e=(c=!1!==h&&h!==b&&null!=h)?k["$empty?"]():h)===b||null==e||e.$$is_boolean&&1!=e)if((e=(c=l=k["$start_with?"]("//"),!1!==c&&c!==b&&null!=c?m=I.get("CommentBlockRx").$match(k):c))===b||null==e||e.$$is_boolean&&1!=e)if((c=!1!==l&&l!==b&&null!=l?I.get("CommentLineRx")["$=~"](k):
l)===b||null==c||c.$$is_boolean&&1!=c)break;else g["$<<"](this.$shift());else g["$<<"](this.$shift()),(e=g).$push.apply(e,a.to_a(this.$read_lines_until(v(["terminator","read_last_line","skip_processing"],{terminator:m["$[]"](0),read_last_line:!0,skip_processing:!0}))));else g["$<<"](this.$shift());return g},V.$$arity=-1);a.defn(k,"$skip_line_comments",O=function(){var a,c,d=b,e=b;if((a=this["$eof?"]())!==b&&null!=a&&(!a.$$is_boolean||1==a))return[];for(d=[];!((c=e=this.$peek_line())===b||null==c||
c.$$is_boolean&&1!=c||(c=I.get("CommentLineRx")["$=~"](e))===b||null==c||c.$$is_boolean&&1!=c);)d["$<<"](this.$shift());return d},O.$$arity=0);a.defn(k,"$terminate",T=function(){this.lineno=l(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return b},T.$$arity=0);a.defn(k,"$eof?",Y=function(){return this["$has_more_lines?"]()["$!"]()},Y.$$arity=0);a.alias(k,"empty?","eof?");a.defn(k,"$read_lines_until",X=function(c){var d,e,h,k,l=X.$$p||b,m=b,n=b,p=b,r=b,q=b,u=b,y=
b,A=b,t=b,w=b;null==c&&(c=v([],{}));X.$$p=null;m=[];(d=c["$[]"]("skip_first_line"))===b||null==d||d.$$is_boolean&&1!=d||this.$advance();(d=(e=this.process_lines,!1!==e&&e!==b&&null!=e?c["$[]"]("skip_processing"):e))===b||null==d||d.$$is_boolean&&1!=d?n=!1:(this.process_lines=!1,n=!0);(d=p=c["$[]"]("terminator"))===b||null==d||d.$$is_boolean&&1!=d?(r=c["$[]"]("break_on_blank_lines"),q=c["$[]"]("break_on_list_continuation")):q=r=!1;u=c["$[]"]("skip_line_comments");for(t=A=y=!1;(e=(h=t["$!"](),!1!==
h&&h!==b&&null!=h?w=this.$read_line():h))!==b&&null!=e&&(!e.$$is_boolean||1==e);)if(t=function(){for(;(h=!0)!==b&&null!=h&&(!h.$$is_boolean||1==h);)return((h=(k=!1!==p&&p!==b&&null!=p)?w["$=="](p):p)===b||null==h||h.$$is_boolean&&1!=h)&&((h=(k=!1!==r&&r!==b&&null!=r)?w["$empty?"]():r)===b||null==h||h.$$is_boolean&&1!=h)?(h=(k=!1!==q&&q!==b&&null!=q?y:q,!1!==k&&k!==b&&null!=k?w["$=="](I.get("LIST_CONTINUATION")):k))===b||null==h||h.$$is_boolean&&1!=h?(h=(k=l!==b)?a.yield1(l,w):l!==b)===b||null==h||
h.$$is_boolean&&1!=h?!1:!0:(c["$[]="]("preserve_last_line",!0),!0):!0;return b}(),!1!==t&&t!==b&&null!=t)(e=c["$[]"]("read_last_line"))===b||null==e||e.$$is_boolean&&1!=e||(m["$<<"](w),y=!0),(e=c["$[]"]("preserve_last_line"))===b||null==e||e.$$is_boolean&&1!=e||(this.$unshift(w),A=!0);else if((e=(h=(k=!1!==u&&u!==b&&null!=u)?w["$start_with?"]("//"):u,!1!==h&&h!==b&&null!=h?I.get("CommentLineRx")["$=~"](w):h))===b||null==e||e.$$is_boolean&&1!=e)m["$<<"](w),y=!0;!1!==n&&n!==b&&null!=n&&(this.process_lines=
!0,(d=(e=!1!==A&&A!==b&&null!=A)?p["$!"]():A)===b||null==d||d.$$is_boolean&&1!=d||(this.look_ahead=g(this.look_ahead,1)));return m},X.$$arity=-1);a.defn(k,"$shift",ea=function(){this.lineno=l(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=g(this.look_ahead,1));return this.lines.$shift()},ea.$$arity=0);a.defn(k,"$unshift",ha=function(a){this.lineno=g(this.lineno,1);this.look_ahead=l(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)},ha.$$arity=1);a.defn(k,"$cursor",ia=function(){return I.get("Cursor").$new(this.file,
this.dir,this.path,this.lineno)},ia.$$arity=0);a.defn(k,"$line_info",ka=function(){return""+this.path+": line "+this.lineno},ka.$$arity=0);a.alias(k,"next_line_info","line_info");a.defn(k,"$prev_line_info",la=function(){return""+this.path+": line "+g(this.lineno,1)},la.$$arity=0);a.defn(k,"$lines",fa=function(){return this.lines.$dup()},fa.$$arity=0);a.defn(k,"$string",da=function(){return e(this.lines,I.get("EOL"))},da.$$arity=0);a.defn(k,"$source",F=function(){return e(this.source_lines,I.get("EOL"))},
F.$$arity=0);return(a.defn(k,"$to_s",ba=function(){return this.$line_info()},ba.$$arity=0),b)&&"to_s"})(k.base,null);(function(c,$super){function k(){}var q=k=d(c,$super,"PreprocessorReader",k),y=q.$$proto,I=q.$$scope,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa;y.document=y.lineno=y.process_lines=y.look_ahead=y.skipping=y.include_stack=y.conditional_stack=y.path=y.include_processor_extensions=y.maxdepth=y.dir=y.lines=y.file=y.includes=y.unescape_next_line=b;q.$attr_reader("include_stack");q.$attr_reader("includes");
a.defn(q,"$initialize",E=function(c,d,e){var g,h,k,l=b;null==d&&(d=b);null==e&&(e=b);E.$$p=null;this.document=c;(g=a.find_super_dispatcher(this,"initialize",E,!1),g.$$p=null,g).call(this,d,e,v(["normalize"],{normalize:!0}));l=c.$attributes().$fetch("max-include-depth",64).$to_i();(g="number"===typeof l?0>l:l["$<"](0))===b||null==g||g.$$is_boolean&&1!=g||(l=0);this.maxdepth=v(["abs","rel"],{abs:l,rel:l});this.include_stack=[];this.includes=(g="includes",h=c.$references(),!1!==(k=h["$[]"](g))&&k!==
b&&null!=k?k:h["$[]="](g,[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=b},E.$$arity=-2);a.defn(q,"$prepare_lines",z=function(c,d){var g,h,k,m=z.$$p,n=b,p=b,r=b,q=b,u=n=b;null==d&&(d=v([],{}));z.$$p=null;n=[];for(u=0;u<arguments.length;u++)n[u]=arguments[u];n=(g=a.find_super_dispatcher(this,"prepare_lines",z,!1),g.$$p=m,g).apply(this,n);if(!((g=(h=this.document,!1!==h&&h!==b&&null!=h?this.document.$attributes()["$has_key?"]("skip-front-matter"):h))===b||null==
g||g.$$is_boolean&&1!=g||(g=p=this["$skip_front_matter!"](n))===b||null==g||g.$$is_boolean&&1!=g))this.document.$attributes()["$[]="]("front-matter",e(p,I.get("EOL")));if((g=d.$fetch("condense",!0))!==b&&null!=g&&(!g.$$is_boolean||1==g)){for(;(h=(k=r=n["$[]"](0),!1!==k&&k!==b&&null!=k?r["$empty?"]():k))!==b&&null!=h&&(!h.$$is_boolean||1==h);)h=n.$shift(),!1!==h&&h!==b&&null!=h?this.lineno=l(this.lineno,1):h;for(;(h=(k=q=n["$[]"](-1),!1!==k&&k!==b&&null!=k?q["$empty?"]():k))!==b&&null!=h&&(!h.$$is_boolean||
1==h);)n.$pop()}if((g=d["$[]"]("indent"))!==b&&null!=g&&(!g.$$is_boolean||1==g))I.get("Parser")["$adjust_indentation!"](n,d["$[]"]("indent"),this.document.$attr("tabsize"));return n},z.$$arity=-2);a.defn(q,"$process_line",u=function(c){var d,e,g,h,k=b,m=b;if((d=this.process_lines)===b||null==d||d.$$is_boolean&&1!=d)return c;if((d=c["$empty?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))return this.look_ahead=l(this.look_ahead,1),"";if((d=(e=(g=c["$end_with?"]("]"),!1!==g&&g!==b&&null!=g?c["$start_with?"]("[")["$!"]():
g),!1!==e&&e!==b&&null!=e?c["$include?"]("::"):e))===b||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===b||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=l(this.look_ahead,1),c;this.$advance();return b}if((d=(e=c["$include?"]("if"),!1!==e&&e!==b&&null!=e?k=I.get("ConditionalDirectiveRx").$match(c):e))===b||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===b||null==d||d.$$is_boolean&&1!=d)return(d=(g=!1!==(h=m=c["$start_with?"]("\\include::"))&&h!==b&&null!=h?h:c["$start_with?"]("include::"),
!1!==g&&g!==b&&null!=g?k=I.get("IncludeDirectiveRx").$match(c):g))===b||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=l(this.look_ahead,1),c):!1!==m&&m!==b&&null!=m?(this.unescape_next_line=!0,this.look_ahead=l(this.look_ahead,1),c["$[]"](w(1,-1,!1))):(d=this.$preprocess_include(k["$[]"](1),k["$[]"](2).$strip()))===b||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=l(this.look_ahead,1),c):b;this.$advance();return b}if((d=c["$start_with?"]("\\"))===b||null==d||d.$$is_boolean&&1!=d){if((d=(e=this).$preprocess_conditional_inclusion.apply(e,
a.to_a(k.$captures())))===b||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=l(this.look_ahead,1),c;this.$advance();return b}this.unescape_next_line=!0;this.look_ahead=l(this.look_ahead,1);return c["$[]"](w(1,-1,!1))},u.$$arity=1);a.defn(q,"$peek_line",H=function(c){var d,e,g=H.$$p,h=b,k=h=b;null==c&&(c=!1);H.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return(d=h=(e=a.find_super_dispatcher(this,"peek_line",H,!1),e.$$p=g,e).apply(this,h))===b||null==d||d.$$is_boolean&&1!=d?
(d=this.include_stack["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?(this.$pop_include(),this.$peek_line(c)):b:h},H.$$arity=-1);a.defn(q,"$preprocess_conditional_inclusion",L=function(a,c,d,e){var g,h,k,l,m,p,r,q,u,y,x=b,w=x=b,A=b,z=A=w=x=b,w=b;if((g=!1!==(h=(k=!1!==(l=a["$=="]("ifdef"))&&l!==b&&null!=l?l:a["$=="]("ifndef"),!1!==k&&k!==b&&null!=k?c["$empty?"]():k))&&h!==b&&null!=h?h:(k=a["$=="]("endif"))?e:a["$=="]("endif"))!==b&&null!=g&&(!g.$$is_boolean||1==g))return!1;c=c.$downcase();if(a["$=="]("endif"))return x=
this.conditional_stack.$size(),(g=n(x,0))===b||null==g||g.$$is_boolean&&1!=g?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+c+"[]"):(x=this.conditional_stack["$[]"](-1),(g=!1!==(h=c["$empty?"]())&&h!==b&&null!=h?h:c["$=="](x["$[]"]("target")))===b||null==g||g.$$is_boolean&&1!=g?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+c+"[], expected endif::"+x["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(g=this.conditional_stack["$empty?"]())===
b||null==g||g.$$is_boolean&&1!=g?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)),!0;w=!1;if((g=this.skipping)===b||null==g||g.$$is_boolean&&1!=g)if(A=a,"ifdef"["$==="](A))A=d,b["$==="](A)?w=this.document.$attributes()["$has_key?"](c)["$!"]():","["$==="](A)?w=(g=(h=c.$split(","))["$none?"],g.$$p=(m=function(a){var c=m.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$has_key?"](a)},m.$$s=this,m.$$arity=1,m),g).call(h):"+"["$==="](A)&&(w=(g=(k=c.$split("+"))["$any?"],
g.$$p=(p=function(a){var c=p.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$has_key?"](a)["$!"]()},p.$$s=this,p.$$arity=1,p),g).call(k));else if("ifndef"["$==="](A))A=d,b["$==="](A)?w=this.document.$attributes()["$has_key?"](c):","["$==="](A)?w=(g=(l=c.$split(","))["$none?"],g.$$p=(r=function(a){var c=r.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$has_key?"](a)["$!"]()},r.$$s=this,r.$$arity=1,r),g).call(l):
"+"["$==="](A)&&(w=(g=(q=c.$split("+"))["$any?"],g.$$p=(u=function(a){var c=u.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$has_key?"](a)},u.$$s=this,u.$$arity=1,u),g).call(q));else if("ifeval"["$==="](A)){if((g=!1!==(y=c["$empty?"]()["$!"]())&&y!==b&&null!=y?y:(x=I.get("EvalExpressionRx").$match(e.$strip()))["$!"]())!==b&&null!=g&&(!g.$$is_boolean||1==g))return!1;w=this.$resolve_expr_val(x["$[]"](1));A=this.$resolve_expr_val(x["$[]"](3));w=(z=x["$[]"](2))["$=="]("!=")?
w.$send("==",A):w.$send(z.$to_sym(),A)["$!"]()}if((g=!1!==(y=a["$=="]("ifeval"))&&y!==b&&null!=y?y:e["$!"]())!==b&&null!=g&&(!g.$$is_boolean||1==g))!1!==w&&w!==b&&null!=w&&(this.skipping=!0),this.conditional_stack["$<<"](v(["target","skip","skipping"],{target:c,skip:w,skipping:this.skipping}));else if((g=!1!==(y=this.skipping)&&y!==b&&null!=y?y:w)===b||null==g||g.$$is_boolean&&1!=g)w=this.$peek_line(!0),this.$replace_next_line(e.$rstrip()),this.$unshift(w);return!0},L.$$arity=4);a.defn(q,"$preprocess_include",
J=function(c,d){var k,m,p,r,q,u,y,w,A,z=b,E=b,H=b,x=H=b,J=b,B=b,P=b,N=b,Q=b,L=b,S=b,K=b,R=b,aa=b,Z=b;if((k=(z=this.document.$sub_attributes(c,v(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k){if((k=(m=this["$include_processors?"](),!1!==m&&m!==b&&null!=m?E=(p=(r=this.include_processor_extensions).$find,p.$$p=(q=function(a){null==a&&(a=b);return a.$instance()["$handles?"](z)},q.$$s=this,q.$$arity=1,q),p).call(r):m))===b||null==k||k.$$is_boolean&&
1!=k){if((k=h(this.document.$safe(),I.get("SafeMode").$$scope.get("SECURE")))===b||null==k||k.$$is_boolean&&1!=k){if((k=n(H=this.maxdepth["$[]"]("abs"),0))===b||null==k||k.$$is_boolean&&1!=k)return!1;if((k=h(this.include_stack.$size(),H))!==b&&null!=k&&(!k.$$is_boolean||1==k))return this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded"),!1;if((k=a.get("RUBY_ENGINE_OPAL"))===b||null==k||k.$$is_boolean&&1!=k)if((k=I.get("Helpers")["$uriish?"](z))===
b||null==k||k.$$is_boolean&&1!=k){H="file";x=this.document.$normalize_system_path(z,this.dir,b,v(["target_name"],{target_name:"include file"}));if((k=a.get("File")["$file?"](x))===b||null==k||k.$$is_boolean&&1!=k)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+x),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+d+"]"),!0;J=I.get("PathResolver").$new().$relative_path(x,this.document.$base_dir())}else{if((k=this.document.$attributes()["$has_key?"]("allow-uri-read"))===
b||null==k||k.$$is_boolean&&1!=k)return this.$replace_next_line("link:"+z+"[]"),!0;H="uri";x=J=z;if((k=this.document.$attributes()["$has_key?"]("cache-uri"))===b||null==k||k.$$is_boolean&&1!=k)(k=a.get("RUBY_ENGINE_OPAL")["$!"]())===b||null==k||k.$$is_boolean&&1!=k||a.get("OpenURI");else{var ua;try{ua=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":b}catch(ja){if(ja.$$class===a.NameError)ua=b;else throw ja;}((k=ua)===b||null==k||k.$$is_boolean&&1!=k)&&I.get("Helpers").$require_library("open-uri/cached",
"open-uri-cached")}}else H="file",x=J=(k=this.include_stack["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k?a.get("File").$join(this.dir,z):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?z:a.get("File").$join(this.dir,z);P=B=b;N=v([],{});(k=d["$empty?"]()["$!"]())===b||null==k||k.$$is_boolean&&1!=k||(N=I.get("AttributeList").$new(d).$parse(),(k=N["$has_key?"]("lines"))===b||null==k||k.$$is_boolean&&1!=k?(k=N["$has_key?"]("tag"))===b||null==k||k.$$is_boolean&&1!=k?(k=N["$has_key?"]("tags"))===
b||null==k||k.$$is_boolean&&1!=k||(P=N["$[]"]("tags").$split(I.get("DataDelimiterRx")).$to_set()):P=[N["$[]"]("tag")].$to_set():(B=[],(k=(m=N["$[]"]("lines").$split(I.get("DataDelimiterRx"))).$each,k.$$p=(u=function(c){var d,e,g,h=b,k=b;null==c&&(c=b);if((d=c["$include?"](".."))===b||null==d||d.$$is_boolean&&1!=d)return B["$<<"](c.$to_i());c=(e=(g=c.$split("..",2)).$map,e.$$p="to_i".$to_proc(),e).call(g);d=a.to_ary(c);h=null==d[0]?b:d[0];k=null==d[1]?b:d[1];c;return k["$=="](-1)?(B["$<<"](h),B["$<<"](1/
0)):B.$concat(a.get("Range").$new(h,k).$to_a())},u.$$s=this,u.$$arity=1,u),k).call(m),B=B.$sort().$uniq()));if(!1!==B&&B!==b&&null!=B){if((k=B["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k){Q=[];S=L=0;try{(k=(p=this).$open,k.$$p=(y=function(c){var d=y.$$s||this,e,g,h;null==c&&(c=b);return function(){var k=a.new_brk();try{return(e=(g=c).$each_line,e.$$p=(h=function(d){var e,g,h=b;null==d&&(d=b);S=l(S,1);h=B["$[]"](0);if((e=(g=a.get("Float")["$==="](h),!1!==g&&g!==b&&null!=g?h["$infinite?"]():g))===
b||null==e||e.$$is_boolean&&1!=e){c.$lineno()["$=="](h)&&(Q.$push(d),L["$=="](0)&&(L=S),B.$shift());if((e=B["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e)return b;a.brk(b,k)}else return Q.$push(d),L["$=="](0)?L=S:b},h.$$s=d,h.$$brk=k,h.$$arity=1,h),e).call(g)}catch(m){if(m===k)return m.$v;throw m;}}()},y.$$s=this,y.$$arity=1,y),k).call(p,x,"r")}catch(ja){if(a.rescue(ja,[I.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+H+" not readable: "+x),
this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+d+"]"),!0}finally{a.pop_exception()}else throw ja;}this.$advance();this.$push_include(Q,x,J,L,N)}}else if(!1!==P&&P!==b&&null!=P){if((k=P["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k){Q=[];S=L=0;K=b;R=a.get("Set").$new();try{(k=this.$open,k.$$p=(w=function(c){var d=w.$$s||this,e,g,h;null==c&&(c=b);return(e=(g=c).$each_line,e.$$p=(h=function(c){var d=h.$$s||this,e,g,k,m=b;null==c&&(c=b);S=l(S,1);(e=I.get("FORCE_ENCODING"))===
b||null==e||e.$$is_boolean&&1!=e||c.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));c=c.$rstrip();m=c.$chomp("--\x3e").$rstrip();return!1!==K&&K!==b&&null!=K?(e=m["$end_with?"]("end::"+K+"[]"))===b||null==e||e.$$is_boolean&&1!=e?(((e=(g=m["$end_with?"]("[]"),!1!==g&&g!==b&&null!=g?I.get("TagDirectiveRx")["$=~"](m):g))===b||null==e||e.$$is_boolean&&1!=e)&&Q.$push(c),L["$=="](0)?L=S:b):K=b:(e=(g=m["$end_with?"]("[]"),!1!==g&&g!==b&&null!=g?I.get("TagDirectiveRx")["$=~"](m):g))===b||null==e||
e.$$is_boolean&&1!=e?b:function(){var c=a.new_brk();try{return(e=(g=P).$each,e.$$p=(k=function(d){var e;null==d&&(d=b);if((e=m["$end_with?"]("tag::"+d+"[]"))===b||null==e||e.$$is_boolean&&1!=e)return b;K=d;R["$<<"](d);a.brk(b,c)},k.$$s=d,k.$$brk=c,k.$$arity=1,k),e).call(g)}catch(h){if(h===c)return h.$v;throw h;}}()},h.$$s=d,h.$$arity=1,h),e).call(g)},w.$$s=this,w.$$arity=1,w),k).call(this,x,"r")}catch(ja){if(a.rescue(ja,[I.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+
": include "+H+" not readable: "+x),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+d+"]"),!0}finally{a.pop_exception()}else throw ja;}((k=(aa=g(P.$to_a(),R.$to_a()))["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+((k=n(aa.$size(),1))===b||null==k||k.$$is_boolean&&1!=k?b:"s")+" '"+e(aa,",")+"' not found in include "+H+": "+x);this.$advance();this.$push_include(Q,x,J,L,N)}}else try{Z=(k=this.$open,k.$$p=
(A=function(a){null==a&&(a=b);return a.$read()},A.$$s=this,A.$$arity=1,A),k).call(this,x,"r"),this.$advance(),this.$push_include(Z,x,J,1,N)}catch(ja){if(a.rescue(ja,[I.get("StandardError")]))try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+H+" not readable: "+x),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+d+"]")}finally{a.pop_exception()}else throw ja;}return!0}this.$replace_next_line("link:"+z+"[]");return!0}this.$advance();E.$process_method()["$[]"](this.document,
this,z,I.get("AttributeList").$new(d).$parse());return!0}this.$advance();this.document.$attributes().$fetch("attribute-missing",I.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+c+"["+d+"]");return!0},J.$$arity=2);a.defn(q,"$push_include",N=function(c,d,e,h,k){var m,n=b,p=b;null==d&&(d=b);null==e&&(e=b);null==h&&(h=1);null==k&&(k=v([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,
this.process_lines]);!1!==d&&d!==b&&null!=d?(this.file=d,this.dir=I.get("File").$dirname(d),this.process_lines=I.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(d))):(this.file=b,this.dir=".",this.process_lines=!0);!1!==e&&e!==b&&null!=e?(this.includes["$<<"](I.get("Helpers").$rootname(e)),d=e):d="<stdin>";this.path=d;this.lineno=h;(m=k["$has_key?"]("depth"))===b||null==m||m.$$is_boolean&&1!=m||(n=k["$[]"]("depth").$to_i(),(m="number"===typeof n?0>=n:n["$<="](0))===b||null==m||m.$$is_boolean&&
1!=m||(n=1),this.maxdepth=v(["abs","rel"],{abs:l(g(this.include_stack.$size(),1),n),rel:n}));(m=(this.lines=this.$prepare_lines(c,v(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:k["$[]"]("indent")})))["$empty?"]())===b||null==m||m.$$is_boolean&&1!=m?((m=k["$has_key?"]("leveloffset"))===b||null==m||m.$$is_boolean&&1!=m||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+k["$[]"]("leveloffset")),this.lines.$push(""),(m=p=this.document.$attr("leveloffset"))===b||null==
m||m.$$is_boolean&&1!=m?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+p),this.lineno=g(this.lineno,2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return this},N.$$arity=-2);a.defn(q,"$pop_include",Q=function(){var c,d;(c=n(this.include_stack.$size(),0))===b||null==c||c.$$is_boolean&&1!=c||(d=this.include_stack.$pop(),c=a.to_ary(d),this.lines=null==c[0]?b:c[0],this.file=null==c[1]?b:c[1],this.dir=null==c[2]?b:c[2],this.path=null==c[3]?b:c[3],this.lineno=null==c[4]?b:
c[4],this.maxdepth=null==c[5]?b:c[5],this.process_lines=null==c[6]?b:c[6],d,this.eof=this.lines["$empty?"](),this.look_ahead=0);return b},Q.$$arity=0);a.defn(q,"$include_depth",A=function(){return this.include_stack.$size()},A.$$arity=0);a.defn(q,"$exceeded_max_depth?",r=function(){var a,c,d=b;return(a=(c=n(d=this.maxdepth["$[]"]("abs"),0),!1!==c&&c!==b&&null!=c?h(this.include_stack.$size(),d):c))===b||null==a||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")},r.$$arity=0);a.defn(q,"$shift",P=
function(){var c,d=P.$$p,e=b,g=b;P.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];if((c=this.unescape_next_line)===b||null==c||c.$$is_boolean&&1!=c)return(c=a.find_super_dispatcher(this,"shift",P,!1),c.$$p=d,c).apply(this,e);this.unescape_next_line=!1;return(c=a.find_super_dispatcher(this,"shift",P,!1),c.$$p=d,c).apply(this,e)["$[]"](w(1,-1,!1))},P.$$arity=0);a.defn(q,"$skip_front_matter!",S=function(c,d){var e,g,h,k=b,m=b;null==d&&(d=!0);k=b;if(c["$[]"](0)["$=="]("---")){m=c.$dup();
k=[];c.$shift();!1!==d&&d!==b&&null!=d&&(this.lineno=l(this.lineno,1));for(;(g=(h=c["$empty?"]()["$!"](),!1!==h&&h!==b&&null!=h?c["$[]"](0)["$!="]("---"):h))!==b&&null!=g&&(!g.$$is_boolean||1==g);)k.$push(c.$shift()),!1!==d&&d!==b&&null!=d&&(this.lineno=l(this.lineno,1));(e=c["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e?(c.$shift(),!1!==d&&d!==b&&null!=d&&(this.lineno=l(this.lineno,1))):((e=c).$unshift.apply(e,a.to_a(m)),!1!==d&&d!==b&&null!=d&&(this.lineno=0),k=b)}return k},S.$$arity=-2);a.defn(q,
"$resolve_expr_val",R=function(a){var c,d,e,g=b;(c=!1!==(d=(e=a["$start_with?"]('"'),!1!==e&&e!==b&&null!=e?a["$end_with?"]('"'):e))&&d!==b&&null!=d?d:(e=a["$start_with?"]("'"),!1!==e&&e!==b&&null!=e?a["$end_with?"]("'"):e))===b||null==c||c.$$is_boolean&&1!=c?g=!1:(g=!0,a=a["$[]"](w(1,-1,!0)));(c=a["$include?"]("{"))===b||null==c||c.$$is_boolean&&1!=c||(a=this.document.$sub_attributes(a,v(["attribute_missing"],{attribute_missing:"drop"})));return!1!==g&&g!==b&&null!=g?a:(c=a["$empty?"]())===b||null==
c||c.$$is_boolean&&1!=c?a["$=="]("true")?!0:a["$=="]("false")?!1:(c=a.$rstrip()["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c?(c=a["$include?"]("."))===b||null==c||c.$$is_boolean&&1!=c?a.$to_i():a.$to_f():" ":b},R.$$arity=1);a.defn(q,"$include_processors?",Z=function(){var a,c;return(a=this.include_processor_extensions["$nil?"]())===b||null==a||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(c=this.document["$extensions?"](),!1!==c&&c!==b&&null!=c?this.document.$extensions()["$include_processors?"]():
c))===b||null==a||a.$$is_boolean&&1!=a?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()},Z.$$arity=0);return(a.defn(q,"$to_s",aa=function(){var a,c,d;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(c=this.include_stack).$map,a.$$p=(d=function(a){null==a&&(a=b);return a.$to_s()},d.$$s=
this,d.$$arity=1,d),a).call(c).$join(", ")+"]}>"},aa.$$arity=0),b)&&"to_s"})(k.base,k.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var e=a.nil,g=a.module,h=a.klass,b=a.hash2,c=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $! $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));return function(d){d=
g(d,"Asciidoctor").$$scope;(function(d,$super){function g(){}var p=g=h(d,$super,"Section",g),f=p.$$proto,m=p.$$scope,q,y,I,E,z;f.level=f.document=f.parent=f.number=f.title=f.numbered=f.blocks=e;p.$attr_accessor("index");p.$attr_accessor("number");p.$attr_accessor("sectname");p.$attr_accessor("special");p.$attr_accessor("numbered");a.defn(p,"$initialize",q=function(c,d,f,g){var h;null==c&&(c=e);null==d&&(d=e);null==f&&(f=!0);null==g&&(g=b([],{}));q.$$p=null;(h=a.find_super_dispatcher(this,"initialize",
q,!1),h.$$p=null,h).call(this,c,"section",g);this.level=!1!==d&&d!==e&&null!=d?d:!1!==c&&c!==e&&null!=c?l(c.$level(),1):1;this.numbered=(h=!1!==f&&f!==e&&null!=f)?n(this.level,0):f;this.special=(h=!1!==c&&c!==e&&null!=c?c.$context()["$=="]("section"):c,!1!==h&&h!==e&&null!=h?c.$special():h);this.index=0;return this.number=1},q.$$arity=-1);a.alias(p,"name","title");a.defn(p,"$generate_id",y=function(){var a,b,d,f=e,g=e,h=e,k=g=e;if((a=this.document.$attributes()["$has_key?"]("sectids"))===e||null==
a||a.$$is_boolean&&1!=a)return e;f=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&a!==e&&null!=a?a:"_";g=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==e&&null!=a?a:"_";h=""+g+this.$title().$downcase().$gsub(m.get("InvalidSectionIdCharsRx"),f).$tr_s(f,f).$chomp(f);if((a=(b=(d=g["$empty?"](),!1!==d&&d!==e&&null!=d?f["$empty?"]()["$!"]():d),!1!==b&&b!==e&&null!=b?h["$start_with?"](f):b))!==e&&null!=a&&(!a.$$is_boolean||1==a))for(h=h["$[]"](c(1,-1,!1));(b=h["$start_with?"](f))!==
e&&null!=b&&(!b.$$is_boolean||1==b);)h=h["$[]"](c(1,-1,!1));g=h;for(k=m.get("Compliance").$unique_id_start_index();(b=this.document.$references()["$[]"]("ids")["$has_key?"](g))!==e&&null!=b&&(!b.$$is_boolean||1==b);)g=""+h+f+k,k=l(k,1);return g},y.$$arity=0);a.defn(p,"$sectnum",I=function(a,b){var c,d,f,g;null==a&&(a=".");null==b&&(b=e);!1!==(c=b)&&c!==e&&null!=c?c:b=b["$=="](!1)?"":a;return(c=(d=(f=(g=this.level,!1!==g&&g!==e&&null!=g?n(this.level,1):g),!1!==f&&f!==e&&null!=f?this.parent:f),!1!==
d&&d!==e&&null!=d?this.parent.$context()["$=="]("section"):d))===e||null==c||c.$$is_boolean&&1!=c?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b},I.$$arity=-1);a.defn(p,"$<<",E=function(b){var c,d=E.$$p,f=e,g=e;E.$$p=null;f=[];for(g=0;g<arguments.length;g++)f[g]=arguments[g];b.$context()["$=="]("section")&&this.$assign_index(b);return(c=a.find_super_dispatcher(this,"<<",E,!1),c.$$p=d,c).apply(this,f)},E.$$arity=1);return(a.defn(p,"$to_s",z=function(){var b,c=z.$$p,d=e,f=d=e;z.$$p=null;
d=[];for(f=0;f<arguments.length;f++)d[f]=arguments[f];if((b=this.title["$!="](e))===e||null==b||b.$$is_boolean&&1!=b)return(b=a.find_super_dispatcher(this,"to_s",z,!1),b.$$p=c,b).apply(this,d);d=(b=this.numbered)===e||null==b||b.$$is_boolean&&1!=b?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+d.$inspect()+", blocks: "+this.blocks.$size()+"}>"},z.$$arity=0),e)&&"to_s"})(d.base,d.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){var l=a.nil,n=a.module,e=a.klass,g=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $[]= $sub $css $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(h){(function(b,$super){function d(){}var h=d=e(b,$super,"Stylesheets",d),n=h.$$proto,k=h.$$scope,p,f,m,q,y,I,E,z,u,
H,L,J,N,Q;n.primary_stylesheet_data=n.coderay_stylesheet_data=n.pygments_stylesheet_data=l;a.cdecl(k,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(k,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(k,"STYLESHEETS_DATA_PATH",a.get("File").$join(k.get("DATA_PATH"),"stylesheets"));h.__instance__=h.$new();a.defs(h,"$instance",p=function(){null==this.__instance__&&(this.__instance__=l);return this.__instance__},p.$$arity=0);a.defn(h,"$primary_stylesheet_name",f=function(){return k.get("DEFAULT_STYLESHEET_NAME")},
f.$$arity=0);a.defn(h,"$primary_stylesheet_data",m=function(){var b;b=k.get("JAVASCRIPT_PLATFORM")["$=="]("node")||k.get("JAVASCRIPT_PLATFORM")["$=="]("node-electron")?a.get("File").$join(__dirname,"..","css"):"css";return!1!==($a=h.primary_stylesheet_data)&&$a!==l&&null!=$a?$a:h.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(b,"asciidoctor.css")).$chomp()},m.$$arity=0);a.defn(h,"$embed_primary_stylesheet",q=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},
q.$$arity=0);a.defn(h,"$write_primary_stylesheet",y=function(b){var d,e,f;return(d=(e=a.get("File")).$open,d.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=l);return a.$write(b.$primary_stylesheet_data())},f.$$s=this,f.$$arity=1,f),d).call(e,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")},y.$$arity=1);a.defn(h,"$coderay_stylesheet_name",I=function(){return"coderay-asciidoctor.css"},I.$$arity=0);a.defn(h,"$coderay_stylesheet_data",E=function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&
b!==l&&null!=b?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(k.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},E.$$arity=0);a.defn(h,"$embed_coderay_stylesheet",z=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},z.$$arity=0);a.defn(h,"$write_coderay_stylesheet",u=function(b){var d,e,f;return(d=(e=a.get("File")).$open,d.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=l);return a.$write(b.$coderay_stylesheet_data())},f.$$s=this,f.$$arity=
1,f),d).call(e,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")},u.$$arity=1);a.defn(h,"$pygments_stylesheet_name",H=function(a){var b;null==a&&(a=l);return"pygments-"+(!1!==(b=a)&&b!==l&&null!=b?b:k.get("DEFAULT_PYGMENTS_STYLE"))+".css"},H.$$arity=-1);a.defn(h,"$pygments_stylesheet_data",L=function(b){var d,e,f,h;null==b&&(b=l);return(d=this.$load_pygments())===l||null==d||d.$$is_boolean&&1!=d?"/* Pygments styles disabled. Pygments is not available. */":(d=!1!==(f=b)&&f!==l&&null!=f?f:
k.get("DEFAULT_PYGMENTS_STYLE"),e=!1!==(f=this.pygments_stylesheet_data)&&f!==l&&null!=f?f:this.pygments_stylesheet_data=g([],{}),!1!==(f=e["$[]"](d))&&f!==l&&null!=f?f:e["$[]="](d,a.get("Pygments").$css(".listingblock .pygments",g(["classprefix","style"],{classprefix:"tok-",style:!1!==(h=b)&&h!==l&&null!=h?h:k.get("DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")))},L.$$arity=-1);a.defn(h,"$embed_pygments_stylesheet",J=function(a){null==
a&&(a=l);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},J.$$arity=-1);a.defn(h,"$write_pygments_stylesheet",N=function(b,d){var f,e,g;null==d&&(d=l);return(f=(e=a.get("File")).$open,f.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=l);return a.$write(b.$pygments_stylesheet_data(d))},g.$$s=this,g.$$arity=1,g),f).call(e,a.get("File").$join(b,this.$pygments_stylesheet_name(d)),"w")},N.$$arity=-2);return(a.defn(h,"$load_pygments",Q=function(){var b;return(b=null==a.Object.$$scope.Pygments?
l:"constant")===l||null==b||b.$$is_boolean&&1!=b?k.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0},Q.$$arity=0),l)&&"load_pygments"})(n(h,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var b=a.nil,c=a.module,d=a.klass,v=a.hash2,w=a.range;a.add_stubs("$attr_accessor $new $key? $[] $> $to_i $< $== $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $!= $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cellspec $cell_open? $close_cell $advance $take_cellspec $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_column_visits".split(" "));
return function(k){k=c(k,"Asciidoctor").$$scope;(function(c,$super){function k(){}var q=k=d(c,$super,"Table",k),y=q.$$proto,w=q.$$scope,E,z,u,H,L;y.attributes=y.document=y.has_header_option=y.rows=y.columns=b;(function(b,$super){function c(){}var e=c=d(b,$super,"Rows",c),g;e.$attr_accessor("head","foot","body");a.defn(e,"$initialize",g=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},g.$$arity=-1);return a.alias(e,"[]","send")})(w.base,null);
a.cdecl(w,"DEFAULT_DATA_FORMAT","psv");a.cdecl(w,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(w,"DEFAULT_DELIMITERS",v(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(w,"TEXT_STYLES",v("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(w,"ALIGNMENTS",v(["h","v"],{h:v(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:v(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));q.$attr_accessor("columns");q.$attr_accessor("rows");
q.$attr_accessor("has_header_option");a.defn(q,"$initialize",E=function(c,d){var g,h,k,m=b,p=b;E.$$p=null;(g=a.find_super_dispatcher(this,"initialize",E,!1),g.$$p=null,g).call(this,c,"table");this.rows=w.get("Rows").$new();this.columns=[];this.has_header_option=d["$key?"]("header-option");(g=m=d["$[]"]("width"))===b||null==g||g.$$is_boolean&&1!=g?p=100:(g=!1!==(h=l(p=m.$to_i(),100))&&h!==b&&null!=h?h:"number"===typeof p?1>p:p["$<"](1))===b||null==g||g.$$is_boolean&&1!=g||!((g=p["$=="](0)?!1!==(k=
m["$=="]("0"))&&k!==b&&null!=k?k:m["$=="]("0%"):p["$=="](0))===b||null==g||g.$$is_boolean&&1!=g)||(p=100);this.attributes["$[]="]("tablepcwidth",p);(g=this.document.$attributes()["$key?"]("pagewidth"))===b||null==g||g.$$is_boolean&&1!=g||(g="tableabswidth",h=this.attributes,!1!==(k=h["$[]"](g))&&k!==b&&null!=k?k:h["$[]="](g,n(e(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()));return(g=d["$key?"]("rotate-option"))===b||null==g||g.$$is_boolean&&
1!=g?b:d["$[]="]("orientation","landscape")},E.$$arity=2);a.defn(q,"$header_row?",z=function(){var a;return a=this.has_header_option,!1!==a&&a!==b&&null!=a?this.rows.$body()["$empty?"]():a},z.$$arity=0);a.defn(q,"$create_columns",u=function(a){var c,d,e=b,h=b,e=[],h=0;(c=a.$each,c.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=b);h=g(h,a["$[]"]("width"));return e["$<<"](w.get("Column").$new(c,e.$size(),a))},d.$$s=this,d.$$arity=1,d),c).call(a);if((c=(this.columns=e)["$empty?"]())===b||null==c||
c.$$is_boolean&&1!=c)this.attributes["$[]="]("colcount",e.$size()),this.$assign_column_widths(h["$=="](0)?b:h);return b},u.$$arity=1);a.defn(q,"$assign_column_widths",H=function(a){var c,d,k,l,m,p=b,q=b,u=b;null==a&&(a=b);p=10["$**"](4);q=u=0;!1!==a&&a!==b&&null!=a?(c=(d=this.columns).$each,c.$$p=(k=function(c){null==c&&(c=b);return q=g(q,u=c.$assign_width(b,a,p))},k.$$s=this,k.$$arity=1,k),c).call(d):(u=e(e(n(100,p),this.columns.$size()).$to_i(),p),u.$to_i()["$=="](u)&&(u=u.$to_i()),(c=(l=this.columns).$each,
c.$$p=(m=function(a){null==a&&(a=b);return q=g(q,a.$assign_width(u))},m.$$s=this,m.$$arity=1,m),c).call(l));q["$=="](100)||this.columns["$[]"](-1).$assign_width(e(n(g(h(100,q),u),p).$round(),p));return b},H.$$arity=-1);return(a.defn(q,"$partition_header_footer",L=function(a){var c,d,e,g,k=b,m=b;this.attributes["$[]="]("rowcount",this.rows.$body().$size());k=this.rows.$body().$size();(c=(d=l(k,0),!1!==d&&d!==b&&null!=d?this.has_header_option:d))===b||null==c||c.$$is_boolean&&1!=c||(m=this.rows.$body().$shift(),
k=h(k,1),(c=(d=m).$each,c.$$p=(e=function(a){var c,d;null==a&&(a=b);return c=[b],d=a,d["$style="].apply(d,c),c[c.length-1]},e.$$s=this,e.$$arity=1,e),c).call(d),c=[[m]],g=this.rows,g["$head="].apply(g,c),c[c.length-1]);(c=(g=l(k,0),!1!==g&&g!==b&&null!=g?a["$key?"]("footer-option"):g))===b||null==c||c.$$is_boolean&&1!=c||(c=[[this.rows.$body().$pop()]],g=this.rows,g["$foot="].apply(g,c),c[c.length-1]);return b},L.$$arity=1),b)&&"partition_header_footer"})(k.base,k.get("AbstractBlock"));(function(c,
$super){function h(){}var k=h=d(c,$super,"Column",h),l,w;k.$$proto.attributes=b;k.$attr_accessor("style");a.defn(k,"$initialize",l=function(c,d,e){var h,k;null==e&&(e=v([],{}));l.$$p=null;(h=a.find_super_dispatcher(this,"initialize",l,!1),h.$$p=null,h).call(this,c,"column");this.style=e["$[]"]("style");e["$[]="]("colnumber",g(d,1));h="width";c=e;!1!==(k=c["$[]"](h))&&k!==b&&null!=k?k:c["$[]="](h,1);h="halign";c=e;!1!==(k=c["$[]"](h))&&k!==b&&null!=k?k:c["$[]="](h,"left");h="valign";c=e;!1!==(k=c["$[]"](h))&&
k!==b&&null!=k?k:c["$[]="](h,"top");return this.$update_attributes(e)},l.$$arity=-3);a.alias(k,"table","parent");return(a.defn(k,"$assign_width",w=function(a,c,d){var g;null==c&&(c=b);null==d&&(d=1E4);!1!==c&&c!==b&&null!=c&&(a=e(n(n(e(this.attributes["$[]"]("width").$to_f(),c),100),d).$to_i(),d),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((g=this.$parent().$attributes()["$key?"]("tableabswidth"))!==b&&null!=g&&(!g.$$is_boolean||1==g))this.attributes["$[]="]("colabswidth",
n(e(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a},w.$$arity=-2),b)&&"assign_width"})(k.get("Table"),k.get("AbstractNode"));(function(c,$super){function e(){}var g=e=d(c,$super,"Cell",e),h=g.$$proto,k=g.$$scope,l,n,u,w;h.style=h.document=h.text=h.inner_document=h.colspan=h.rowspan=h.attributes=b;g.$attr_accessor("style");g.$attr_accessor("colspan");g.$attr_accessor("rowspan");a.alias(g,"column","parent");g.$attr_reader("inner_document");a.defn(g,"$initialize",l=function(c,
d,e,g){var h,m=b,n=b,p=b,q=b;null==e&&(e=v([],{}));null==g&&(g=b);l.$$p=null;(h=a.find_super_dispatcher(this,"initialize",l,!1),h.$$p=null,h).call(this,c,"cell");this.text=d;this.rowspan=this.colspan=this.style=b;!1!==c&&c!==b&&null!=c&&(this.style=c.$attributes()["$[]"]("style"),this.$update_attributes(c.$attributes()));!1!==e&&e!==b&&null!=e&&(this.colspan=e.$delete("colspan"),this.rowspan=e.$delete("rowspan"),(h=e["$key?"]("style"))===b||null==h||h.$$is_boolean&&1!=h||(this.style=e["$[]"]("style")),
this.$update_attributes(e));if((h=(d=this.style["$=="]("asciidoc"))?c.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===b||null==h||h.$$is_boolean&&1!=h)return b;m=this.document.$attributes().$delete("doctitle");n=this.text.$split(k.get("EOL"));if((h=!1!==(d=n["$empty?"]())&&d!==b&&null!=d?d:n["$[]"](0)["$include?"]("::")["$!"]())===b||null==h||h.$$is_boolean&&1!=h)p=n["$[]"](0),q=k.get("PreprocessorReader").$new(this.document,p).$readlines(),(h=q["$!="](p))===b||null==h||h.$$is_boolean&&
1!=h||(n.$shift(),(h=n).$unshift.apply(h,a.to_a(q)));this.inner_document=k.get("Document").$new(n,v(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:g}));return(d=m["$nil?"]())===b||null==d||d.$$is_boolean&&1!=d?this.document.$attributes()["$[]="]("doctitle",m):b},l.$$arity=-3);a.defn(g,"$text",n=function(){return this.$apply_normal_subs(this.text).$strip()},n.$$arity=0);a.defn(g,"$content",u=function(){var a,c,d;return this.style["$=="]("asciidoc")?this.inner_document.$convert():
(a=(c=this.$text().$split(k.get("BlankLineRx"))).$map,a.$$p=(d=function(a){var c=d.$$s||this,e,g;null==c.style&&(c.style=b);null==a&&(a=b);return(e=!1!==(g=c.style["$!"]())&&g!==b&&null!=g?g:c.style["$=="]("header"))===b||null==e||e.$$is_boolean&&1!=e?k.get("Inline").$new(c.$parent(),"quoted",a,v(["type"],{type:c.style})).$convert():a},d.$$s=this,d.$$arity=1,d),a).call(c)},u.$$arity=0);return(a.defn(g,"$to_s",w=function(){var c,d=w.$$p,e=b,g=b;w.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];
return""+(c=a.find_super_dispatcher(this,"to_s",w,!1),c.$$p=d,c).apply(this,e).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(c=this.colspan)&&c!==b&&null!=c?c:1)+", rowspan: "+(!1!==(c=this.rowspan)&&c!==b&&null!=c?c:1)+", attributes: "+this.attributes+"]"},w.$$arity=0),b)&&"to_s"})(k.get("Table"),k.get("AbstractNode"));(function(c,$super){function e(){}var k=e=d(c,$super,"ParserContext",e),n=k.$$proto,I=k.$$scope,E,z,u,H,L,J,N,Q,A,r,P,S,R,Z,aa,V,O,T,Y;n.format=n.delimiter=n.delimiter_re=n.buffer=
n.cellspecs=n.cell_open=n.last_cursor=n.table=n.current_row=n.colcount=n.column_visits=n.active_rowspans=n.linenum=b;k.$attr_accessor("table");k.$attr_accessor("format");k.$attr_reader("colcount");k.$attr_accessor("buffer");k.$attr_reader("delimiter");k.$attr_reader("delimiter_re");a.defn(k,"$initialize",E=function(a,c,d){var e,g;null==d&&(d=v([],{}));this.reader=a;this.table=c;this.last_cursor=a.$cursor();(e=this.format=d["$[]"]("format"))===b||null==e||e.$$is_boolean&&1!=e?this.format=I.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):
((e=I.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===b||null==e||e.$$is_boolean&&1!=e)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(e=(g=this.format["$=="]("psv")?d["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==g&&g!==b&&null!=g?c.$document()["$nested?"]():g))===b||null==e||e.$$is_boolean&&1!=e?!1!==(e=d["$[]"]("separator"))&&e!==b&&null!=e?e:I.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+
I.get("Regexp").$escape(this.delimiter));this.colcount=(e=c.$columns()["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e?c.$columns().$size():-1;this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},E.$$arity=-3);a.defn(k,"$starts_with_delimiter?",z=function(a){return a["$start_with?"](this.delimiter)},z.$$arity=1);a.defn(k,"$match_delimiter",u=function(a){return this.delimiter_re.$match(a)},u.$$arity=1);a.defn(k,
"$skip_matched_delimiter",H=function(a,c){null==c&&(c=!1);this.buffer=""+this.buffer+(!1!==c&&c!==b&&null!=c?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()},H.$$arity=-2);a.defn(k,"$buffer_has_unclosed_quotes?",L=function(a){var c,d,e=b;null==a&&(a=b);e=(""+this.buffer+a).$strip();return c=(d=e["$start_with?"]('"'),!1!==d&&d!==b&&null!=d?e["$start_with?"]('""')["$!"]():d),!1!==c&&c!==b&&null!=c?e["$end_with?"]('"')["$!"]():c},L.$$arity=-1);a.defn(k,"$buffer_quoted?",
J=function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==b&&null!=a?this.buffer["$start_with?"]('""')["$!"]():a},J.$$arity=0);a.defn(k,"$take_cellspec",N=function(){return this.cellspecs.$shift()},N.$$arity=0);a.defn(k,"$push_cellspec",Q=function(a){var c;null==a&&(a=v([],{}));this.cellspecs["$<<"](!1!==(c=a)&&c!==b&&null!=c?c:v([],{}));return b},Q.$$arity=-1);a.defn(k,"$keep_cell_open",A=function(){this.cell_open=!0;return b},A.$$arity=0);a.defn(k,
"$mark_cell_closed",r=function(){this.cell_open=!1;return b},r.$$arity=0);a.defn(k,"$cell_open?",P=function(){return this.cell_open},P.$$arity=0);a.defn(k,"$cell_closed?",S=function(){return this.cell_open["$!"]()},S.$$arity=0);a.defn(k,"$close_open_cell",R=function(a){var c;null==a&&(a=v([],{}));this.$push_cellspec(a);(c=this["$cell_open?"]())===b||null==c||c.$$is_boolean&&1!=c||this.$close_cell(!0);this.$advance();return b},R.$$arity=-1);a.defn(k,"$close_cell",Z=function(c){try{var d,e,k,m=b,n=
b,p=b;null==c&&(c=!1);m=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(n=this.$take_cellspec(),!1!==n&&n!==b&&null!=n?p=!1!==(d=n.$delete("repeatcol"))&&d!==b&&null!=d?d:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),n=v([],{}),p=1)):(n=b,p=1,!this.format["$=="]("csv")||(d=(e=m["$empty?"]()["$!"](),!1!==e&&e!==b&&null!=e?m["$include?"]('"'):e))===b||null==d||d.$$is_boolean&&1!=d||((d=(e=m["$start_with?"]('"'),
!1!==e&&e!==b&&null!=e?m["$end_with?"]('"'):e))===b||null==d||d.$$is_boolean&&1!=d||(m=m["$[]"](w(1,-1,!0)).$strip()),m=m.$tr_s('"','"')));(d=(e=1).$upto,d.$$p=(k=function(d){var e=k.$$s||this,r,q,u,v,w,y,z=b,A=b,E=b,z=b;null==e.colcount&&(e.colcount=b);null==e.table&&(e.table=b);null==e.current_row&&(e.current_row=b);null==e.last_cursor&&(e.last_cursor=b);null==e.reader&&(e.reader=b);null==e.column_visits&&(e.column_visits=b);null==e.linenum&&(e.linenum=b);null==d&&(d=b);if(e.colcount["$=="](-1))e.table.$columns()["$<<"](z=
I.get("Table").$$scope.get("Column").$new(e.table,h(g(e.table.$columns().$size(),d),1))),(r=(q=(u=!1!==n&&n!==b&&null!=n)?n["$key?"]("colspan"):n,!1!==q&&q!==b&&null!=q?l(A=h(n["$[]"]("colspan").$to_i(),1),0):q))===b||null==r||r.$$is_boolean&&1!=r||(E=e.table.$columns().$size(),(r=(q=A).$times,r.$$p=(v=function(a){var c=v.$$s||this;null==c.table&&(c.table=b);null==a&&(a=b);return c.table.$columns()["$<<"](I.get("Table").$$scope.get("Column").$new(c.table,g(E,a)))},v.$$s=e,v.$$arity=1,v),r).call(q));
else if((r=z=e.table.$columns()["$[]"](e.current_row.$size()))===b||null==r||r.$$is_boolean&&1!=r)e.$warn("asciidoctor: ERROR: "+e.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(b);z=I.get("Table").$$scope.get("Cell").$new(z,m,n,e.last_cursor);e.last_cursor=e.reader.$cursor();((r=!1!==(u=z.$rowspan()["$!"]())&&u!==b&&null!=u?u:z.$rowspan()["$=="](1))===b||null==r||r.$$is_boolean&&1!=r)&&e.$activate_rowspan(z.$rowspan(),!1!==(r=z.$colspan())&&r!==b&&
null!=r?r:1);e.column_visits=g(e.column_visits,!1!==(r=z.$colspan())&&r!==b&&null!=r?r:1);e.current_row["$<<"](z);return(r=(u=e["$end_of_row?"](),!1!==u&&u!==b&&null!=u?!1!==(w=!1!==(y=e.colcount["$!="](-1))&&y!==b&&null!=y?y:l(e.linenum,0))&&w!==b&&null!=w?w:(y=!1!==c&&c!==b&&null!=c)?d["$=="](p):c:u))===b||null==r||r.$$is_boolean&&1!=r?b:e.$close_row()},k.$$s=this,k.$$arity=1,k),d).call(e,p);this.cell_open=!1;return b}catch(r){if(r===a.returner)return r.$v;throw r;}},Z.$$arity=-1);a.defn(k,"$close_row",
aa=function(){var a,c;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(c=a["$[]"](0))&&c!==b&&null!=c?c:a["$[]="](0,0);return b},aa.$$arity=0);a.defn(k,"$activate_rowspan",V=function(a,c){var d,e,k;(d=(e=(1).$upto(h(a,1))).$each,d.$$p=(k=function(a){var d=k.$$s||this,e;null==d.active_rowspans&&(d.active_rowspans=b);null==a&&(a=b);return d.active_rowspans["$[]="](a,
g(!1!==(e=d.active_rowspans["$[]"](a))&&e!==b&&null!=e?e:0,c))},k.$$s=this,k.$$arity=1,k),d).call(e);return b},V.$$arity=2);a.defn(k,"$end_of_row?",O=function(){var a;return!1!==(a=this.colcount["$=="](-1))&&a!==b&&null!=a?a:this.$effective_column_visits()["$=="](this.colcount)},O.$$arity=0);a.defn(k,"$effective_column_visits",T=function(){return g(this.column_visits,this.active_rowspans["$[]"](0))},T.$$arity=0);return(a.defn(k,"$advance",Y=function(){return this.linenum=g(this.linenum,1)},Y.$$arity=
0),b)&&"advance"})(k.get("Table"),null)}(a.base)};
(function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var g,h=a.top,b=a.nil,c=a.gvars,d=a.module,v=a.hash2,w=a.range,k=a.hash;null==c[":"]&&(c[":"]=b);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $utc $at $to_i $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));((g=
null!=a.RUBY_ENGINE)===b||null==g||g.$$is_boolean&&1!=g)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",l(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",l(a.get("RUBY_VERSION"),"2"));h.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&h.$require("asciidoctor/opal_ext");c[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(c){c=
d(c,"Asciidoctor");var f=c.$$scope,g,h,y,I=b,E=b;a.cdecl(f,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(b){b=d(b,"SafeMode").$$scope;a.cdecl(b,"UNSAFE",0);a.cdecl(b,"SAFE",1);a.cdecl(b,"SERVER",10);a.cdecl(b,"SECURE",20)})(f.base);(function(c){c=d(c,"Compliance");var e;c.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(c));a.defs(c,"$define",e=function(c,d){null==this.keys&&(this.keys=b);this.$instance_variable_set("@"+c,d);a.get_singleton_class(this).$send("attr_accessor",
c);this.keys["$<<"](c);return b},e.$$arity=2);c.$define("block_terminates_paragraph",!0);c.$define("strict_verbatim_paragraphs",!0);c.$define("underline_style_section_titles",!0);c.$define("unwrap_standalone_preamble",!0);c.$define("attribute_missing","skip");c.$define("attribute_undefined","drop-line");c.$define("shorthand_property_syntax",!0);c.$define("unique_id_start_index",2);c.$define("markdown_syntax",!0)})(f.base);a.cdecl(f,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(f,"LIB_PATH",a.get("File").$join(f.get("ROOT_PATH"),"lib"));a.cdecl(f,"DATA_PATH",a.get("File").$join(f.get("ROOT_PATH"),"data"));try{a.cdecl(f,"USER_HOME",a.get("Dir").$home())}catch(z){if(a.rescue(z,[f.get("StandardError")]))try{a.cdecl(f,"USER_HOME",!1!==(g=a.get("ENV")["$[]"]("HOME"))&&g!==b&&null!=g?g:a.get("Dir").$pwd())}finally{a.pop_exception()}else throw z;}a.cdecl(f,"COERCE_ENCODING",(g=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==g&&g!==b&&null!=g?a.get("RUBY_MIN_VERSION_1_9"):g));a.cdecl(f,
"FORCE_ENCODING",(g=f.get("COERCE_ENCODING"),!1!==g&&g!==b&&null!=g?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):g));a.cdecl(f,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(f,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(f,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(f,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(f,"SUPPORTS_GSUB_RESULT_HASH",(g=a.get("RUBY_MIN_VERSION_1_9"),!1!==
g&&g!==b&&null!=g?a.get("RUBY_ENGINE_OPAL")["$!"]():g));a.cdecl(f,"EOL","\n");a.cdecl(f,"NULL","\x00");a.cdecl(f,"TAB","\t");a.cdecl(f,"DEFAULT_DOCTYPE","article");a.cdecl(f,"DEFAULT_BACKEND","html5");a.cdecl(f,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(f,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(f,"BACKEND_ALIASES",v(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(f,"DEFAULT_PAGE_WIDTHS",v(["docbook"],{docbook:425}));a.cdecl(f,"DEFAULT_EXTENSIONS",v(["html",
"docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(f,"ASCIIDOC_EXTENSIONS",v([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(f,"SECTION_LEVELS",v(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(f,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(f,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());
a.cdecl(f,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(f,"DELIMITED_BLOCKS",v('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],
____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(f,"DELIMITED_BLOCK_LEADERS",(g=(h=f.get("DELIMITED_BLOCKS").$keys()).$map,g.$$p=(y=function(a){null==a&&(a=b);return a["$[]"](w(0,1,
!1))},y.$$s=c,y.$$arity=1,y),g).call(h).$to_set());a.cdecl(f,"LAYOUT_BREAK_LINES",v(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(f,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(f,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(f,"ORDERED_LIST_KEYWORDS",v(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",
upperroman:"I"}));a.cdecl(f,"LIST_CONTINUATION","+");a.cdecl(f,"LINE_BREAK"," +");a.cdecl(f,"LINE_CONTINUATION"," \\");a.cdecl(f,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(f,"BLOCK_MATH_DELIMITERS",v(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(f,"INLINE_MATH_DELIMITERS",v(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(f,"FLEXIBLE_ATTRIBUTES",["sectnums"]);f.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(f,"CC_ALPHA","a-zA-Z"),
a.cdecl(f,"CG_ALPHA","[a-zA-Z]"),a.cdecl(f,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(f,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(f,"CG_BLANK","[ \\t]"),a.cdecl(f,"CC_EOL","(?=\\n|$)"),a.cdecl(f,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(f,"CC_ALL","[\\s\\S]"),a.cdecl(f,"CC_WORD","a-zA-Z0-9_"),a.cdecl(f,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(f,"AuthorInfoLineRx",new RegExp("^("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*)(?: +("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*))?(?: +("+f.get("CG_WORD")+"["+f.get("CC_WORD")+
"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(f,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(f,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(f,"ManpageNamePurposeRx",new RegExp("^(.*?)"+f.get("CG_BLANK")+"+-"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(f,"EvalExpressionRx",new RegExp("^(\\S.*?)"+f.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+f.get("CG_BLANK")+"*(\\S.*)$"));
a.cdecl(f,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);a.cdecl(f,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(f,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+f.get("CG_BLANK")+"+(.*))?$"));a.cdecl(f,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(f,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(f,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(f,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+
":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(f,"BlockAttributeListRx",new RegExp("^\\[(|"+f.get("CG_BLANK")+"*["+f.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(f,"BlockAttributeLineRx",new RegExp("^\\[(|"+f.get("CG_BLANK")+"*["+f.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*(?:,"+f.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(f,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(f,"AdmonitionParagraphRx",new RegExp("^("+n(f.get("ADMONITION_STYLES").$to_a(),
"|")+"):"+f.get("CG_BLANK")));a.cdecl(f,"LiteralParagraphRx",new RegExp("^("+f.get("CG_BLANK")+"+.*)$"));a.cdecl(f,"CommentBlockRx",/^\/{4,}$/);a.cdecl(f,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(f,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+f.get("CG_BLANK")+"+(\\S.*?)(?:"+f.get("CG_BLANK")+"+\\1)?$"));a.cdecl(f,"SetextSectionTitleRx",new RegExp("^((?=.*"+f.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(f,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(f,"InlineSectionAnchorRx",new RegExp("^(.*?)"+
f.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(f,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+f.get("CC_WORD")+"]+?"));a.cdecl(f,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(f,"AnyListRx",new RegExp("^(?:"+f.get("CG_BLANK")+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+f.get("CG_BLANK")+"|"+f.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:$|"+
f.get("CG_BLANK")+")|<?\\d+>"+f.get("CG_BLANK")+")"));a.cdecl(f,"UnorderedListRx",new RegExp("^"+f.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"OrderedListRx",new RegExp("^"+f.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"OrderedListMarkerRxMap",v(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.cdecl(f,"DescriptionListRx",new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+f.get("CG_BLANK")+"+(.*))?$"));a.cdecl(f,"DescriptionListSiblingRx",v(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),
";;":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*(.*)(;;)(?:"+f.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(f,"CalloutListRx",new RegExp("^<?(\\d+)>"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(f,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(f,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+f.get("CC_EOL")+")"));a.cdecl(f,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
f.get("CC_EOL")+")"));a.cdecl(f,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+f.get("CC_EOL")+")");a.cdecl(f,"ListRxMap",v(["ulist","olist","dlist","colist"],{ulist:f.get("UnorderedListRx"),olist:f.get("OrderedListRx"),dlist:f.get("DescriptionListRx"),colist:f.get("CalloutListRx")}));a.cdecl(f,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(f,"CellSpecStartRx",new RegExp("^"+f.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(f,"CellSpecEndRx",new RegExp(""+f.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(f,"GenericBlockMacroRx",new RegExp("^("+f.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(f,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(f,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(f,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+
":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(f,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+f.get("CC_WORD")+":]["+f.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(f,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+f.get("CG_WORD")+"["+f.get("CC_WORD")+".%+-]*@"+f.get("CG_ALNUM")+"["+f.get("CC_ALNUM")+".-]*\\."+f.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(f,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]"));
a.cdecl(f,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(f,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+f.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(f,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(f,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+f.get("CG_BLANK")+"*[^\\1])"));a.cdecl(f,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
a.cdecl(f,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(f,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(f,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+f.get("CG_WORD")+"|"+f.get("CG_WORD")+".*?\\S)\\["+f.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(f,"MenuInlineRx",new RegExp('\\\\?"('+f.get("CG_WORD")+'[^"]*?'+f.get("CG_BLANK")+"*&gt;"+f.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(f,"PassInlineRx",
k(!1,["+","`",new RegExp("(^|[^"+f.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\4)(?!"+f.get("CG_WORD")+")")],!0,["`",b,new RegExp("(^|[^`"+f.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+f.get("CC_ALL")+"*?\\S)\\4)(?![`"+f.get("CC_WORD")+"])")]));a.cdecl(f,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+f.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+f.get("CC_ALL")+"*?[^\\\\])\\])"));
a.cdecl(f,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+f.get("CC_WORD")+'":.\\/]'+f.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+f.get("CC_WORD")+'":.\\/]'+f.get("CC_ALL")+"*?)\\[("+f.get("CC_ALL")+"*?)\\])"));f.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(f,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(f,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(f,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(f,"BlankLineRx",new RegExp("^"+f.get("CG_BLANK")+"*\\n"));a.cdecl(f,"DataDelimiterRx",
/,|;/);a.cdecl(f,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(f,"DoubleQuotedMultiRx",new RegExp('^("|)('+f.get("CC_ALL")+"*)\\1$"));a.cdecl(f,"TrailingDigitsRx",/\d+$/);a.cdecl(f,"EscapedSpaceRx",new RegExp("\\\\("+f.get("CG_BLANK")+")"));a.cdecl(f,"SpaceDelimiterRx",new RegExp("([^\\\\])"+f.get("CG_BLANK")+"+"));a.cdecl(f,"SubModifierSniffRx",/[+-]/);a.cdecl(f,"UnicodeCharScanRx",function(){f.get("RUBY_ENGINE")["$=="]("opal");return b}());a.cdecl(f,"UriSniffRx",new RegExp("^"+f.get("CG_ALPHA")+"["+
f.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(f,"UriTerminator",/[);:]$/);a.cdecl(f,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(f,"INTRINSIC_ATTRIBUTES",v("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));I=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+f.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\*(?!"+f.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+
';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+f.get("CC_ALL")+'*?\\S)`"(?!'+f.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)`'(?!"+f.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+f.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)`(?!["+f.get("CC_WORD")+"\"'`])")],
["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+f.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+f.get("CC_ALL")+"*?\\S)_(?!"+f.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+f.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+f.get("CC_ALL")+"*?\\S)#(?!"+f.get("CG_WORD")+")")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];E=I.$dup();E["$[]="](2,["double","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+f.get("CC_ALL")+"*?\\S)''(?!"+f.get("CG_WORD")+")")]);E["$[]="](3,["single","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)'(?!"+f.get("CG_WORD")+")")]);E["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
f.get("CC_ALL")+"+?)\\+\\+")]);E["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\+(?!"+f.get("CG_WORD")+")")]);E.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+f.get("CC_ALL")+"*?\\S)'(?!"+f.get("CG_WORD")+")")]);a.cdecl(f,"QUOTE_SUBS",k(!1,I,!0,E));E=I=b;a.cdecl(f,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,
"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+f.get("CG_WORD")+")\\\\?--(?="+f.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+f.get("CG_ALNUM")+")\\\\?'(?="+f.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,
"","bounding"]]);(function(c){var d=c.$$scope,f,g,h,k;a.defn(c,"$load",f=function(c,e){var f,g,h,k,l,m,n,p,q,w=this,y=b,z=b,E=b,H=b,I=b,J=b,L=b,N=b,F=b,ba=b,x=b,ca=b,B=b,W=b;null==e&&(e=v([],{}));try{e=e.$dup();(f=y=e["$[]"]("timings"))===b||null==f||f.$$is_boolean&&1!=f||y.$start("read");z=e["$[]="]("attributes",function(){if((f=(E=e["$[]"]("attributes"))["$!"]())===b||null==f||f.$$is_boolean&&1!=f){if((f=!1!==(g=a.get("Hash")["$==="](E))&&g!==b&&null!=g?g:(h=a.get("RUBY_ENGINE_JRUBY"),!1!==h&&h!==
b&&null!=h?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](E):h))===b||null==f||f.$$is_boolean&&1!=f){if((f=a.get("Array")["$==="](E))===b||null==f||f.$$is_boolean&&1!=f){if((f=a.get("String")["$==="](E))===b||null==f||f.$$is_boolean&&1!=f){if((f=(m=E["$respond_to?"]("keys"),!1!==m&&m!==b&&null!=m?E["$respond_to?"]("[]"):m))===b||null==f||f.$$is_boolean&&1!=f)return w.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+E.$class().$ancestors());I=E;E=v([],{});(f=(m=
I.$keys()).$each,f.$$p=(n=function(a){null==a&&(a=b);return E["$[]="](a,I["$[]"](a))},n.$$s=w,n.$$arity=1,n),f).call(m);return E}H="\\1";E=E.$gsub(d.get("SpaceDelimiterRx"),""+H+d.get("NULL")).$gsub(d.get("EscapedSpaceRx"),H);return(f=(h=E.$split(d.get("NULL"))).$inject,f.$$p=(l=function(c,d){var e,f,g=b,h=b;null==c&&(c=b);null==d&&(d=b);f=d.$split("=",2);e=a.to_ary(f);g=null==e[0]?b:e[0];h=null==e[1]?b:e[1];f;c["$[]="](g,!1!==(e=h)&&e!==b&&null!=e?e:"");return c},l.$$s=w,l.$$arity=2,l),f).call(h,
v([],{}))}return(f=(g=E).$inject,f.$$p=(k=function(c,d){var e,f,g=b,h=b;null==c&&(c=b);null==d&&(d=b);f=d.$split("=",2);e=a.to_ary(f);g=null==e[0]?b:e[0];h=null==e[1]?b:e[1];f;c["$[]="](g,!1!==(e=h)&&e!==b&&null!=e?e:"");return c},k.$$s=w,k.$$arity=2,k),f).call(g,v([],{}))}return E.$dup()}return v([],{})}());J=b;if((f=a.get("File")["$==="](c))===b||null==f||f.$$is_boolean&&1!=f)if((f=c["$respond_to?"]("readlines"))===b||null==f||f.$$is_boolean&&1!=f)(f=a.get("String")["$==="](c))===b||null==f||f.$$is_boolean&&
1!=f?(f=a.get("Array")["$==="](c))===b||null==f||f.$$is_boolean&&1!=f?w.$raise(a.get("ArgumentError"),"unsupported input type: "+c.$class()):J=c.$dup():J=c.$lines().$entries();else{try{c.$rewind()}catch(ma){if(a.rescue(ma,[d.get("StandardError")]))try{b}finally{a.pop_exception()}else throw ma;}J=c.$readlines()}else L=a.get("File").$expand_path(c.$path()),N=(f=a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH"))===b||null==f||f.$$is_boolean&&1!=f?c.$mtime():a.get("Time").$at(a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc(),
J=c.$readlines(),z["$[]="]("docfile",L),z["$[]="]("docdir",a.get("File").$dirname(L)),z["$[]="]("docname",d.get("Helpers").$basename(L,!0)),F=(f="docdate",p=z,!1!==(q=p["$[]"](f))&&q!==b&&null!=q?q:p["$[]="](f,N.$strftime("%Y-%m-%d"))),ba=(f="doctime",p=z,!1!==(q=p["$[]"](f))&&q!==b&&null!=q?q:p["$[]="](f,N.$strftime("%H:%M:%S %Z"))),z["$[]="]("docdatetime",""+F+" "+ba);!1!==y&&y!==b&&null!=y&&(y.$record("read"),y.$start("parse"));x=e["$[]"]("parse")["$=="](!1)?d.get("Document").$new(J,e):d.get("Document").$new(J,
e).$parse();!1!==y&&y!==b&&null!=y&&y.$record("parse");return x}catch(ma){if(a.rescue(ma,[d.get("StandardError")])){ca=ma;try{try{B="asciidoctor: FAILED: "+(!1!==(f=z["$[]"]("docfile"))&&f!==b&&null!=f?f:"<stdin>")+": Failed to load AsciiDoc document",(f=ca["$respond_to?"]("exception"))===b||null==f||f.$$is_boolean&&1!=f?(W=ca.$class().$new(B,ca),f=[ca.$stack_trace()],p=W,p["$stack_trace="].apply(p,f),f[f.length-1]):(W=ca.$exception(""+B+" - "+ca.$message()),W.$set_backtrace(ca.$backtrace()))}catch(na){if(a.rescue(na,
[d.get("StandardError")]))try{W=ca}finally{a.pop_exception()}else throw na;}return w.$raise(W)}finally{a.pop_exception()}}else throw ma;}},f.$$arity=-2);a.defn(c,"$load_file",g=function(c,d){null==d&&(d=v([],{}));return this.$load(a.get("File").$new(!1!==c&&c!==b&&null!=c?c:""),d)},g.$$arity=-2);a.defn(c,"$convert",h=function(c,f){var g,h,k,m,n,p,q,w=b,y=b,z=b,E=b,H=b,I=b,J=b,L=b,N=b,fa=b,da=H=b,F=w=w=L=I=b,ba=I=y=b,x=w=J=E=b,ca=z=b;null==f&&(f=v([],{}));f=f.$dup();f.$delete("parse");w=f.$delete("to_file");
y=f.$delete("to_dir");z=!1!==(g=f.$delete("mkdirs"))&&g!==b&&null!=g?g:!1;E=f["$[]"]("timings");H=w;if((!0)["$==="](H)||b["$==="](H))I=(g=y["$!"](),!1!==g&&g!==b&&null!=g?a.get("File")["$==="](c):g),J=!1,L=y,w=b;else if((!1)["$==="](H))L=J=I=!1,w=b;else{if("/dev/null"["$==="](H))return this.$load(c,f);I=!1;J=w["$respond_to?"]("write");L=!1!==J&&J!==b&&null!=J?!1:w}if(((g=f["$key?"]("header_footer"))===b||null==g||g.$$is_boolean&&1!=g)&&(g=!1!==(h=I)&&h!==b&&null!=h?h:L)!==b&&null!=g&&(!g.$$is_boolean||
1==g))f["$[]="]("header_footer",!0);if(!1!==I&&I!==b&&null!=I)N=a.get("File").$expand_path(c.$path()),f["$[]="]("to_dir",fa=a.get("File").$dirname(N));else if(!1!==L&&L!==b&&null!=L)if(!1!==y&&y!==b&&null!=y)if(!1!==w&&w!==b&&null!=w)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(y,w))));else f["$[]="]("to_dir",a.get("File").$expand_path(y));else{if(!1!==w&&w!==b&&null!=w)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(w)))}else f["$[]="]("to_dir",
b);H=this.$load(c,f);if(!1!==I&&I!==b&&null!=I)da=a.get("File").$join(fa,""+H.$attributes()["$[]"]("docname")+H.$outfilesuffix()),da["$=="](N)&&this.$raise(a.get("IOError"),"input file and output file cannot be the same: "+da);else if(!1!==L&&L!==b&&null!=L){if(I=(g=f["$has_key?"]("base_dir"))===b||null==g||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(f["$[]"]("base_dir")),L=(g=l(H.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===b||null==g||g.$$is_boolean&&
1!=g?b:I,!1!==y&&y!==b&&null!=y?(fa=H.$normalize_system_path(y,I,L,v(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==w&&w!==b&&null!=w?(da=H.$normalize_system_path(w,fa,b,v(["target_name","recover"],{target_name:"to_dir",recover:!1})),fa=a.get("File").$dirname(da)):da=a.get("File").$join(fa,""+H.$attributes()["$[]"]("docname")+H.$outfilesuffix())):!1!==w&&w!==b&&null!=w&&(da=H.$normalize_system_path(w,I,L,v(["target_name","recover"],{target_name:"to_dir",recover:!1})),fa=a.get("File").$dirname(da)),
(g=a.get("File")["$directory?"](fa))===b||null==g||g.$$is_boolean&&1!=g)!1!==z&&z!==b&&null!=z?d.get("Helpers").$mkdir_p(fa):this.$raise(a.get("IOError"),"target directory does not exist: "+y)}else da=w,fa=b;!1!==E&&E!==b&&null!=E&&E.$start("convert");w=(g=(h=!1!==da&&da!==b&&null!=da)?J["$!"]():da)===b||null==g||g.$$is_boolean&&1!=g?v([],{}):v(["outfile","outdir"],{outfile:da,outdir:fa});w=H.$convert(w);!1!==E&&E!==b&&null!=E&&E.$record("convert");return!1!==da&&da!==b&&null!=da?(!1!==E&&E!==b&&
null!=E&&E.$start("write"),H.$write(w,da),!1!==E&&E!==b&&null!=E&&E.$record("write"),(g=(h=(k=(m=(n=(p=J["$!"](),!1!==p&&p!==b&&null!=p?e(H.$safe(),d.get("SafeMode").$$scope.get("SECURE")):p),!1!==n&&n!==b&&null!=n?H["$attr?"]("linkcss"):n),!1!==m&&m!==b&&null!=m?H["$attr?"]("copycss"):m),!1!==k&&k!==b&&null!=k?H["$attr?"]("basebackend-html"):k),!1!==h&&h!==b&&null!=h?(k=F=H.$attr("stylesdir"),!1!==k&&k!==b&&null!=k?d.get("Helpers")["$uriish?"](F):k)["$!"]():h))===b||null==g||g.$$is_boolean&&1!=g||
(I=y=!1,(g=ba=H.$attr("stylesheet"))===b||null==g||g.$$is_boolean&&1!=g||((g=d.get("DEFAULT_STYLESHEET_KEYS")["$include?"](ba))===b||null==g||g.$$is_boolean&&1!=g?(g=d.get("Helpers")["$uriish?"](ba)["$!"]())===b||null==g||g.$$is_boolean&&1!=g||(I=!0):y=!0),E=(g=H["$attr?"]("source-highlighter","coderay"),!1!==g&&g!==b&&null!=g?H.$attr("coderay-css","class")["$=="]("class"):g),J=(g=H["$attr?"]("source-highlighter","pygments"),!1!==g&&g!==b&&null!=g?H.$attr("pygments-css","class")["$=="]("class"):g),
(g=!1!==(h=!1!==(k=!1!==(m=y)&&m!==b&&null!=m?m:I)&&k!==b&&null!=k?k:E)&&h!==b&&null!=h?h:J)===b||null==g||g.$$is_boolean&&1!=g||(w=H.$normalize_system_path(F,fa,(g=l(H.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===b||null==g||g.$$is_boolean&&1!=g?b:fa),!1!==z&&z!==b&&null!=z&&d.get("Helpers").$mkdir_p(w),!1!==y&&y!==b&&null!=y?d.get("Stylesheets").$instance().$write_primary_stylesheet(w):!1!==I&&I!==b&&null!=I&&(x=(g=(x=H.$attr("copycss"))["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g?H.$normalize_system_path(x):
H.$normalize_system_path(ba),z=H.$normalize_system_path(ba,w,(g=l(H.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===b||null==g||g.$$is_boolean&&1!=g?b:fa),((g=!1!==(h=x["$=="](z))&&h!==b&&null!=h?h:(ca=H.$read_asset(x))["$nil?"]())===b||null==g||g.$$is_boolean&&1!=g)&&(g=(h=a.get("File")).$open,g.$$p=(q=function(a){null==a&&(a=b);return a.$write(ca)},q.$$s=this,q.$$arity=1,q),g).call(h,z,"w")),!1!==E&&E!==b&&null!=E?d.get("Stylesheets").$instance().$write_coderay_stylesheet(w):!1!==J&&J!==b&&null!=
J&&d.get("Stylesheets").$instance().$write_pygments_stylesheet(w,H.$attr("pygments-style")))),H):w},h.$$arity=-2);a.alias(c,"render","convert");a.defn(c,"$convert_file",k=function(c,d){null==d&&(d=v([],{}));return this.$convert(a.get("File").$new(!1!==c&&c!==b&&null!=c?c:""),d)},k.$$arity=-2);return a.alias(c,"render_file","convert_file")})(a.get_singleton_class(c));f.get("RUBY_ENGINE")["$=="]("opal")&&(c.$require("asciidoctor/version"),c.$require("asciidoctor/timings"))})(a.base);h.$require("asciidoctor/core_ext");
h.$require("asciidoctor/helpers");h.$require("asciidoctor/substitutors");h.$require("asciidoctor/abstract_node");h.$require("asciidoctor/abstract_block");h.$require("asciidoctor/attribute_list");h.$require("asciidoctor/block");h.$require("asciidoctor/callouts");h.$require("asciidoctor/converter");(g=a.get("RUBY_ENGINE_OPAL"))===b||null==g||g.$$is_boolean&&1!=g||h.$require("asciidoctor/converter/html5");h.$require("asciidoctor/document");h.$require("asciidoctor/inline");h.$require("asciidoctor/list");
h.$require("asciidoctor/parser");h.$require("asciidoctor/path_resolver");h.$require("asciidoctor/reader");h.$require("asciidoctor/section");h.$require("asciidoctor/stylesheets");return h.$require("asciidoctor/table")})(Opal);
(function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.nil,h=a.module,b=a.klass,c=a.hash2,d=a.range,v=a.hash;a.add_stubs("$[]= $config $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $=== $has_more_lines? $next_block $dup $<< $each $define_method $send $insert $call $attr_accessor $[] $option $to_set $flatten $resolve_regexp $== $attr $method $register $arity $instance_exec $to_proc $activate $+ $values $groups $add_document_processor $! $any? $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $upcase $chr $split $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $- $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));
return function(w){(function(k){k=h(k,"Extensions");var p=k.$$scope;(function(d,$super){function e(){}var h=e=b(d,$super,"Processor",e),k=h.$$scope,l,n,p,v,w,J,N,Q,A,r;h.$$proto.config=g;(function(b){var d,e,f;a.defn(b,"$config",d=function(){var a;null==this.config&&(this.config=g);return!1!==(a=this.config)&&a!==g&&null!=a?a:this.config=c([],{})},d.$$arity=0);a.defn(b,"$option",e=function(a,b){return this.$config()["$[]="](a,b)},e.$$arity=2);a.defn(b,"$use_dsl",f=function(){var a;return(a=this.$name()["$nil_or_empty?"]())===
g||null==a||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===g||null==a||a.$$is_boolean&&1!=a?g:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===g||null==a||a.$$is_boolean&&1!=a?g:this.$include(this.$const_get("DSL"))},f.$$arity=0);a.alias(b,"extend_dsl","use_dsl");return a.alias(b,"include_dsl","use_dsl")})(a.get_singleton_class(h));h.$attr_reader("config");a.defn(h,"$initialize",l=function(a){null==a&&(a=c([],{}));return this.config=this.$class().$config().$merge(a)},
l.$$arity=-1);a.defn(h,"$update_config",n=function(a){return this.config.$update(a)},n.$$arity=1);a.defn(h,"$process",p=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$raise(a.get("NotImplementedError"))},p.$$arity=-1);a.defn(h,"$create_block",v=function(a,b,d,e,f){null==f&&(f=c([],{}));return k.get("Block").$new(a,b,c(["source","attributes"],{source:d,attributes:e}).$merge(f))},v.$$arity=-5);a.defn(h,"$create_image_block",w=function(a,
b,d){null==d&&(d=c([],{}));return this.$create_block(a,"image",g,b,d)},w.$$arity=-3);a.defn(h,"$create_inline",J=function(a,b,d,e){null==e&&(e=c([],{}));return k.get("Inline").$new(a,b,d,e)},J.$$arity=-4);a.defn(h,"$parse_content",N=function(a,b,d){var e,f,h=g,l=g;null==d&&(d=g);for(h=(e=k.get("Reader")["$==="](b))===g||null==e||e.$$is_boolean&&1!=e?k.get("Reader").$new(b):b;(f=h["$has_more_lines?"]())!==g&&null!=f&&(!f.$$is_boolean||1==f);)if(l=k.get("Parser").$next_block(h,a,!1!==d&&d!==g&&null!=
d?d.$dup():c([],{})),!1!==l&&l!==g&&null!=l)a["$<<"](l);return a},N.$$arity=-3);return(Q=(A=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,Q.$$p=(r=function(b,c,d){var e=r.$$s||this,f,h;null==b&&(b=g);null==c&&
(c=g);null==d&&(d=g);return(f=e.$define_method,f.$$p=(h=function(b){var e=h.$$s||this,f,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var k=0;k<g;k++)f[k-0]=arguments[k];return e.$send.apply(e,[c].concat(a.to_a(f.$dup().$insert(1,d))))},h.$$s=e,h.$$arity=-1,h),f).call(e,b)},r.$$s=h,r.$$arity=3,r),Q).call(A)})(p.base,null);(function(b){b=h(b,"ProcessorDsl");var c,d,e;a.defn(b,"$option",c=function(a,b){return this.$config()["$[]="](a,b)},c.$$arity=2);a.defn(b,"$process",d=function(b){var c,e,f=
d.$$p||g;null==this.process_block&&(this.process_block=g);var h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var k=0;k<h;k++)e[k-0]=arguments[k];d.$$p=null;return f!==g?this.process_block=f:(c=this.process_block)===g||null==c||c.$$is_boolean&&1!=c?this.$raise(a.get("NotImplementedError")):(c=this.process_block).$call.apply(c,a.to_a(e))},d.$$arity=-1);a.defn(b,"$process_block_given?",e=function(){var a;return(a=this.process_block,null!=a&&a!==g)?"instance-variable":g},e.$$arity=0)})(p.base);(function(c,
$super){function d(){}var e=d=b(c,$super,"Preprocessor",d),h;return(a.defn(e,"$process",h=function(b,c){return this.$raise(a.get("NotImplementedError"))},h.$$arity=2),g)&&"process"})(p.base,p.get("Processor"));a.casgn(p.get("Preprocessor"),"DSL",p.get("ProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"Treeprocessor",d),h;return(a.defn(e,"$process",h=function(b){return this.$raise(a.get("NotImplementedError"))},h.$$arity=1),g)&&"process"})(p.base,p.get("Processor"));a.casgn(p.get("Treeprocessor"),
"DSL",p.get("ProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"Postprocessor",d),h;return(a.defn(e,"$process",h=function(b,c){return this.$raise(a.get("NotImplementedError"))},h.$$arity=2),g)&&"process"})(p.base,p.get("Processor"));a.casgn(p.get("Postprocessor"),"DSL",p.get("ProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"IncludeProcessor",d),h,k;a.defn(e,"$process",h=function(b,c,d,e){return this.$raise(a.get("NotImplementedError"))},h.$$arity=4);return(a.defn(e,
"$handles?",k=function(a){return!0},k.$$arity=1),g)&&"handles?"})(p.base,p.get("Processor"));a.casgn(p.get("IncludeProcessor"),"DSL",p.get("ProcessorDsl"));(function(d,$super){function e(){}var h=e=b(d,$super,"DocinfoProcessor",e),k,l;h.$$proto.config=g;h.$attr_accessor("location");a.defn(h,"$initialize",k=function(b){var d,e,f;null==b&&(b=c([],{}));k.$$p=null;(d=a.find_super_dispatcher(this,"initialize",k,!1),d.$$p=null,d).call(this,b);return d="location",e=this.config,!1!==(f=e["$[]"](d))&&f!==
g&&null!=f?f:e["$[]="](d,"head")},k.$$arity=-1);return(a.defn(h,"$process",l=function(b){return this.$raise(a.get("NotImplementedError"))},l.$$arity=1),g)&&"process"})(p.base,p.get("Processor"));(function(b){b=h(b,"DocinfoProcessorDsl");var c;b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",c=function(a){return this.$option("location",a)},c.$$arity=1)})(p.base);a.casgn(p.get("DocinfoProcessor"),"DSL",p.get("DocinfoProcessorDsl"));(function(d,$super){function e(){}var h=e=b(d,$super,
"BlockProcessor",e),k,l;h.$$proto.config=g;h.$attr_accessor("name");a.defn(h,"$initialize",k=function(b,d){var e,f,h,l=g;null==b&&(b=g);null==d&&(d=c([],{}));k.$$p=null;(e=a.find_super_dispatcher(this,"initialize",k,!1),e.$$p=null,e).call(this,d);this.name=!1!==(e=b)&&e!==g&&null!=e?e:this.config["$[]"]("name");l=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](l))e="contexts",f=this.config,!1!==(h=f["$[]"](e))&&h!==g&&null!=h?h:f["$[]="](e,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](l))this.config["$[]="]("contexts",
[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",this.config["$[]"]("contexts").$to_set());return e="content_model",f=this.config,!1!==(h=f["$[]"](e))&&h!==g&&null!=h?h:f["$[]="](e,"compound")},k.$$arity=-1);return(a.defn(h,"$process",l=function(b,c,d){return this.$raise(a.get("NotImplementedError"))},l.$$arity=3),g)&&"process"})(p.base,p.get("Processor"));(function(b){b=h(b,"BlockProcessorDsl");var c=b.$$scope,d,e,k,l,n;b.$include(c.get("ProcessorDsl"));a.defn(b,"$named",
d=function(a){var b;return(b=c.get("Processor")["$==="](this))===g||null==b||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a},d.$$arity=1);a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",e=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten())},e.$$arity=-1);a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",k=function(a){return this.$option("content_model",
a)},k.$$arity=1);a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",l=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},l.$$arity=-1);a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",n=function(a){return this.$option("default_attrs",
a)},n.$$arity=1);a.alias(b,"seed_attributes_with","default_attrs")})(p.base);a.casgn(p.get("BlockProcessor"),"DSL",p.get("BlockProcessorDsl"));(function(d,$super){function e(){}var h=e=b(d,$super,"MacroProcessor",e),k,l;h.$$proto.config=g;h.$attr_accessor("name");a.defn(h,"$initialize",k=function(b,d){var e,f,h;null==b&&(b=g);null==d&&(d=c([],{}));k.$$p=null;(e=a.find_super_dispatcher(this,"initialize",k,!1),e.$$p=null,e).call(this,d);this.name=!1!==(e=b)&&e!==g&&null!=e?e:this.config["$[]"]("name");
return e="content_model",f=this.config,!1!==(h=f["$[]"](e))&&h!==g&&null!=h?h:f["$[]="](e,"attributes")},k.$$arity=-1);return(a.defn(h,"$process",l=function(b,c,d){return this.$raise(a.get("NotImplementedError"))},l.$$arity=3),g)&&"process"})(p.base,p.get("Processor"));(function(b){b=h(b,"MacroProcessorDsl");var c=b.$$scope,d,e,k,l;b.$include(c.get("ProcessorDsl"));a.defn(b,"$named",d=function(a){var b;return(b=c.get("Processor")["$==="](this))===g||null==b||b.$$is_boolean&&1!=b?this.$option("name",
a):this.name=a},d.$$arity=1);a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",e=function(a){return this.$option("content_model",a)},e.$$arity=1);a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",k=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},k.$$arity=-1);a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes",
"positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",l=function(a){return this.$option("default_attrs",a)},l.$$arity=1);a.alias(b,"seed_attributes_with","default_attrs")})(p.base);(function(a,$super){function c(){}c=b(a,$super,"BlockMacroProcessor",c);return g})(p.base,p.get("MacroProcessor"));a.casgn(p.get("BlockMacroProcessor"),"DSL",p.get("MacroProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"InlineMacroProcessor",
d),h=e.$$proto,k,l;h.config=h.name=g;a.defn(e,"$regexp",k=function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==g&&null!=b?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))},k.$$arity=0);return(a.defn(e,"$resolve_regexp",l=function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},l.$$arity=2),g)&&"resolve_regexp"})(p.base,p.get("MacroProcessor"));(function(b){b=
h(b,"InlineMacroProcessorDsl");var c,d;b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",c=function(a){return this.$option("format",a)},c.$$arity=1);a.defn(b,"$match",d=function(a){return this.$option("regexp",a)},d.$$arity=1)})(p.base);a.casgn(p.get("InlineMacroProcessor"),"DSL",p.get("InlineMacroProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"Extension",d),h;e.$attr("kind");e.$attr("config");e.$attr("instance");return(a.defn(e,"$initialize",h=function(a,
b,c){this.kind=a;this.instance=b;return this.config=c},h.$$arity=3),g)&&"initialize"})(p.base,null);(function(c,$super){function d(){}var e=d=b(c,$super,"ProcessorExtension",d),h;e.$attr("process_method");return(a.defn(e,"$initialize",h=function(b,c,d){var e;null==d&&(d=g);h.$$p=null;(e=a.find_super_dispatcher(this,"initialize",h,!1),e.$$p=null,e).call(this,b,c,c.$config());return this.process_method=!1!==(e=d)&&e!==g&&null!=e?e:c.$method("process")},h.$$arity=-3),g)&&"initialize"})(p.base,p.get("Extension"));
(function(c,$super){function d(){}var e=d=b(c,$super,"Group",d),h;(function(b){var c=b.$$scope,d;return(a.defn(b,"$register",d=function(a){null==a&&(a=g);return c.get("Extensions").$register(a,this)},d.$$arity=-1),g)&&"register"})(a.get_singleton_class(e));return(a.defn(e,"$activate",h=function(b){return this.$raise(a.get("NotImplementedError"))},h.$$arity=1),g)&&"activate"})(p.base,null);(function(f,$super){function h(){}var k=h=b(f,$super,"Registry",h),p=k.$$proto,v=k.$$scope,w,u,H,L,J,N,Q,A,r,
P,S,R,Z,aa,V,O,T,Y,X,ea,ha,ia,ka,la,fa,da,F,ba,x,ca,B,W,ma,na;p.groups=p.preprocessor_extensions=p.treeprocessor_extensions=p.postprocessor_extensions=p.include_processor_extensions=p.docinfo_processor_extensions=p.block_extensions=p.block_macro_extensions=p.inline_macro_extensions=g;k.$attr_reader("document");k.$attr_reader("groups");a.defn(k,"$initialize",w=function(a){null==a&&(a=c([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=
this.preprocessor_extensions=this.treeprocessor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=g},w.$$arity=-1);a.defn(k,"$activate",u=function(b){var c,d,e;this.document=b;(c=(d=l(v.get("Extensions").$groups().$values(),this.groups.$values())).$each,c.$$p=(e=function(b){var c=e.$$s||this,d,f=g;null==b&&(b=g);f=b;a.get("Proc")["$==="](f)?(f=b.$arity(),b=0["$==="](f)||-1["$==="](f)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](f)?
b.$call(c):g):b=a.get("Class")["$==="](f)?b.$new().$activate(c):b.$activate(c);return b},e.$$s=this,e.$$arity=1,e),c).call(d);return this},u.$$arity=1);a.defn(k,"$preprocessor",H=function(a){var b,c,d=H.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];H.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"preprocessor",c)},H.$$arity=-1);a.defn(k,"$preprocessors?",L=function(){return this.preprocessor_extensions["$!"]()["$!"]()},
L.$$arity=0);a.defn(k,"$preprocessors",J=function(){return this.preprocessor_extensions},J.$$arity=0);a.defn(k,"$treeprocessor",N=function(a){var b,c,d=N.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];N.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"treeprocessor",c)},N.$$arity=-1);a.defn(k,"$treeprocessors?",Q=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},Q.$$arity=0);a.defn(k,"$treeprocessors",A=function(){return this.treeprocessor_extensions},
A.$$arity=0);a.defn(k,"$postprocessor",r=function(a){var b,c,d=r.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];r.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"postprocessor",c)},r.$$arity=-1);a.defn(k,"$postprocessors?",P=function(){return this.postprocessor_extensions["$!"]()["$!"]()},P.$$arity=0);a.defn(k,"$postprocessors",S=function(){return this.postprocessor_extensions},S.$$arity=0);a.defn(k,"$include_processor",
R=function(a){var b,c,d=R.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];R.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"include_processor",c)},R.$$arity=-1);a.defn(k,"$include_processors?",Z=function(){return this.include_processor_extensions["$!"]()["$!"]()},Z.$$arity=0);a.defn(k,"$include_processors",aa=function(){return this.include_processor_extensions},aa.$$arity=0);a.defn(k,"$docinfo_processor",V=function(a){var b,
c,d=V.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];V.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"docinfo_processor",c)},V.$$arity=-1);a.defn(k,"$docinfo_processors?",O=function(a){var b,c,d;null==a&&(a=g);return(b=this.docinfo_processor_extensions)===g||null==b||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==g&&null!=a?(b=(c=this.docinfo_processor_extensions)["$any?"],b.$$p=(d=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},
d.$$s=this,d.$$arity=1,d),b).call(c):!0},O.$$arity=-1);a.defn(k,"$docinfo_processors",T=function(a){var b,c,d;null==a&&(a=g);return(b=this.docinfo_processor_extensions)===g||null==b||b.$$is_boolean&&1!=b?g:!1!==a&&a!==g&&null!=a?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d.$$arity=1,d),b).call(c):this.docinfo_processor_extensions},T.$$arity=-1);a.defn(k,"$block",Y=function(a){var b,c,d=Y.$$p||g,e=
arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];Y.$$p=null;return(b=this.$add_syntax_processor,b.$$p=d.$to_proc(),b).call(this,"block",c)},Y.$$arity=-1);a.defn(k,"$blocks?",X=function(){return this.block_extensions["$!"]()["$!"]()},X.$$arity=0);a.defn(k,"$registered_for_block?",ea=function(a,b){var c,d=g;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===g||null==c||c.$$is_boolean&&1!=c?!1:(c=d.$config()["$[]"]("contexts")["$include?"](b))===g||null==c||c.$$is_boolean&&
1!=c?!1:d},ea.$$arity=2);a.defn(k,"$find_block_extension",ha=function(a){return this.block_extensions["$[]"](a.$to_sym())},ha.$$arity=1);a.defn(k,"$block_macro",ia=function(a){var b,c,d=ia.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];ia.$$p=null;return(b=this.$add_syntax_processor,b.$$p=d.$to_proc(),b).call(this,"block_macro",c)},ia.$$arity=-1);a.defn(k,"$block_macros?",ka=function(){return this.block_macro_extensions["$!"]()["$!"]()},ka.$$arity=0);
a.defn(k,"$registered_for_block_macro?",la=function(a){var b,c=g;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===g||null==b||b.$$is_boolean&&1!=b?!1:c},la.$$arity=1);a.defn(k,"$find_block_macro_extension",fa=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},fa.$$arity=1);a.defn(k,"$inline_macro",da=function(a){var b,c,d=da.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];da.$$p=null;return(b=this.$add_syntax_processor,b.$$p=
d.$to_proc(),b).call(this,"inline_macro",c)},da.$$arity=-1);a.defn(k,"$inline_macros?",F=function(){return this.inline_macro_extensions["$!"]()["$!"]()},F.$$arity=0);a.defn(k,"$registered_for_inline_macro?",ba=function(a){var b,c=g;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===g||null==b||b.$$is_boolean&&1!=b?!1:c},ba.$$arity=1);a.defn(k,"$find_inline_macro_extension",x=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},x.$$arity=1);a.defn(k,"$inline_macros",ca=
function(){return this.inline_macro_extensions.$values()},ca.$$arity=0);k.$private();a.defn(k,"$add_document_processor",B=function(b,c){var e,f,h,k,l,p,r=this,q=B.$$p||g,u=g,w=g,x=g,y=g,z=w=g,A=g,F=g,H=g;B.$$p=null;u=b.$to_s().$tr("_"," ");w=(e=(f=u.$split(" ")).$map,e.$$p=(h=function(a){null==a&&(a=g);return""+a.$chr().$upcase()+a["$[]"](d(1,-1,!1))},h.$$s=r,h.$$arity=1,h),e).call(f).$join().$to_sym();x=v.get("Extensions").$const_get(w);y=(e=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||
null==e||e.$$is_boolean&&1!=e?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(w);w=!1!==(e=r.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&e!==g&&null!=e?e:r.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);z=function(){if(q!==g)return A=r.$resolve_args(c,1),F=x.$new(A),(e=x.$constants().$grep("DSL"))===g||null==e||e.$$is_boolean&&1!=e||F.$extend(x.$const_get("DSL")),(e=(k=F).$instance_exec,e.$$p=q.$to_proc(),e).call(k),F.$freeze(),((e=F["$process_block_given?"]())===
g||null==e||e.$$is_boolean&&1!=e)&&r.$raise(a.get("ArgumentError").$new("No block specified to process "+u+" extension at "+q.$source_location())),v.get("ProcessorExtension").$new(b,F);l=r.$resolve_args(c,2);e=a.to_ary(l);F=null==e[0]?g:e[0];A=null==e[1]?g:e[1];l;if((e=!1!==(l=a.get("Class")["$==="](F))&&l!==g&&null!=l?l:(p=a.get("String")["$==="](F),!1!==p&&p!==g&&null!=p?F=v.get("Extensions").$class_for_name(F):p))===g||null==e||e.$$is_boolean&&1!=e){if((e=!1!==(l=x["$==="](F))&&l!==g&&null!=l?
l:(p=!1!==y&&y!==g&&null!=y)?y["$==="](F):y)===g||null==e||e.$$is_boolean&&1!=e)return r.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+u+" extension: "+c));F.$update_config(A);F.$freeze();return v.get("ProcessorExtension").$new(b,F)}((e=!1!==(l=n(F,x))&&l!==g&&null!=l?l:(p=!1!==y&&y!==g&&null!=y)?n(F,y):y)===g||null==e||e.$$is_boolean&&1!=e)&&r.$raise(a.get("ArgumentError").$new("Invalid type for "+u+" extension: "+F));H=F.$new(A);H.$freeze();return v.get("ProcessorExtension").$new(b,
H)}();return z.$config()["$[]"]("position")["$=="](">>")?w.$unshift(z):w["$<<"](z)},B.$$arity=2);a.defn(k,"$add_syntax_processor",W=function(b,e){var f,h,k,l,p;p=W.$$p||g;var r=g,q=g,u=g,w=q=g,x=u=g,y=g,z=g,q=g;W.$$p=null;r=b.$to_s().$tr("_"," ");q=(f=(h=r.$split(" ")).$map,f.$$p=(k=function(a){null==a&&(a=g);return""+a.$chr().$upcase()+a["$[]"](d(1,-1,!1))},k.$$s=this,k.$$arity=1,k),f).call(h).$join();u=(""+q+"Processor").$to_sym();q=v.get("Extensions").$const_get(u);w=(f=null==a.Object.$$scope.AsciidoctorJ?
g:"constant")===g||null==f||f.$$is_boolean&&1!=f?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(u);u=!1!==(f=this.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&f!==g&&null!=f?f:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),c([],{}));if(p!==g)return l=this.$resolve_args(e,2),f=a.to_ary(l),x=null==f[0]?g:f[0],y=null==f[1]?g:f[1],l,z=q.$new(this.$as_symbol(x),y),(f=q.$constants().$grep("DSL"))===g||null==f||f.$$is_boolean&&1!=f||z.$extend(q.$const_get("DSL")),
p.$arity()["$=="](1)?a.yield1(p,z):(f=(l=z).$instance_exec,f.$$p=p.$to_proc(),f).call(l),((f=x=this.$as_symbol(z.$name()))===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension at "+p.$source_location())),((f=z["$process_block_given?"]())===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+r+" extension at "+p.$source_location())),z.$freeze(),u["$[]="](x,v.get("ProcessorExtension").$new(b,
z));p=this.$resolve_args(e,3);f=a.to_ary(p);z=null==f[0]?g:f[0];x=null==f[1]?g:f[1];y=null==f[2]?g:f[2];p;if((f=!1!==(p=a.get("Class")["$==="](z))&&p!==g&&null!=p?p:(l=a.get("String")["$==="](z),!1!==l&&l!==g&&null!=l?z=v.get("Extensions").$class_for_name(z):l))===g||null==f||f.$$is_boolean&&1!=f){if((f=!1!==(p=q["$==="](z))&&p!==g&&null!=p?p:(l=!1!==w&&w!==g&&null!=w)?w["$==="](z):w)===g||null==f||f.$$is_boolean&&1!=f)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+
r+" extension: "+e));z.$update_config(y);((f=x=!1!==x&&x!==g&&null!=x?(p=[this.$as_symbol(x)],l=z,l["$name="].apply(l,p),p[p.length-1]):this.$as_symbol(z.$name()))===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+z));z.$freeze();return u["$[]="](x,v.get("ProcessorExtension").$new(b,z))}((f=!1!==(p=n(z,q))&&p!==g&&null!=p?p:(l=!1!==w&&w!==g&&null!=w)?n(z,w):w)===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+
r+" extension does not inherit from "+q+": "+z));q=z.$new(this.$as_symbol(x),y);((f=x=this.$as_symbol(q.$name()))===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+z));z.$freeze();return u["$[]="](x,v.get("ProcessorExtension").$new(b,q))},W.$$arity=2);a.defn(k,"$resolve_args",ma=function(b,d){var f,h=g,k=g,l=g,h=(f=a.get("Hash")["$==="](b["$[]"](-1)))===g||null==f||f.$$is_boolean&&1!=f?c([],{}):b.$pop();if(d["$=="](1))return h;var k=
b.$size(),p=l=e(e(d,1),k);(f="number"===typeof p?0<p:p["$>"](0))===g||null==f||f.$$is_boolean&&1!=f?(f=n(l,0))===g||null==f||f.$$is_boolean&&1!=f||b.$pop(l["$-@"]()):b.$fill(g,k,l);b["$<<"](h);return b},ma.$$arity=2);return(a.defn(k,"$as_symbol",na=function(a){return!1!==a&&a!==g&&null!=a?a.$to_sym():g},na.$$arity=1),g)&&"as_symbol"})(p.base,null);(function(b){var d=b.$$scope,e,h,k,n,p,u,w,L;a.defn(b,"$generate_name",e=function(){return"extgrp"+this.$next_auto_id()},e.$$arity=0);a.defn(b,"$next_auto_id",
h=function(){var a;null==this.auto_id&&(this.auto_id=g);!1!==(a=this.auto_id)&&a!==g&&null!=a?a:this.auto_id=-1;return this.auto_id=l(this.auto_id,1)},h.$$arity=0);a.defn(b,"$groups",k=function(){var a;null==this.groups&&(this.groups=g);return!1!==(a=this.groups)&&a!==g&&null!=a?a:this.groups=c([],{})},k.$$arity=0);a.defn(b,"$build_registry",n=function(a){var b,c=n.$$p||g;null==a&&(a=g);n.$$p=null;return c!==g?(!1!==(b=a)&&b!==g&&null!=b?b:a=this.$generate_name(),d.get("Registry").$new(v(a,c))):d.get("Registry").$new()},
n.$$arity=-1);a.defn(b,"$register",p=function(b){var c,d,e=p.$$p||g,f=g,h=g,k=h=g,k=g,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(h=0;h<f;h++)d[h-0]=arguments[h];p.$$p=null;f=d.$length();e===g&&((c=(h=d.$pop())["$!"]())===g||null==c||c.$$is_boolean&&1!=c?(k=h,e=a.get("Class")["$==="](k)?h:a.get("String")["$==="](k)?this.$class_for_name(h):a.get("Symbol")["$==="](k)?this.$class_for_name(h.$to_s()):h):e=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));h=
e;k=!1!==(c=d.$pop())&&c!==g&&null!=c?c:this.$generate_name();((c=d["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+f+" for 1..2)"));return this.$groups()["$[]="](k,h)},p.$$arity=-1);a.defn(b,"$unregister_all",u=function(){return this.groups=c([],{})},u.$$arity=0);a.defn(b,"$resolve_class",w=function(b){var c;return(c=a.get("Class")["$==="](b))===g||null==c||c.$$is_boolean&&1!=c?this.$class_for_name(b.$to_s()):b},w.$$arity=1);
return(a.defn(b,"$class_for_name",L=function(b){var c,d,e,f=g,f=a.get("Object");(c=(d=b.$split("::")).$each,c.$$p=(e=function(a){var c=e.$$s||this,d;null==a&&(a=g);return(d=a["$empty?"]())===g||null==d||d.$$is_boolean&&1!=d?(d=f["$const_defined?"](a))===g||null==d||d.$$is_boolean&&1!=d?c.$raise("Could not resolve class for name: "+b):f=f.$const_get(a):g},e.$$s=this,e.$$arity=1,e),c).call(d);return f},L.$$arity=1),g)&&"class_for_name"})(a.get_singleton_class(k))})(h(w,"Asciidoctor").$$scope.base)}(a.base)})(Opal);
var toHash=function(a){return a&&!a.smap?Opal.hash(a):a};Opal.Asciidoctor.$$class.$$proto.convert=function(a,l){return this.$convert(a,toHash(l))};Opal.Asciidoctor.$$class.$$proto.convertFile=function(a,l){return this.$convert_file(a,toHash(l))};Opal.Asciidoctor.$$class.$$proto.load=function(a,l){return this.$load(a,toHash(l))};Opal.Asciidoctor.$$class.$$proto.loadFile=function(a,l){return this.$load_file(a,toHash(l))};Opal.Asciidoctor.AbstractBlock.$$proto.getTitle=function(){return this.title};
Opal.Asciidoctor.AbstractBlock.$$proto.getStyle=function(){return this.style};Opal.Asciidoctor.AbstractBlock.$$proto.getCaption=function(){return this.caption};Opal.Asciidoctor.AbstractBlock.$$proto.getLevel=function(){return this.level};Opal.Asciidoctor.AbstractBlock.$$proto.getBlocks=function(){return this.blocks};Opal.Asciidoctor.AbstractBlock.$$proto.getContent=function(){return this.$content()};Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()};
Opal.Asciidoctor.AbstractBlock.$$proto.delegate=function(){return this.$delegate()};Opal.Asciidoctor.AbstractBlock.$$proto.findBy=function(a){return this.$find_by(a)};Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()};Opal.Asciidoctor.AbstractNode.$$proto.getAttributes=function(){return this.attributes};Opal.Asciidoctor.AbstractNode.$$proto.getAttribute=function(a,l,n){a=this.$attr(a,l,n);return a===Opal.nil?void 0:a};
Opal.Asciidoctor.AbstractNode.$$proto.isAttribute=function(a,l,n){a=this["$attr?"](a,l,n);return a===Opal.nil?void 0:a};Opal.Asciidoctor.AbstractNode.$$proto.setAttribute=function(a,l,n){"undefined"===typeof n&&(n=!0);return this.$set_attribute(a,l,n)};Opal.Asciidoctor.AbstractNode.$$proto.isInline=function(){return this["$inline?"]()};Opal.Asciidoctor.AbstractNode.$$proto.isBlock=function(){return this["$block?"]()};Opal.Asciidoctor.AbstractNode.$$proto.isRole=function(a){return this["$role?"](a)};
Opal.Asciidoctor.AbstractNode.$$proto.getRole=function(){return this.$role()};Opal.Asciidoctor.AbstractNode.$$proto.hasRole=function(a){return this["$has_role?"](a)};Opal.Asciidoctor.AbstractNode.$$proto.getRoles=function(){return this.$roles()};Opal.Asciidoctor.AbstractNode.$$proto.addRole=function(a){return this.$add_role(a)};Opal.Asciidoctor.AbstractNode.$$proto.removeRole=function(a){return this.$remove_role(a)};Opal.Asciidoctor.AbstractNode.$$proto.isReftext=function(){return this["$reftext?"]()};
Opal.Asciidoctor.AbstractNode.$$proto.getReftext=function(){return this.$reftext()};Opal.Asciidoctor.AbstractNode.$$proto.getContext=function(){var a=this.context;return a&&"function"===typeof a.$to_s?a.$to_s():a};Opal.Asciidoctor.AbstractNode.$$proto.getId=function(){return this.id};Opal.Asciidoctor.AbstractNode.$$proto.isOption=function(a){return this["$option?"](a)};Opal.Asciidoctor.AbstractNode.$$proto.setOption=function(a){return this.$set_option(a)};
Opal.Asciidoctor.AbstractNode.$$proto.getIconURI=function(a){return this.$icon_uri(a)};Opal.Asciidoctor.AbstractNode.$$proto.getMediaURI=function(a,l){return this.$media_uri(a,l)};Opal.Asciidoctor.AbstractNode.$$proto.getImageURI=function(a,l){return this.$image_uri(a,l)};Opal.Asciidoctor.AbstractNode.$$proto.getConverter=function(){return this.$converter()};Opal.Asciidoctor.AbstractNode.$$proto.readContents=function(a,l){return this.$read_contents(a,toHash(l))};
Opal.Asciidoctor.AbstractNode.$$proto.readAsset=function(a,l){return this.$read_asset(a,toHash(l))};Opal.Asciidoctor.AbstractNode.$$proto.normalizeWebPath=function(a,l,n){return this.$normalize_web_path(a,l,n)};Opal.Asciidoctor.AbstractNode.$$proto.normalizeSystemPath=function(a,l,n,e){return this.$normalize_system_path(a,l,n,toHash(e))};Opal.Asciidoctor.AbstractNode.$$proto.normalizeAssetPath=function(a,l,n){return this.$normalize_asset_path(a,l,n)};Opal.Asciidoctor.Document.$$proto.getHeader=function(){return this.header};
Opal.Asciidoctor.Document.$$proto.setAttribute=function(a,l){return this.$set_attribute(a,l)};Opal.Asciidoctor.Document.$$proto.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};Opal.Asciidoctor.Document.$$proto.convert=function(a){return this.$convert(toHash(a))};Opal.Asciidoctor.Document.$$proto.write=function(a,l){return this.$write(a,l)};Opal.Asciidoctor.Document.$$proto.getAuthor=function(){return this.$author()};
Opal.Asciidoctor.Document.$$proto.getSource=function(){return this.$source()};Opal.Asciidoctor.Document.$$proto.getSourceLines=function(){return this.$source_lines()};Opal.Asciidoctor.Document.$$proto.isNested=function(){return this["$nested?"]()};Opal.Asciidoctor.Document.$$proto.hasFootnotes=function(){return this["$footnotes?"]()};Opal.Asciidoctor.Document.$$proto.getFootnotes=function(){return this.$footnotes()};Opal.Asciidoctor.Document.$$proto.isEmbedded=function(){return this["$embedded?"]()};
Opal.Asciidoctor.Document.$$proto.hasExtensions=function(){return this["$extensions?"]()};Opal.Asciidoctor.Document.$$proto.getDoctype=function(){return this.$doctype()};Opal.Asciidoctor.Document.$$proto.getBackend=function(){return this.$backend()};Opal.Asciidoctor.Document.$$proto.isBasebackend=function(a){return this["$basebackend?"](a)};Opal.Asciidoctor.Document.$$proto.getTitle=function(){return this.$title()};Opal.Asciidoctor.Document.$$proto.setTitle=function(a){return this["$title="](a)};
Opal.Asciidoctor.Document.$$proto.getDoctitle=function(a){return this.$doctitle(toHash(a))};Opal.Asciidoctor.Document.$$proto.getRevdate=function(){return this.$revdate()};Opal.Asciidoctor.Document.$$proto.getNotitle=function(){return this.$notitle()};Opal.Asciidoctor.Document.$$proto.getNoheader=function(){return this.$noheader()};Opal.Asciidoctor.Document.$$proto.getNofooter=function(){return this.$nofooter()};Opal.Asciidoctor.Document.$$proto.hasHeader=function(){return this["$header?"]()};
Opal.Asciidoctor.Document.$$proto.deleteAttribute=function(a){return this.$delete_attribute(a)};Opal.Asciidoctor.Document.$$proto.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};Opal.Asciidoctor.Document.$$proto.parse=function(a){return this.$parse(a)};Opal.Asciidoctor.Document.$$proto.getDocinfo=function(a,l){return this.$docinfo(a,l)};Opal.Asciidoctor.Document.$$proto.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};
Opal.Asciidoctor.Document.$$proto.counterIncrement=function(a,l){return this.$counter_increment(a,l)};Opal.Asciidoctor.Document.$$proto.counter=function(a,l){return this.$counter(a,l)};Opal.Asciidoctor.Document.$$proto.getSafe=function(){return this.$safe};Opal.Asciidoctor.Document.$$proto.getCompatMode=function(){return this.$compat_mode};Opal.Asciidoctor.Document.$$proto.getSourcemap=function(){return this.$sourcemap};Opal.Asciidoctor.Document.$$proto.getReferences=function(){return this.$references};
Opal.Asciidoctor.Document.$$proto.getCounters=function(){return this.$counters};Opal.Asciidoctor.Document.$$proto.getCallouts=function(){return this.$callouts};Opal.Asciidoctor.Document.$$proto.getBaseDir=function(){return this.$base_dir};Opal.Asciidoctor.Document.$$proto.getOptions=function(){return this.$options};Opal.Asciidoctor.Document.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix};Opal.Asciidoctor.Document.$$proto.getParentDocument=function(){return this.$parent_document};
Opal.Asciidoctor.Document.$$proto.getReader=function(){return this.$reader};Opal.Asciidoctor.Document.$$proto.getConverter=function(){return this.$converter};Opal.Asciidoctor.Document.$$proto.getExtensions=function(){return this.$extensions};Opal.Asciidoctor.Document.Title.$$proto.getMain=function(){return this.main};Opal.Asciidoctor.Document.Title.$$proto.getCombined=function(){return this.combined};Opal.Asciidoctor.Document.Title.$$proto.getSubtitle=function(){return this.subtitle};
Opal.Asciidoctor.Document.Title.$$proto.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};Opal.Asciidoctor.Document.Title.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};var Extensions=Opal.Asciidoctor.$$scope.Extensions;Extensions.register=function(a,l){Opal.block_send(Opal.Asciidoctor.Extensions,"register",a,l)};Extensions.Registry.$$proto.inlineMacro=function(a,l){return Opal.block_send(this,"inline_macro",a,l)};
Extensions.InlineMacroProcessor.$$proto.process=function(a){return Opal.block_send(this,"process",a)};
